

<!doctype html>
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Don't get hysterical - they are just unicode function names</title>
  <meta name="google-site-verification" content="CGcacJdHc2YoZyI0Vey9XRA5qwhhFDzThKJezbRFcJ4" />
  <meta name="description" content="Chemical Engineering at Carnegie Mellon University">
  <meta name="author" content="John Kitchin">
  <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="/blog/feed" />
  <link rel="alternate" type="application/atom+xml" title="Atom 1.0" href="/blog/feed/atom" />
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/img/apple-touch-icon.png">

  <link rel="stylesheet" href="/css/base.css?v=1">
  <link rel="stylesheet" href="/css/grid.css?v=1">
  <link rel="stylesheet" media="handheld" href="/css/handheld.css?v=1">
  <link rel="stylesheet" href="/css/pygments_murphy.css" type="text/css" />

  <script src="/js/libs/modernizr-1.7.min.js"></script>
<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
  <link rel="stylesheet" href="/themes/theme1/style.css?v=1">
<link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>

</head>
  <body>
    <div id="container" class="container container_12">
      <div id="main" role="main">
        <div id="main_block">
          <header>
<div id="header" class="header_gradient theme_font">
<table><tr><td>
    <h1><a href="/">The Kitchin Research Group</a></h1>
    <h2>Chemical Engineering at Carnegie Mellon University</h2>
</td>
<td colspan=100%><div style="float:right;width:100%;text-align:right;"> <span id='badgeCont737515' style='width:126px'><script src='http://labs.researcherid.com/mashlets?el=badgeCont737515&mashlet=badge&showTitle=false&className=a&rid=A-2363-2010'></script></span></div>
</td></tr>
</table>
</div>
  <div id="navigation" class="grid_12">

    <ul class="theme_font">
      <li><a href="/blog"
             class="">Blog</a></li>

      <li><a href="/blog/archive"
             class="">Archives</a></li>

      <li><a href="/publications/index.html">Publications</a></li>
      <li><a href="/group.html">Group</a></li>

      <li><a href="/research.html"
             class="">Research</a></li>

      <li><a href="/categories.html"
             class="">Categories</a></li>

      <li><a href="/about.html"
             class="">About us</a></li>

      <li><a href="/subscribe.html">Subscribe</a></li>

    </ul>
  </div>
</header>

          <div id="prose_block" class="grid_8">
            






<article>
  <div class="blog_post">
    <header>
      <div id="Don-t-get-hysterical-they-are-just-unicode-function-names"></div>
      <h2 class="blog_post_title"><a href="/blog/2016/04/23/Don-t-get-hysterical-they-are-just-unicode-function-names/" rel="bookmark" title="Permanent Link to Don't get hysterical - they are just unicode function names">Don't get hysterical - they are just unicode function names</a></h2>
      <p><small><span class="blog_post_date">Posted April 23, 2016 at 12:57 PM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/hylang/'>hylang</a></span> | tags: 
        | <a href="http://jkitchin.github.io/blog/2016/04/23/Don-t-get-hysterical-they-are-just-unicode-function-names#disqus_thread">View Comments</a>
      </small></p>
    </header>
    <div class="post_prose">
      




<p>
<a href="http://hylang.org">Hy</a> allows us to define functions with unicode names. Here we play around with this to define logical operators with the symbols you normally see in formal papers (i.e. the LaTeX symbols). I think in Python3 you can also define unicode names for functions. It definitely does not work for Python2.7 which we use here (although remarkably via Hy it does work).
</p>

<p>
First, we define the logical operators or, and, xor and not, and a few other interesting ones. In case it is not clear why a unicode representation of and is helpful, note there are three instances of the word and in the previous sentence, and only one is a logical operator!  This is just some syntactical beauty, but it will shortly make for a different representation of code. We tangle this code block to logical_operators.hy.
</p>

<div class="org-src-container">

<pre class="src src-hy">(<span style="color: #0000FF;">defn</span> <span style="color: #006699;">&#8744;</span> [a b] (<span style="color: #006FE0;">or</span> a b))

(<span style="color: #0000FF;">defn</span> <span style="color: #006699;">&#8743;</span> [a b] (<span style="color: #006FE0;">and</span> a b))

(<span style="color: #0000FF;">defn</span> <span style="color: #006699;">&#8853;</span> [a b] (xor a b))

(<span style="color: #0000FF;">defn</span> <span style="color: #006699;">&#172;</span> [a] (<span style="color: #006FE0;">not</span> a))

(<span style="color: #0000FF;">defn</span> <span style="color: #006699;">&#8704;</span> [x func]
  <span style="color: #008000;">"(func x) is True for every x."</span>
  (<span style="color: #006FE0;">every?</span> func x))

(<span style="color: #0000FF;">defn</span> <span style="color: #006699;">&#8707;</span> [x func]
  <span style="color: #008000;">"func(x) is true for at least one x."</span>
  (<span style="color: #006FE0;">some</span> func x))

(<span style="color: #0000FF;">defn</span> <span style="color: #006699;">&#8707;!</span> [x func]
  <span style="color: #008000;">"func(x) is true for exactly one x."</span>
  (<span style="color: #006FE0;">=</span> 1 (len (list (<span style="color: #006FE0;">filter</span> func x)))))
</pre>
</div>

<p>
Here is an example of using those operators. At the moment, we use the prefix notation of Lisp.
</p>
<div class="org-src-container">

<pre class="src src-hy">(<span style="color: #0000FF;">import</span> <span style="color: #006699;">[logical_operators [*]]</span>)
(<span style="color: #0000FF;">import</span> <span style="color: #006699;">[serialize [stringify]]</span>)

(<span style="color: #0000FF;">defmacro</span> <span style="color: #006699;">show</span> [body]
  `(<span style="color: #0000FF;">do</span>
    (<span style="color: #006FE0;">print</span> (.encode (.format <span style="color: #008000;">"{0} = {1}"</span> (stringify '~body) ~body) <span style="color: #008000;">"utf-8"</span>))))

(show (&#172; <span style="color: #D0372D;">True</span>))
(show (&#8743; <span style="color: #D0372D;">True</span> <span style="color: #D0372D;">False</span>))
(show (&#8743; <span style="color: #D0372D;">True</span> <span style="color: #D0372D;">True</span>))
(show (&#8744; <span style="color: #D0372D;">True</span> <span style="color: #D0372D;">False</span>))
(show (&#8744; <span style="color: #D0372D;">True</span> <span style="color: #D0372D;">True</span>))
(show (&#8853; <span style="color: #D0372D;">True</span> <span style="color: #D0372D;">False</span>))
(show (&#8853; <span style="color: #D0372D;">True</span> <span style="color: #D0372D;">True</span>))
(show (&#8853; <span style="color: #D0372D;">False</span> <span style="color: #D0372D;">False</span>))
(show (&#8704; [2 4 6] even?))
(show (&#8707; [2 3 4] odd?))
(show (&#8707;! [2 3 4] odd?))
(show (&#8707;! [2 3 5] odd?))
</pre>
</div>
<pre class="example">
(¬ True) = False
(∧ True False) = False
(∧ True True) = True
(∨ True False) = True
(∨ True True) = True
(⊕ True False) = True
(⊕ True True) = False
(⊕ False False) = False
(∀ [2 4 6] is_even) = True
(∃ [2 3 4] is_odd) = True
(∃_bang [2 3 4] is_odd) = True
(∃_bang [2 3 5] is_odd) = False
</pre>

<p>
Note the exclamation mark got expanded to _bang. It is evidently an ordinary ascii character.
</p>

<p>
We can get an infix notation if we use our infix module and the #$ reader macro defined in it. Here are some examples. Note it doesn't make sense to use this all time, e.g. it would even be a mistake to do this with the not operator.
</p>

<div class="org-src-container">

<pre class="src src-hy">(<span style="color: #0000FF;">import</span> <span style="color: #006699;">[logical_operators [*]]</span>)
(<span style="color: #0000FF;">import</span> <span style="color: #006699;">[serialize [stringify]]</span>)
(<span style="color: #0000FF;">import</span> <span style="color: #006699;">[infix [*]]</span>)
(<span style="color: #0000FF;">require</span> <span style="color: #006699;">infix</span>)

(<span style="color: #0000FF;">defmacro</span> <span style="color: #006699;">show</span> [body]
  `(<span style="color: #0000FF;">do</span>
    (<span style="color: #006FE0;">print</span> (.encode (.format <span style="color: #008000;">"{0} = {1}"</span> (stringify '~body) ~body) <span style="color: #008000;">"utf-8"</span>))))

(show (&#172; <span style="color: #D0372D;">True</span>))
(show #$(<span style="color: #D0372D;">True</span> &#8743; <span style="color: #D0372D;">False</span>))
(show #$(<span style="color: #D0372D;">True</span> &#8743; <span style="color: #D0372D;">True</span>))
(show #$(<span style="color: #D0372D;">True</span> &#8744; <span style="color: #D0372D;">False</span>))
(show #$(<span style="color: #D0372D;">True</span> &#8744; <span style="color: #D0372D;">True</span>))
(show #$(<span style="color: #D0372D;">True</span> &#8853; <span style="color: #D0372D;">False</span>))
(show #$(<span style="color: #D0372D;">True</span> &#8853; <span style="color: #D0372D;">True</span>))
(show #$(<span style="color: #D0372D;">False</span> &#8853; <span style="color: #D0372D;">False</span>))
</pre>
</div>
<pre class="example">
(¬ True) = False
(dispatch_reader_macro "$" (True ∧ False)) = False
(dispatch_reader_macro "$" (True ∧ True)) = True
(dispatch_reader_macro "$" (True ∨ False)) = True
(dispatch_reader_macro "$" (True ∨ True)) = True
(dispatch_reader_macro "$" (True ⊕ False)) = True
(dispatch_reader_macro "$" (True ⊕ True)) = False
(dispatch_reader_macro "$" (False ⊕ False)) = False
</pre>

<p>
The show macro shows us how the reader macro gets expanded into, you guessed it, regular old function calls. They are just syntactical sugar to help us be more concise. The unicode symbols are not quite as simple to type as ascii names, but there are solutions to this: abbreviations in Emacs (<a href="http://ergoemacs.org/emacs/emacs_n_unicode.html">http://ergoemacs.org/emacs/emacs_n_unicode.html</a> ), custom commands, learn the keystrokes (<a href="http://www.johndcook.com/blog/emacs_unicode/">http://www.johndcook.com/blog/emacs_unicode/</a> ) and C-x 8 RET and the unicode name, etc&#x2026; Is it worth it? That might depend on how ingrained those logical symbols are in your mental model of your work. If it is deeply ingrained, your code will be better aligned with your thoughts, and easier to understand.
</p>
<p>Copyright (C) 2016 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p>
<p><a href="/org/2016/04/23/Don't-get-hysterical---they-are-just-unicode-function-names.org">org-mode source</a></p>
<p>Org-mode version = 8.2.10</p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<div id="disqus_thread"></div>
<script type="text/javascript">
  var disqus_url = "http://jkitchin.github.io/blog/2016/04/23/Don-t-get-hysterical-they-are-just-unicode-function-names";
</script>
<script type="text/javascript" src="http://disqus.com/forums/kitchinresearchgroup/embed.js"></script>
<noscript><a href="http://kitchinresearchgroup.disqus.com/?url=ref">View the discussion thread.</a></noscript><a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

          </div>
          <div id="sidebar" class="grid_4">
            <aside>
<section>
<script>
  (function() {
    var cx = '002533177287215655227:l7uvu35ssbc';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</section>

<section>
    <h1 class="post_header_gradient theme_font">Twitter</h1>
    <a class="twitter-timeline" href="https://twitter.com/johnkitchin" data-widget-id="545217643582881792">Tweets by @johnkitchin</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</section>


  <section>
    <h1 class="post_header_gradient theme_font">Links</h1>
    <ul>
      <li><a href="https://www.continuum.io">Anaconda Python</a></li>
      <li><a href="/pycse">Pycse</a></li>
      <li><a href="/dft-book">DFT-book</a></li>
    </ul>
  </section>

  <section>
    <h1 class="post_header_gradient theme_font">Latest Posts</h1>
    <ul>
      <li><a href="/blog/2017/05/26/Org-mode-and-ipython-enhancements-in-scimax/">Org-mode and ipython enhancements in scimax</a></li>
      <li><a href="/blog/2017/05/21/A-partial-symbolic-numeric-solver-in-emacs-lisp/">A partial symbolic numeric solver in emacs-lisp</a></li>
      <li><a href="/blog/2017/05/05/A-new-and-improved-Emacs-gnuplot-DSL/">A new and improved Emacs gnuplot DSL</a></li>
      <li><a href="/blog/2017/05/04/An-emacs-lisp-dsl-for-gnuplot/">An emacs-lisp dsl for gnuplot</a></li>
      <li><a href="/blog/2017/04/30/Emulating-Sparql-queries-in-emacs-lisp-with-pattern-matching/">Emulating Sparql queries in emacs-lisp with pattern matching</a></li>
    </ul>
  </section>

<section>
<h1 class="post_header_gradient theme_font">Latest GitHub Repos</h1>
  <a href="https://github.com/jkitchin">@jkitchin</a> on GitHub.
  <ul id="my-github-projects">
        <li class="loading">Status updating&#8230;</li>
  </ul>

</section>
</aside>

          </div>
          <div class="clear"></div>
        </div>
      </div>
      
<footer>
  <div id="footer" class="grid_12">
    <div class="grid_8">
      <p>
        <a href="/blog/feed/index.xml">RSS</a>
        <a href="http://kitchinresearchgroup.disqus.com/latest.rss">Comments RSS Feed</a>.
      </p>
    </div>
    <div class="grid_4" id="credits">
      <p>
        Copyright 2017
        John Kitchin
      </p>
      <p>
        Powered by <a href="http://www.blogofile.com">Blogofile</a>
      </p>
    </div>
  </div>
</footer>

    </div>
      <script src="//ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/js/libs/jquery-1.5.1.min.js"%3E%3C/script%3E'))</script>
  <script src="/js/plugins.js"></script>
  <script src="/js/script.js"></script>
  <script src="/js/jquery.tweet.js"></script>  
  <script src="/js/site.js"></script>
  <!--[if lt IE 7 ]>
  <script src="js/libs/dd_belatedpng.js"></script>
  <script> DD_belatedPNG.fix('img, .png_bg');</script>
  <![endif]-->
  <script>
      var _gaq=[['_setAccount','UA-35731398-1'],['_trackPageview']];
      (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.async=1;
      g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
      s.parentNode.insertBefore(g,s)}(document,'script'));
  </script>
  <script>
  (function() {
      var links = document.getElementsByTagName('a');
      var query = '?';
      for(var i = 0; i < links.length; i++) {
          if(links[i].href.indexOf('#disqus_thread') >= 0) {
              query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&';
          }
      }
      document.write('<script charset="utf-8" type="text/javascript" src="http://disqus.com/forums/kitchinresearchgroup/get_num_replies.js' + query + '"></' + 'script>');
  })();
  </script>

  </body>
</html>






<script src="http://ajax.microsoft.com/ajax/jquery/jquery-1.4.2.min.js" type="text/javascript"></script>
<script src="/js/git.js" type="text/javascript"></script>
<script type="text/javascript">
    $(function() {
     $("#my-github-projects").loadRepositories("jkitchin");
    });
</script>



