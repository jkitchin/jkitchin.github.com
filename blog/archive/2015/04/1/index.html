

<!doctype html>
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Kitchin Research Group</title>
  <meta name="google-site-verification" content="CGcacJdHc2YoZyI0Vey9XRA5qwhhFDzThKJezbRFcJ4" />
  <meta name="description" content="Chemical Engineering at Carnegie Mellon University">
  <meta name="author" content="John Kitchin">
  <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="/blog/feed" />
  <link rel="alternate" type="application/atom+xml" title="Atom 1.0" href="/blog/feed/atom" />
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/img/apple-touch-icon.png">

  <link rel="stylesheet" href="/css/base.css?v=1">
  <link rel="stylesheet" href="/css/grid.css?v=1">
  <link rel="stylesheet" media="handheld" href="/css/handheld.css?v=1">
  <link rel="stylesheet" href="/css/pygments_murphy.css" type="text/css" />

  <script src="/js/libs/modernizr-1.7.min.js"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
  <link rel="stylesheet" href="/themes/theme1/style.css?v=1">
<link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>

</head>
  <body>
    <div id="container" class="container container_12">
      <div id="main" role="main">
        <div id="main_block">
          <header>
<div id="header" class="header_gradient theme_font">
<table><tr><td>
    <h1><a href="/">The Kitchin Research Group</a></h1>
    <h2>Chemical Engineering at Carnegie Mellon University</h2>
</td>
<td colspan=100%><div style="float:right;width:100%;text-align:right;"> <span id='badgeCont737515' style='width:126px'><script src='http://labs.researcherid.com/mashlets?el=badgeCont737515&mashlet=badge&showTitle=false&className=a&rid=A-2363-2010'></script></span></div>
</td></tr>
</table>
</div>
  <div id="navigation" class="grid_12">

    <ul class="theme_font">
      <li><a href="/blog"
             class="">Blog</a></li>

      <li><a href="/blog/archive"
             class="">Archives</a></li>

      <li><a href="/publications.html">Publications</a></li>

      <li><a href="/research.html"
             class="">Research</a></li>

      <li><a href="/categories.html"
             class="">Categories</a></li>

      <li><a href="/about.html"
             class="">About us</a></li>

      <li><a href="/subscribe.html">Subscribe</a></li>

    </ul>
  </div>
</header>

          <div id="prose_block" class="grid_8">
            
  





<article>
  <div class="blog_post">
    <header>
      <div id="New-publication-in-ACS-Catalysis-on-composition-dependent-alloy-electronic-structure"></div>
      <h2 class="blog_post_title"><a href="/blog/2015/04/24/New-publication-in-ACS-Catalysis-on-composition-dependent-alloy-electronic-structure/" rel="bookmark" title="Permanent Link to New publication in ACS Catalysis on composition dependent alloy electronic structure">New publication in ACS Catalysis on composition dependent alloy electronic structure</a></h2>
      <p><small><span class="blog_post_date">Posted April 24, 2015 at 03:41 PM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/news/'>news</a>, <a href='/blog/category/publication/'>publication</a></span> | tags: 
      </small></p>
    </header>
    <div class="post_prose">
      



<p>
In this collaborative paper we map out the electronic structure of a Cu-Pd alloy across composition space, and then correlate that electronic structure with the reactivity of the alloy. We experimentally measure the average energy of the filled valence band, and show it is similar to the calculated d-band center. We then show how those measured electronic structure properties correlate with the H<sub>2</sub>\D<sub>2</sub> exchange kinetics. The combination of experiments on composition spread alloy films (CSAF) and theory provides an integrated understanding of alloy reactivity in this system.
</p>

<div class="org-src-container">

<pre class="src src-bibtex"><span style="color: #006699;">@article</span>{<span style="color: #D0372D;">gumuslu-2015-correl-elect</span>,
  <span style="color: #BA36A5;">author</span> =       {G. Gumuslu and P. Kondratyuk and J. R. Boes and B. Morreale
                  and J. B. Miller and J. R. Kitchin and A. J. Gellman},
  <span style="color: #BA36A5;">title</span> =        {Correlation of Electronic Structure With Catalytic Activity:
                  \ce{H2}-\ce{D2} Exchange Across \ce{Cu_{x}Pd_{1-x} Composition
                  Space},
  <span style="color: #BA36A5;">journal</span> =      {ACS Catalysis},
  <span style="color: #BA36A5;">volume</span> =       {5},
  <span style="color: #BA36A5;">pages</span> =        {3137-3147},
  <span style="color: #BA36A5;">year</span> =         2015,
  <span style="color: #BA36A5;">doi</span> =          {<span style="color: #006DAF; text-decoration: underline;">10.1021/cs501586t</span>},
  <span style="color: #BA36A5;">url</span> =          {<span style="color: #006DAF; text-decoration: underline;">https://doi.org/10.1021/cs501586t</span>},
  <span style="color: #BA36A5;">date_added</span> =   {Fri Apr 24 14:47:29 2015},
}
</pre>
</div>
<p>Copyright (C) 2015 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2015/04/24/New-publication-in-ACS-Catalysis-on-composition-dependent-alloy-electronic-structure.org">org-mode source</a><p><p>Org-mode version = 8.2.10</p>


    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Share on Twitter</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


<a href="https://twitter.com/search?q=https://kitchingroup.cheme.cmu.edu/blog/2015/04/24/New-publication-in-ACS-Catalysis-on-composition-dependent-alloy-electronic-structure">Discuss on Twitter</a>

  <hr class="interblog" />
  





<article>
  <div class="blog_post">
    <header>
      <div id="Commenting-in-org-files"></div>
      <h2 class="blog_post_title"><a href="/blog/2015/04/24/Commenting-in-org-files/" rel="bookmark" title="Permanent Link to Commenting in org-files">Commenting in org-files</a></h2>
      <p><small><span class="blog_post_date">Posted April 24, 2015 at 12:41 PM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/org/'>org</a></span> | tags: 
      <p><small><span class="blog_post_date">Updated November 19, 2015 at 09:22 AM</span></small>
      </small></p>
    </header>
    <div class="post_prose">
      



<p>
There was an interesting discussion on the org-mode mail list about putting comments in org files. Eric Fraga suggested using inline tasks, and customizing the export of them so they make a footnote, or use the todonotes package (suggested by Marcin Borkowski). Here is Eric's export. A big advantage of this is integration with the Agenda, so you can see what there is todo in your document.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">  (<span style="color: #0000FF;">setq</span> org-inlinetask-export-templates
        '((latex <span style="color: #008000;">"%s\\footnote{%s\\\\ %s}\\marginpar{\\fbox{\\thefootnote}}"</span>
                 '((<span style="color: #0000FF;">unless</span>
                       (eq todo <span style="color: #008000;">""</span>)
                     (format <span style="color: #008000;">"\\fbox{\\textsc{%s%s}}"</span> todo priority))
                   heading content))))
</pre>
</div>

<p>
Eric Abrahamsen suggested an idea to use a link syntax. I like the idea a lot, so here we develop some ideas. A link has two parts, the path, and description. A simple comment would just be a simple link, probably in double square brackets so you can have spaces in your comment. <font color="red"><abbr title="Why do you think there are only two parts" color="red">COMMENT</abbr></font>  It might be feasible to use <font color="red"><abbr title="Why do you quote mark?" color="red">COMMENT</abbr></font> the description to "mark text" that the comment refers to. The remaining question is what functionality should our link have when you click on it, and how to export it. For functionality, a click will show the comment in the minibuffer and offer to delete it. For export, for now we will make it export with todonotes in LaTeX, and as a red COMMENT with a tooltip in html. To use this, you need to have the LaTeX package todonotes included in your org file.
</p>
<p>
Here is our comment link.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(org-add-link-type
 <span style="color: #008000;">"comment"</span>
 (<span style="color: #0000FF;">lambda</span> (linkstring)
   (<span style="color: #0000FF;">let</span> ((elm (org-element-context))
         (use-dialog-box nil))
     (<span style="color: #0000FF;">when</span> (y-or-n-p <span style="color: #008000;">"Delete comment? "</span>)
       (<span style="color: #0000FF;">setf</span> (buffer-substring
              (org-element-property <span style="color: #006FE0;">:begin</span> elm)
              (org-element-property <span style="color: #006FE0;">:end</span> elm))
             (<span style="color: #0000FF;">cond</span>
              ((org-element-property <span style="color: #006FE0;">:contents-begin</span> elm)
               (buffer-substring
                (org-element-property <span style="color: #006FE0;">:contents-begin</span> elm)
                (org-element-property <span style="color: #006FE0;">:contents-end</span> elm)))
              (t
               <span style="color: #008000;">""</span>))))))
 (<span style="color: #0000FF;">lambda</span> (keyword desc format)
   (<span style="color: #0000FF;">cond</span>
    ((eq format 'html)
     (format <span style="color: #008000;">"&lt;font color=\"red\"&gt;&lt;abbr title=\"%s\" color=\"red\"&gt;COMMENT&lt;/abbr&gt;&lt;/font&gt; %s"</span> keyword (<span style="color: #0000FF;">or</span> desc <span style="color: #008000;">""</span>)))
    ((eq format 'latex)
     (format <span style="color: #008000;">"\\todo{%s}{%s}"</span> keyword (<span style="color: #0000FF;">or</span> desc <span style="color: #008000;">""</span>))))))
</pre>
</div>


<p>
It would be convenient to have a quick function for adding a comment to some highlighted text.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #0000FF;">defun</span> <span style="color: #006699;">add-comment</span> (begin end)
  (<span style="color: #0000FF;">interactive</span> <span style="color: #008000;">"r"</span>)
  (<span style="color: #0000FF;">if</span> (region-active-p)
      (<span style="color: #0000FF;">let</span> ((selected-text (buffer-substring begin end)))
        (<span style="color: #0000FF;">setf</span> (buffer-substring begin end)
              (format <span style="color: #008000;">"[[comment:%s][%s]]"</span>
                      (read-input <span style="color: #008000;">"Comment: "</span>) selected-text)))
  (insert (format  <span style="color: #008000;">"[[comment:%s]]"</span> (read-input <span style="color: #008000;">"Comment: "</span>)))))
</pre>
</div>

<p>
Test 1: <font color="red"><abbr title="test comment" color="red">COMMENT</abbr></font> 
</p>

<p>
<font color="red"><abbr title="You seem to have forgotten Test 2" color="red">COMMENT</abbr></font> Test 2
</p>

<p>
That is it. I could see a few other enhancements that might be very useful, e.g. a command to list all the comments, remove all the comments, etc&#x2026; I am pretty satisfied with this for now though.
</p>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> An updated approach to comments.</h2>
<div class="outline-text-2" id="text-1">
<p>
Rainer asked about making some comments inline. It would be nice if a single link syntax could accommodate both styles of comments. I previously developed an approach to extend links with attributes (<a href="http://kitchingroup.cheme.cmu.edu/blog/2015/02/05/Extending-the-org-mode-link-syntax-with-attributes/">http://kitchingroup.cheme.cmu.edu/blog/2015/02/05/Extending-the-org-mode-link-syntax-with-attributes/</a> ), which I will reuse here for that purpose. The idea is to add an ":inline" attribute to change the export behavior. We only modify the LaTeX export here.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(org-add-link-type
 <span style="color: #008000;">"comment"</span>
 <span style="color: #8D8D84;">;;  </span><span style="color: #8D8D84; font-style: italic;">follow function</span>
(<span style="color: #0000FF;">lambda</span> (linkstring)
   (<span style="color: #0000FF;">let</span> ((elm (org-element-context))
         (use-dialog-box nil))
     (<span style="color: #0000FF;">when</span> (y-or-n-p <span style="color: #008000;">"Delete comment? "</span>)
       (<span style="color: #0000FF;">setf</span> (buffer-substring
              (org-element-property <span style="color: #006FE0;">:begin</span> elm)
              (org-element-property <span style="color: #006FE0;">:end</span> elm))
             (<span style="color: #0000FF;">cond</span>
              ((org-element-property <span style="color: #006FE0;">:contents-begin</span> elm)
               (buffer-substring
                (org-element-property <span style="color: #006FE0;">:contents-begin</span> elm)
                (org-element-property <span style="color: #006FE0;">:contents-end</span> elm)))
              (t
               <span style="color: #008000;">""</span>))))))
 <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">format function</span>
 (<span style="color: #0000FF;">lambda</span> (path description format)
   (<span style="color: #0000FF;">let*</span> ((data (read (concat <span style="color: #008000;">"("</span> path <span style="color: #008000;">")"</span>)))
          (head (car data))
          (plist (cdr data)))
     (<span style="color: #0000FF;">cond</span>
      ((eq format 'html)
       (format <span style="color: #008000;">"&lt;font color=\"red\"&gt;&lt;abbr title=\"%s\" color=\"red\"&gt;COMMENT&lt;/abbr&gt;&lt;/font&gt; %s"</span> path (<span style="color: #0000FF;">or</span> description <span style="color: #008000;">""</span>)))
      ((eq format 'latex)
       (format <span style="color: #008000;">"\\todo%s{%s}%s"</span>
               (<span style="color: #0000FF;">if</span> (-contains? data <span style="color: #006FE0;">:inline</span>) <span style="color: #008000;">"[inline]"</span> <span style="color: #008000;">""</span>)
               (mapconcat (<span style="color: #0000FF;">lambda</span> (s)
                            (format <span style="color: #008000;">"%s"</span> s))
                          (-remove-item <span style="color: #006FE0;">:inline</span> data) <span style="color: #008000;">" "</span>)
               (<span style="color: #0000FF;">if</span> description (format <span style="color: #008000;">"{%s}"</span> description) <span style="color: #008000;">""</span>)))))))
</pre>
</div>

<p>
Here are some examples of the syntax:
</p>
<pre class="example">
[[comment: :inline the rest of your text]]

[[comment:Some text you want to highlight]]

[[comment:Some text you want to highlight :inline]]
</pre>

<p>
It doesn't matter where the :inline attribute is added. This seems to work pretty well.
</p>

<p>
We can modify our convenience function to allow us to use a prefix arg to make the comment inline. Here is one way to do it.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #0000FF;">defun</span> <span style="color: #006699;">add-comment</span> (begin end <span style="color: #6434A3;">&amp;optional</span> arg)
  <span style="color: #036A07;">"Comment the region. With a prefix ARG, make the comment inline."</span>
  (<span style="color: #0000FF;">interactive</span> (list (region-beginning)
                     (region-end)
                     current-prefix-arg))
  (<span style="color: #0000FF;">let</span> ((<span style="color: #0000FF;">inline</span> (<span style="color: #0000FF;">if</span> arg <span style="color: #008000;">":inline "</span> <span style="color: #008000;">""</span>)))
        (<span style="color: #0000FF;">if</span> (region-active-p)
            (<span style="color: #0000FF;">let</span> ((selected-text (buffer-substring begin end)))
              (<span style="color: #0000FF;">setf</span> (buffer-substring begin end)
                    (format
                     <span style="color: #008000;">"[[comment:%s%s][%s]]"</span>
                     inline
                     (read-input <span style="color: #008000;">"Comment: "</span>) selected-text)))
          (insert (format
                   <span style="color: #008000;">"[[comment:%s%s]]"</span>
                   inline
                   (read-input <span style="color: #008000;">"Comment: "</span>))))))
</pre>
</div>

<pre class="example">
add-comment
</pre>

<p>
Test <font color="red"><abbr title="a new regular comment" color="red">COMMENT</abbr></font> text to  <font color="red"><abbr title=":inline an inline comment" color="red">COMMENT</abbr></font> comment on.
</p>
</div>
</div>
<p>Copyright (C) 2015 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2015/04/24/Commenting-in-org-files.org">org-mode source</a><p><p>Org-mode version = 8.2.10</p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Share on Twitter</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


<a href="https://twitter.com/search?q=https://kitchingroup.cheme.cmu.edu/blog/2015/04/24/Commenting-in-org-files">Discuss on Twitter</a>

  <hr class="interblog" />
  





<article>
  <div class="blog_post">
    <header>
      <div id="New-publication-in-J-Chem-Physics-on-calculating-oxide-properties-with-DFT+U"></div>
      <h2 class="blog_post_title"><a href="/blog/2015/04/08/New-publication-in-J-Chem-Physics-on-calculating-oxide-properties-with-DFT+U/" rel="bookmark" title="Permanent Link to New publication in J. Chem. Physics on calculating oxide properties with DFT+U">New publication in J. Chem. Physics on calculating oxide properties with DFT+U</a></h2>
      <p><small><span class="blog_post_date">Posted April 08, 2015 at 11:18 AM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/news/'>news</a>, <a href='/blog/category/publication/'>publication</a></span> | tags: 
      </small></p>
    </header>
    <div class="post_prose">
      




<p>
In this paper we demonstrate a novel method to use linear response DFT+U in a thermodynamic cycle to more accurately calculate metal oxide properties such as band gaps and reaction energies. This was a collaborative paper with ExxonMobil. Congratulations Zhongnan!
</p>

<div class="org-src-container">

<pre class="src src-bibtex"><span style="color: #006699;">@article</span>{<span style="color: #D0372D;">xu-2015-accur-u</span>,
  <span style="color: #BA36A5;">author</span> =       "Xu, Zhongnan and Joshi, Yogesh V. and Raman, Sumathy and
                  Kitchin, John R.",
  <span style="color: #BA36A5;">title</span> =        {Accurate Electronic and Chemical Properties of 3d Transition
                  Metal Oxides Using a Calculated Linear Response U and a DFT +
                  U(V) Method},
  <span style="color: #BA36A5;">journal</span> =      "The Journal of Chemical Physics",
  <span style="color: #BA36A5;">volume</span> =       142,
  <span style="color: #BA36A5;">number</span> =       14,
  <span style="color: #BA36A5;">pages</span> =        144701,
  <span style="color: #BA36A5;">year</span> =         2015,
  <span style="color: #BA36A5;">doi</span> =          {<span style="color: #006DAF; text-decoration: underline;">10.1063/1.4916823</span>},
  <span style="color: #BA36A5;">url</span> =
                  "http://scitation.aip.org/content/aip/journal/jcp/142/14/10.1063/1.4916823",
  <span style="color: #BA36A5;">eid</span> =          144701,
}
</pre>
</div>
<p>Copyright (C) 2015 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2015/04/08/New-publication-in-J.-Chem.-Physics-on-calculating-oxide-properties-with-DFT+U.org">org-mode source</a><p><p>Org-mode version = 8.2.10</p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Share on Twitter</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


<a href="https://twitter.com/search?q=https://kitchingroup.cheme.cmu.edu/blog/2015/04/08/New-publication-in-J-Chem-Physics-on-calculating-oxide-properties-with-DFT+U">Discuss on Twitter</a>

  <hr class="interblog" />
  





<article>
  <div class="blog_post">
    <header>
      <div id="Using-the-Scopus-api-with-xml-output"></div>
      <h2 class="blog_post_title"><a href="/blog/2015/04/06/Using-the-Scopus-api-with-xml-output/" rel="bookmark" title="Permanent Link to Using the Scopus api with xml output">Using the Scopus api with xml output</a></h2>
      <p><small><span class="blog_post_date">Posted April 06, 2015 at 09:35 AM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/xml/'>xml</a>, <a href='/blog/category/scopus/'>scopus</a>, <a href='/blog/category/python/'>python</a></span> | tags: 
      </small></p>
    </header>
    <div class="post_prose">
      



<p>
According to <a href="http://api.elsevier.com/documentation/AbstractRetrievalAPI.wadl">http://api.elsevier.com/documentation/AbstractRetrievalAPI.wadl</a> , the native form of the Scopus abstract document is xml, and the full abstract cannot always be represented  as json. So&#x2026; I am going to just bite the bullet and learn to deal with the xml. This is a companion post to <a href="http://kitchingroup.cheme.cmu.edu/blog/2015/04/04/Making-highly-linked-bibliographies-from-the-Scopus-API/">http://kitchingroup.cheme.cmu.edu/blog/2015/04/04/Making-highly-linked-bibliographies-from-the-Scopus-API/</a> . Most of the code in this post gets tangled out to scopus_xml.py. I know it is not totally robust yet, but I have been using it for a lot of analysis, and it works pretty well so far.
</p>

<p>
This is another long post, with code that probably runs off screen. You can see the end result of what we do in this post here:  <a href="http://kitchingroup.cheme.cmu.edu/publications.html">http://kitchingroup.cheme.cmu.edu/publications.html</a> .
</p>


<p>
We start with a general function to return an xml elementtree. We build in some caching to avoid downloading things we already have; this is slow, and there are limits on how many times you can download.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">import</span> requests
<span style="color: #0000FF;">import</span> os
<span style="color: #0000FF;">import</span> xml.etree.ElementTree <span style="color: #0000FF;">as</span> ET

<span style="color: #0000FF;">from</span> my_scopus <span style="color: #0000FF;">import</span> MY_API_KEY

<span style="color: #0000FF;">def</span> <span style="color: #006699;">get_abstract_info</span>(EID, refresh=<span style="color: #D0372D;">False</span>):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #008000;">'Get and save the json data for EID.'</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">base</span> = <span style="color: #008000;">'scopus-xml/get_abstract_info'</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">if</span> <span style="color: #0000FF;">not</span> os.path.exists(base):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   os.makedirs(base)

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">fname</span> = <span style="color: #008000;">'{0}/{1}'</span>.<span style="color: #006FE0;">format</span>(base, EID)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">if</span> os.path.exists(fname) <span style="color: #0000FF;">and</span> <span style="color: #0000FF;">not</span> refresh:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">with</span> <span style="color: #006FE0;">open</span>(fname) <span style="color: #0000FF;">as</span> f:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">return</span> ET.fromstring(f.read())

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Otherwise retrieve and save results</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">url</span> = (<span style="color: #008000;">"http://api.elsevier.com/content/abstract/eid/"</span> + EID + <span style="color: #008000;">'?view=META_ABS'</span>)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">resp</span> = requests.get(url,
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   headers={<span style="color: #008000;">'Accept'</span>:<span style="color: #008000;">'application/xml'</span>,
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>    <span style="color: #008000;">'X-ELS-APIKey'</span>: MY_API_KEY})
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">with</span> <span style="color: #006FE0;">open</span>(fname, <span style="color: #008000;">'w'</span>) <span style="color: #0000FF;">as</span> f:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   f.write(resp.text.encode(<span style="color: #008000;">'utf-8'</span>))

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">results</span> = ET.fromstring(resp.text.encode(<span style="color: #008000;">'utf-8'</span>))

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">return</span> results
</pre>
</div>

<p>
Next, we do some introspection to see what we have.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">from</span> scopus_xml <span style="color: #0000FF;">import</span> *
<span style="color: #8D8D84;">#</span><span style="color: #8D8D84; font-style: italic;">results = get_abstract_info('2-s2.0-84896759135')</span>
<span style="color: #8D8D84;">#</span><span style="color: #8D8D84; font-style: italic;">results = get_abstract_info('2-s2.0-84924911828')</span>
<span style="color: #BA36A5;">results</span> = get_abstract_info(<span style="color: #008000;">'2-s2.0-84901638552'</span>)
<span style="color: #0000FF;">for</span> el <span style="color: #0000FF;">in</span> results:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">print</span> el.tag
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">for</span> el1 <span style="color: #0000FF;">in</span> el:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">print</span> <span style="color: #008000;">'  --&gt;'</span>,el1.tag
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">print</span>
</pre>
</div>

{http://www.elsevier.com/xml/svapi/abstract/dtd}coredata
  --> {http://prismstandard.org/namespaces/basic/2.0/}url
  --> {http://purl.org/dc/elements/1.1/}identifier
  --> {http://www.elsevier.com/xml/svapi/abstract/dtd}eid
  --> {http://prismstandard.org/namespaces/basic/2.0/}doi
  --> {http://purl.org/dc/elements/1.1/}title
  --> {http://prismstandard.org/namespaces/basic/2.0/}aggregationType
  --> {http://www.elsevier.com/xml/svapi/abstract/dtd}srctype
  --> {http://www.elsevier.com/xml/svapi/abstract/dtd}citedby-count
  --> {http://prismstandard.org/namespaces/basic/2.0/}publicationName
  --> {http://purl.org/dc/elements/1.1/}publisher
  --> {http://www.elsevier.com/xml/svapi/abstract/dtd}source-id
  --> {http://prismstandard.org/namespaces/basic/2.0/}issn
  --> {http://prismstandard.org/namespaces/basic/2.0/}volume
  --> {http://prismstandard.org/namespaces/basic/2.0/}startingPage
  --> {http://prismstandard.org/namespaces/basic/2.0/}endingPage
  --> {http://prismstandard.org/namespaces/basic/2.0/}pageRange
  --> {http://prismstandard.org/namespaces/basic/2.0/}coverDate
  --> {http://purl.org/dc/elements/1.1/}creator
  --> {http://purl.org/dc/elements/1.1/}description
  --> {http://www.elsevier.com/xml/svapi/abstract/dtd}link
  --> {http://www.elsevier.com/xml/svapi/abstract/dtd}link
  --> {http://www.elsevier.com/xml/svapi/abstract/dtd}link

{http://www.elsevier.com/xml/svapi/abstract/dtd}affiliation
  --> {http://www.elsevier.com/xml/svapi/abstract/dtd}affilname

{http://www.elsevier.com/xml/svapi/abstract/dtd}authors
  --> {http://www.elsevier.com/xml/svapi/abstract/dtd}author
  --> {http://www.elsevier.com/xml/svapi/abstract/dtd}author

<p>
Now, some examples for myself to see how to get things.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">from</span> scopus_xml <span style="color: #0000FF;">import</span> *

<span style="color: #BA36A5;">results</span> = get_abstract_info(<span style="color: #008000;">'2-s2.0-84901638552'</span>)

<span style="color: #BA36A5;">coredata</span> = results.find(<span style="color: #008000;">'./{http://www.elsevier.com/xml/svapi/abstract/dtd}coredata'</span>)

<span style="color: #0000FF;">print</span> coredata.find(<span style="color: #008000;">'{http://www.elsevier.com/xml/svapi/abstract/dtd}srctype'</span>).text
<span style="color: #0000FF;">print</span> coredata.find(<span style="color: #008000;">'{http://www.elsevier.com/xml/svapi/abstract/dtd}source-id'</span>).text

<span style="color: #8D8D84;">#</span><span style="color: #8D8D84; font-style: italic;">authors = results.find('./{http://www.elsevier.com/xml/svapi/abstract/dtd}authors')</span>
<span style="color: #8D8D84;">#</span><span style="color: #8D8D84; font-style: italic;">for author in results.find('./{http://www.elsevier.com/xml/svapi/abstract/dtd}authors'):</span>
<span style="color: #8D8D84;">#    </span><span style="color: #8D8D84; font-style: italic;">print author.find('{http://www.elsevier.com/xml/ani/common}indexed-name').text</span>

<span style="color: #0000FF;">for</span> creator <span style="color: #0000FF;">in</span> coredata.find(<span style="color: #008000;">'{http://purl.org/dc/elements/1.1/}creator'</span>):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">print</span> creator.attrib

<span style="color: #0000FF;">print</span> coredata.find(<span style="color: #008000;">'{http://purl.org/dc/elements/1.1/}title'</span>).text
<span style="color: #0000FF;">print</span> coredata.find(<span style="color: #008000;">'{http://prismstandard.org/namespaces/basic/2.0/}publicationName'</span>).text
<span style="color: #0000FF;">print</span> coredata.find(<span style="color: #008000;">'{http://prismstandard.org/namespaces/basic/2.0/}volume'</span>).text
<span style="color: #0000FF;">print</span> coredata.find(<span style="color: #008000;">'{http://prismstandard.org/namespaces/basic/2.0/}pageRange'</span>).text
<span style="color: #0000FF;">print</span> coredata.find(<span style="color: #008000;">'{http://prismstandard.org/namespaces/basic/2.0/}coverDate'</span>).text
<span style="color: #0000FF;">print</span> coredata.find(<span style="color: #008000;">'{http://www.elsevier.com/xml/svapi/abstract/dtd}citedby-count'</span>).text
<span style="color: #0000FF;">print</span> coredata.find(<span style="color: #008000;">'{http://prismstandard.org/namespaces/basic/2.0/}doi'</span>).text

<span style="color: #0000FF;">for</span> link <span style="color: #0000FF;">in</span> coredata.findall(<span style="color: #008000;">'{http://www.elsevier.com/xml/svapi/abstract/dtd}link'</span>):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">if</span> link.attrib[<span style="color: #008000;">'rel'</span>] == <span style="color: #008000;">'scopus'</span>:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">print</span> link.attrib[<span style="color: #008000;">'href'</span>]
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">else</span>:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">print</span> link.attrib[<span style="color: #008000;">'href'</span>]

<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">alternative xpath to get the link</span>
<span style="color: #0000FF;">print</span> coredata.find(<span style="color: #008000;">"./{http://www.elsevier.com/xml/svapi/abstract/dtd}link/[@rel='scopus']"</span>).attrib[<span style="color: #008000;">'href'</span>]
</pre>
</div>

j
22746
{'auid': '55569461200', 'seq': '1'}
Relating the electronic structure and reactivity of the 3d transition metal monoxide surfaces
Catalysis Communications
52
60-64
2014-07-05
2
10.1016/j.catcom.2013.10.028
http://api.elsevier.com/content/abstract/scopus_id/84901638552
http://www.scopus.com/inward/record.url?partnerID=HzOxMe3b&scp=84901638552&origin=inward
http://api.elsevier.com/content/search/scopus?query=refeid%282-s2.0-84901638552%29
http://www.scopus.com/inward/record.url?partnerID=HzOxMe3b&scp=84901638552&origin=inward

<p>
That is basically it. In the next sections, we basically recreate the previous functions from scopus.py using the xml data.
</p>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Authors</h2>
<div class="outline-text-2" id="text-1">
<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">def</span> <span style="color: #006699;">get_author_link</span>(EID):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">results</span> = get_abstract_info(EID)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">authors</span> = results.find(<span style="color: #008000;">'./{http://www.elsevier.com/xml/svapi/abstract/dtd}authors'</span>)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">if</span> authors <span style="color: #0000FF;">is</span> <span style="color: #D0372D;">None</span>:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">return</span> <span style="color: #008000;">'No authors found'</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">s</span> = []

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">for</span> author <span style="color: #0000FF;">in</span> authors:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">name</span> = author.find(<span style="color: #008000;">'{http://www.elsevier.com/xml/ani/common}indexed-name'</span>).text
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">auid</span> = author.attrib[<span style="color: #008000;">'auid'</span>]
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">s</span> += [<span style="color: #008000;">'&lt;a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&amp;authorId={0}"&gt;{1}&lt;/a&gt;'</span>.<span style="color: #006FE0;">format</span>(auid, name)]

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">return</span> <span style="color: #008000;">', '</span>.join(s)
</pre>
</div>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">from</span> scopus_xml <span style="color: #0000FF;">import</span> *
<span style="color: #0000FF;">print</span> get_author_link(<span style="color: #008000;">'2-s2.0-84896759135'</span>)
<span style="color: #0000FF;">print</span> get_author_link(<span style="color: #008000;">'2-s2.0-84901638552'</span>)
</pre>
</div>
<pre class="example">
&lt;a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&amp;authorId=8724572500"&gt;Thompson R.L.&lt;/a&gt;, &lt;a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&amp;authorId=22981503200"&gt;Shi W.&lt;/a&gt;, &lt;a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&amp;authorId=6506329719"&gt;Albenze E.&lt;/a&gt;, &lt;a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&amp;authorId=23004637900"&gt;Kusuma V.A.&lt;/a&gt;, &lt;a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&amp;authorId=55676869000"&gt;Hopkinson D.&lt;/a&gt;, &lt;a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&amp;authorId=7003584159"&gt;Damodaran K.&lt;/a&gt;, &lt;a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&amp;authorId=55005205100"&gt;Lee A.S.&lt;/a&gt;, &lt;a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&amp;authorId=7004212771"&gt;Kitchin J.R.&lt;/a&gt;, &lt;a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&amp;authorId=6701399651"&gt;Luebke D.R.&lt;/a&gt;, &lt;a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&amp;authorId=24081524800"&gt;Nulwala H.&lt;/a&gt;
&lt;a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&amp;authorId=55569461200"&gt;Xu Z.&lt;/a&gt;, &lt;a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&amp;authorId=7004212771"&gt;Kitchin J.R.&lt;/a&gt;
</pre>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Journal</h2>
<div class="outline-text-2" id="text-2">
<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">def</span> <span style="color: #006699;">get_journal_link</span>(EID):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">results</span> = get_abstract_info(EID)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">coredata</span> = results.find(<span style="color: #008000;">'./{http://www.elsevier.com/xml/svapi/abstract/dtd}coredata'</span>)

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">journal</span> = coredata.find(<span style="color: #008000;">'{http://prismstandard.org/namespaces/basic/2.0/}publicationName'</span>).text
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">sid</span> = coredata.find(<span style="color: #008000;">'{http://www.elsevier.com/xml/svapi/abstract/dtd}source-id'</span>).text
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">s</span> = <span style="color: #008000;">'&lt;a href="http://www.scopus.com/source/sourceInfo.url?sourceId={sid}"&gt;{journal}&lt;/a&gt;'</span>

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">return</span> s.<span style="color: #006FE0;">format</span>(sid=sid, journal=journal)
</pre>
</div>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">from</span> scopus_xml <span style="color: #0000FF;">import</span> *
<span style="color: #0000FF;">print</span> get_journal_link(<span style="color: #008000;">'2-s2.0-84901638552'</span>)
</pre>
</div>
<pre class="example">
&lt;a href="http://www.scopus.com/source/sourceInfo.url?sourceId=22746"&gt;Catalysis Communications&lt;/a&gt;
</pre>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> DOI link</h2>
<div class="outline-text-2" id="text-3">
<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">def</span> <span style="color: #006699;">get_doi_link</span>(EID):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">results</span> = get_abstract_info(EID)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">coredata</span> = results.find(<span style="color: #008000;">'./{http://www.elsevier.com/xml/svapi/abstract/dtd}coredata'</span>)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">doi</span> = coredata.find(<span style="color: #008000;">'{http://prismstandard.org/namespaces/basic/2.0/}doi'</span>)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">if</span> doi <span style="color: #0000FF;">is</span> <span style="color: #0000FF;">not</span> <span style="color: #D0372D;">None</span>: <span style="color: #BA36A5;">doi</span> = doi.text
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">s</span> = <span style="color: #008000;">'&lt;a href="https://doi.org/{doi}"&gt;doi:{doi}&lt;/a&gt;'</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">return</span> s.<span style="color: #006FE0;">format</span>(doi=doi)
</pre>
</div>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">from</span> scopus_xml <span style="color: #0000FF;">import</span> *
<span style="color: #0000FF;">print</span> get_doi_link(<span style="color: #008000;">'2-s2.0-84901638552'</span>)
</pre>
</div>

<a href="https://doi.org/10.1016/j.catcom.2013.10.028">doi:10.1016/j.catcom.2013.10.028</a>
</div>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> Abstract link</h2>
<div class="outline-text-2" id="text-4">
<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">def</span> <span style="color: #006699;">get_abstract_link</span>(EID):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">results</span> = get_abstract_info(EID)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">coredata</span> = results.find(<span style="color: #008000;">'./{http://www.elsevier.com/xml/svapi/abstract/dtd}coredata'</span>)

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">data</span> = get_abstract_info(EID)

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">title</span> = coredata.find(<span style="color: #008000;">'{http://purl.org/dc/elements/1.1/}title'</span>).text.encode(<span style="color: #008000;">'utf-8'</span>)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">link</span> = coredata.find(<span style="color: #008000;">"./{http://www.elsevier.com/xml/svapi/abstract/dtd}link/[@rel='scopus']"</span>).attrib[<span style="color: #008000;">'href'</span>].encode(<span style="color: #008000;">'utf-8'</span>)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">s</span> = <span style="color: #008000;">'&lt;a href="{link}"&gt;{title}&lt;/a&gt;'</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">return</span> s.<span style="color: #006FE0;">format</span>(link=link, title=title)
</pre>
</div>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">from</span> scopus_xml <span style="color: #0000FF;">import</span> *
<span style="color: #0000FF;">print</span> get_abstract_link(<span style="color: #008000;">'2-s2.0-84901638552'</span>)
</pre>
</div>

<a href="http://www.scopus.com/inward/record.url?partnerID=HzOxMe3b&scp=84901638552&origin=inward">Relating the electronic structure and reactivity of the 3d transition metal monoxide surfaces</a>
</div>
</div>

<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5"><span class="section-number-2">5</span> Citation image</h2>
<div class="outline-text-2" id="text-5">
<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">def</span> <span style="color: #006699;">get_cite_img_link</span>(EID):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">results</span> = get_abstract_info(EID)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">coredata</span> = results.find(<span style="color: #008000;">'./{http://www.elsevier.com/xml/svapi/abstract/dtd}coredata'</span>)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">doi</span> = coredata.find(<span style="color: #008000;">'{http://prismstandard.org/namespaces/basic/2.0/}doi'</span>)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">if</span> doi <span style="color: #0000FF;">is</span> <span style="color: #0000FF;">not</span> <span style="color: #D0372D;">None</span>: <span style="color: #BA36A5;">doi</span> = doi.text
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">s</span> = <span style="color: #008000;">'&lt;img src="http://api.elsevier.com/content/abstract/citation-count?doi={doi}&amp;httpAccept=image/jpeg&amp;apiKey={apikey}"&gt;&lt;/img&gt;'</span>

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">return</span> s.<span style="color: #006FE0;">format</span>(doi=doi, apikey=MY_API_KEY, cite_link=<span style="color: #D0372D;">None</span>)
</pre>
</div>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">from</span> scopus_xml <span style="color: #0000FF;">import</span> *
<span style="color: #0000FF;">print</span> get_cite_img_link(<span style="color: #008000;">'2-s2.0-84901638552'</span>)
</pre>
</div>
<img src="http://api.elsevier.com/content/abstract/citation-count?doi=10.1016/j.catcom.2013.10.028&httpAccept=image/jpeg&apiKey=5cd06d8a7df3de986bf3d0cd9971a47c"></img>
</div>
</div>

<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6"><span class="section-number-2">6</span> Getting it all together</h2>
<div class="outline-text-2" id="text-6">
<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">def</span> <span style="color: #006699;">get_html_citation</span>(EID):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">results</span> = get_abstract_info(EID)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">coredata</span> = results.find(<span style="color: #008000;">'./{http://www.elsevier.com/xml/svapi/abstract/dtd}coredata'</span>)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">s</span> = <span style="color: #008000;">'{authors}, &lt;i&gt;{title}&lt;/i&gt;, {journal}, &lt;b&gt;{volume}{issue}&lt;/b&gt;, {pages}, ({year}), {doi}, {cites}.'</span>

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">issue</span> = <span style="color: #008000;">''</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">if</span> coredata.find(<span style="color: #008000;">'{http://prismstandard.org/namespaces/basic/2.0/}issueIdentifier'</span>) <span style="color: #0000FF;">is</span> <span style="color: #0000FF;">not</span> <span style="color: #D0372D;">None</span>:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">issue</span> = <span style="color: #008000;">'({})'</span>.<span style="color: #006FE0;">format</span>(<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   coredata.find(<span style="color: #008000;">'{http://prismstandard.org/namespaces/basic/2.0/}issueIdentifier'</span>).text)

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">volume</span> = coredata.find(<span style="color: #008000;">'{http://prismstandard.org/namespaces/basic/2.0/}volume'</span>)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">if</span> volume <span style="color: #0000FF;">is</span> <span style="color: #0000FF;">not</span> <span style="color: #D0372D;">None</span>:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">volume</span> = coredata.find(<span style="color: #008000;">'{http://prismstandard.org/namespaces/basic/2.0/}volume'</span>).text
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">else</span>:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">volume</span> = <span style="color: #008000;">'None'</span>

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">pages</span> = <span style="color: #008000;">''</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">if</span> coredata.find(<span style="color: #008000;">'{http://prismstandard.org/namespaces/basic/2.0/}pageRange'</span>) <span style="color: #0000FF;">is</span> <span style="color: #0000FF;">not</span> <span style="color: #D0372D;">None</span>:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">pages</span> = <span style="color: #008000;">'p. '</span> + coredata.find(<span style="color: #008000;">'{http://prismstandard.org/namespaces/basic/2.0/}pageRange'</span>).text
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">elif</span> coredata.find(<span style="color: #008000;">'{http://www.elsevier.com/xml/svapi/abstract/dtd}article-number'</span>) <span style="color: #0000FF;">is</span> <span style="color: #0000FF;">not</span> <span style="color: #D0372D;">None</span>:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">pages</span> = coredata.find(<span style="color: #008000;">'{http://www.elsevier.com/xml/svapi/abstract/dtd}article-number'</span>).text
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">else</span>:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">pages</span> = <span style="color: #008000;">'no pages found'</span>


<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">year</span> = coredata.find(<span style="color: #008000;">'{http://prismstandard.org/namespaces/basic/2.0/}coverDate'</span>).text

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">return</span> s.<span style="color: #006FE0;">format</span>(authors=get_author_link(EID),
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   title=get_abstract_link(EID),
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   journal=get_journal_link(EID),
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   volume=volume,
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   issue=issue,
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   pages=pages,
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   year=year,
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   doi=get_doi_link(EID),
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   cites=get_cite_img_link(EID))
</pre>
</div>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">from</span> scopus_xml <span style="color: #0000FF;">import</span> *
<span style="color: #0000FF;">print</span> <span style="color: #008000;">'&lt;ol&gt;'</span>
<span style="color: #0000FF;">print</span> <span style="color: #008000;">'&lt;li&gt;'</span>,get_html_citation(<span style="color: #008000;">'2-s2.0-84896759135'</span>),<span style="color: #008000;">'&lt;/li&gt;'</span>
<span style="color: #0000FF;">print</span>
<span style="color: #0000FF;">print</span> <span style="color: #008000;">'&lt;li&gt;'</span>,get_html_citation(<span style="color: #008000;">'2-s2.0-84924911828'</span>),<span style="color: #008000;">'&lt;/li&gt;'</span>
<span style="color: #0000FF;">print</span>
<span style="color: #0000FF;">print</span> <span style="color: #008000;">'&lt;li&gt;'</span>,get_html_citation(<span style="color: #008000;">'2-s2.0-84901638552'</span>),<span style="color: #008000;">'&lt;/li&gt;'</span>
<span style="color: #0000FF;">print</span> <span style="color: #008000;">'&lt;/ol&gt;'</span>
</pre>
</div>
<ol>
<li> <a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=8724572500">Thompson R.L.</a>, <a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=22981503200">Shi W.</a>, <a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=6506329719">Albenze E.</a>, <a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=23004637900">Kusuma V.A.</a>, <a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=55676869000">Hopkinson D.</a>, <a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=7003584159">Damodaran K.</a>, <a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=55005205100">Lee A.S.</a>, <a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=7004212771">Kitchin J.R.</a>, <a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=6701399651">Luebke D.R.</a>, <a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=24081524800">Nulwala H.</a>, <i><a href="http://www.scopus.com/inward/record.url?partnerID=HzOxMe3b&scp=84896759135&origin=inward">Probing the effect of electron donation on CO2 absorbing 1,2,3-triazolide ionic liquids</a></i>, <a href="http://www.scopus.com/source/sourceInfo.url?sourceId=21100199840">RSC Advances</a>, <b>4(25)</b>, p. 12748-12755, (2014-03-17), <a href="https://doi.org/10.1039/c3ra47097k">doi:10.1039/c3ra47097k</a>, <img src="http://api.elsevier.com/content/abstract/citation-count?doi=10.1039/c3ra47097k&httpAccept=image/jpeg&apiKey=5cd06d8a7df3de986bf3d0cd9971a47c"></img>. </li>

<li> <a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=55569461200">Xu Z.</a>, <a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=7004212771">Kitchin J.R.</a>, <i><a href="http://www.scopus.com/inward/record.url?partnerID=HzOxMe3b&scp=84924911828&origin=inward">Relationships between the surface electronic and chemical properties of doped 4d and 5d late transition metal dioxides</a></i>, <a href="http://www.scopus.com/source/sourceInfo.url?sourceId=28134">Journal of Chemical Physics</a>, <b>142(10)</b>, 104703, (2015-03-14), <a href="https://doi.org/10.1063/1.4914093">doi:10.1063/1.4914093</a>, <img src="http://api.elsevier.com/content/abstract/citation-count?doi=10.1063/1.4914093&httpAccept=image/jpeg&apiKey=5cd06d8a7df3de986bf3d0cd9971a47c"></img>. </li>

<li> <a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=55569461200">Xu Z.</a>, <a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=7004212771">Kitchin J.R.</a>, <i><a href="http://www.scopus.com/inward/record.url?partnerID=HzOxMe3b&scp=84901638552&origin=inward">Relating the electronic structure and reactivity of the 3d transition metal monoxide surfaces</a></i>, <a href="http://www.scopus.com/source/sourceInfo.url?sourceId=22746">Catalysis Communications</a>, <b>52</b>, p. 60-64, (2014-07-05), <a href="https://doi.org/10.1016/j.catcom.2013.10.028">doi:10.1016/j.catcom.2013.10.028</a>, <img src="http://api.elsevier.com/content/abstract/citation-count?doi=10.1016/j.catcom.2013.10.028&httpAccept=image/jpeg&apiKey=5cd06d8a7df3de986bf3d0cd9971a47c"></img>. </li>
</ol>
</div>
</div>


<div id="outline-container-sec-7" class="outline-2">
<h2 id="sec-7"><span class="section-number-2">7</span> Finally getting my documents</h2>
<div class="outline-text-2" id="text-7">
<p>
Here we get the EIDs from a search query. We use these in the next section to get a new bibliography.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">import</span> requests
<span style="color: #0000FF;">import</span> json
<span style="color: #0000FF;">from</span> my_scopus <span style="color: #0000FF;">import</span> MY_API_KEY
<span style="color: #BA36A5;">resp</span> = requests.get(<span style="color: #008000;">"http://api.elsevier.com/content/search/scopus?query=AU-ID(7004212771)&amp;field=eid,aggregationType&amp;count=100"</span>,
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   headers={<span style="color: #008000;">'Accept'</span>:<span style="color: #008000;">'application/json'</span>,
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>    <span style="color: #008000;">'X-ELS-APIKey'</span>: MY_API_KEY})

<span style="color: #BA36A5;">results</span> = resp.json()

<span style="color: #0000FF;">return</span> [[<span style="color: #006FE0;">str</span>(r[<span style="color: #008000;">'eid'</span>]), <span style="color: #006FE0;">str</span>(r[<span style="color: #008000;">'prism:aggregationType'</span>])] <span style="color: #0000FF;">for</span> r <span style="color: #0000FF;">in</span> results[<span style="color: #008000;">'search-results'</span>][<span style="color: #008000;">"entry"</span>] <span style="color: #0000FF;">if</span> <span style="color: #006FE0;">str</span>(r[<span style="color: #008000;">'prism:aggregationType'</span>]) == <span style="color: #008000;">'Journal'</span>]
</pre>
</div>


<table id="my-eids" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">2-s2.0-84924911828</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84923164062</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84924778427</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84924130725</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84901638552</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84898934670</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84896759135</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84896380535</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84896585411</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84916613197</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84908637059</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84880986072</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84881394200</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84873706643</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84876703352</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84867809683</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84864914806</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84865730756</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84864592302</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84863684845</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84866142469</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84861127526</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-80052944171</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-80051809046</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-79953651013</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-79952860396</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-77956568341</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-77954747189</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-77956693843</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-77949916234</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-77955464573</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-72049114200</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-73149124752</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-73149109096</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-67449106405</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-63649114440</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-60849113132</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-58649114498</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-40949100780</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-33750804660</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-20544467859</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-15744396507</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-9744261716</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-13444307808</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-3042820285</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-2942640180</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-0142023762</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-0141924604</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-0037368024</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-0037197884</td>
<td class="left">Journal</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-sec-8" class="outline-2">
<h2 id="sec-8"><span class="section-number-2">8</span> And my html bibliography</h2>
<div class="outline-text-2" id="text-8">
<p>
This generates my blog bibliography page..
</p>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">from</span> scopus_xml <span style="color: #0000FF;">import</span> *

<span style="color: #0000FF;">import</span> requests
<span style="color: #0000FF;">import</span> json
<span style="color: #0000FF;">from</span> my_scopus <span style="color: #0000FF;">import</span> MY_API_KEY
<span style="color: #BA36A5;">resp</span> = requests.get(<span style="color: #008000;">"http://api.elsevier.com/content/search/scopus?query=AU-ID(7004212771)&amp;field=eid,aggregationType&amp;count=100"</span>,
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   headers={<span style="color: #008000;">'Accept'</span>:<span style="color: #008000;">'application/json'</span>,
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>    <span style="color: #008000;">'X-ELS-APIKey'</span>: MY_API_KEY})

<span style="color: #BA36A5;">results</span> = resp.json()

<span style="color: #BA36A5;">data</span> = [[<span style="color: #006FE0;">str</span>(r[<span style="color: #008000;">'eid'</span>]), <span style="color: #006FE0;">str</span>(r[<span style="color: #008000;">'prism:aggregationType'</span>])] <span style="color: #0000FF;">for</span> r <span style="color: #0000FF;">in</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   results[<span style="color: #008000;">'search-results'</span>][<span style="color: #008000;">"entry"</span>] <span style="color: #0000FF;">if</span> <span style="color: #006FE0;">str</span>(r[<span style="color: #008000;">'prism:aggregationType'</span>]) == <span style="color: #008000;">'Journal'</span>]


<span style="color: #0000FF;">with</span> <span style="color: #006FE0;">open</span>(<span style="color: #008000;">'../publications.html.mako'</span>, <span style="color: #008000;">'w'</span>) <span style="color: #0000FF;">as</span> f:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   f.write(<span style="color: #008000;">'''&lt;%inherit file="_templates/site.mako" /&gt;</span>
<span style="color: #008000;">&lt;article class="page_box"&gt;</span>
<span style="color: #008000;">&lt;%self:filter chain="markdown"&gt;</span>

<span style="color: #008000;">&lt;h1&gt;Online collections of our work&lt;/h1&gt;</span>
<span style="color: #008000;">Pick your favorite:</span>
<span style="color: #008000;">&lt;ul&gt;</span>
<span style="color: #008000;">&lt;li&gt;&lt;a href="http://orcid.org/0000-0003-2625-9232"&gt;orcid:0000-0003-2625-9232&lt;/a&gt;&lt;/li&gt;</span>

<span style="color: #008000;">&lt;li&gt;&lt;a href="http://www.researcherid.com/rid/A-2363-2010"&gt;researcherid:A-2363-2010&lt;/a&gt;&lt;/li&gt;</span>

<span style="color: #008000;">&lt;li&gt;&lt;a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&amp;authorId=7004212771"&gt;scopusid:7004212771&lt;/a&gt;&lt;/li&gt;</span>

<span style="color: #008000;">&lt;li&gt;&lt;a href="https://scholar.google.com/citations?user=jD_4h7sAAAAJ"&gt;Google Scholar&lt;/a&gt;&lt;/li&gt;</span>

<span style="color: #008000;">&lt;li&gt;&lt;a href="https://www.researchgate.net/profile/John_Kitchin"&gt;Research Gate&lt;/a&gt;&lt;/li&gt;</span>

<span style="color: #008000;">&lt;li&gt;&lt;a href="https://www.growkudos.com/profiles/40205"&gt;Kudos&lt;/a&gt;&lt;/li&gt;</span>
<span style="color: #008000;">&lt;/ul&gt;</span>

<span style="color: #008000;">&lt;h1&gt;Publications&lt;/h1&gt;</span>
<span style="color: #008000;">The authors are linked to their Scopus page, the title linked to the Scopus abstract, the journal linked to the Scopus journal page, and the DOI is linked to https://doi.org which normally redirects you to the journal page.</span>

<span style="color: #008000;">&lt;ol reversed="reversed"&gt;</span>
<span style="color: #008000;">'''</span>)

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">for</span> eid,<span style="color: #006FE0;">type</span> <span style="color: #0000FF;">in</span> data:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   f.write(<span style="color: #008000;">'&lt;li&gt;{}&lt;/li&gt;'</span>.<span style="color: #006FE0;">format</span>(get_html_citation(eid)))
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   f.write(<span style="color: #008000;">'''&lt;/ol&gt;</span>

<span style="color: #008000;">&lt;/%self:filter&gt;</span>
<span style="color: #008000;">&lt;/article&gt;</span>
<span style="color: #008000;">'''</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-9" class="outline-2">
<h2 id="sec-9"><span class="section-number-2">9</span> Summary</h2>
<div class="outline-text-2" id="text-9">
<p>
The XML format is not that intuitive to me. It takes some practice writing robust code, e.g. sometimes the find command does not find anything, and then there is not text attribute to get, so you should check for success on finding things. Also, some text is unicode, and you have to take care to encode it, which my library does not do uniformly. Finally, not all journals have things like volume or issue. My formatting code is not super flexible, so these bibliography entries show None in them occasionally. Still, it is not too bad, and this enables a lot of analysis of your publications, as well as displaying them in different ways. See the result of this page here: <a href="http://kitchingroup.cheme.cmu.edu/publications.html">http://kitchingroup.cheme.cmu.edu/publications.html</a>
</p>
</div>
</div>
<p>Copyright (C) 2015 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2015/04/06/Using-the-Scopus-api-with-xml-output.org">org-mode source</a><p><p>Org-mode version = 8.2.10</p>


    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Share on Twitter</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


<a href="https://twitter.com/search?q=https://kitchingroup.cheme.cmu.edu/blog/2015/04/06/Using-the-Scopus-api-with-xml-output">Discuss on Twitter</a>

  <hr class="interblog" />
  





<article>
  <div class="blog_post">
    <header>
      <div id="Making-highly-linked-bibliographies-from-the-Scopus-API"></div>
      <h2 class="blog_post_title"><a href="/blog/2015/04/04/Making-highly-linked-bibliographies-from-the-Scopus-API/" rel="bookmark" title="Permanent Link to Making highly linked bibliographies from the Scopus API">Making highly linked bibliographies from the Scopus API</a></h2>
      <p><small><span class="blog_post_date">Posted April 04, 2015 at 11:32 AM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/scopus/'>scopus</a>, <a href='/blog/category/python/'>python</a></span> | tags: 
      </small></p>
    </header>
    <div class="post_prose">
      




<p>
A given article entry in a bibliography might have the following kinds of links in it. I think we can generate these from a Scopus query.
</p>

<ul class="org-ul">
<li>Author page: <a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=7004212771">http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=7004212771</a>
</li>
<li><a href="https://www.scopus.com/record/display.url?eid=2-s2.0-84901638552&origin=resultslist&sort=plf-f&src=s&sid=66816438A83B9A7B72A35BF872F8E10E.WeLimyRvBMk2ky9SFKc8Q%3a50&sot=autdocs&sdt=autdocs&sl=17&s=AU-ID%287004212771%29&relpos=4&relpos=4&citeCnt=2&searchTerm=">Document page</a>
</li>
<li>Journal page: <a href="http://www.scopus.com/source/sourceInfo.url?sourceId=22746&origin=resultslist">http://www.scopus.com/source/sourceInfo.url?sourceId=22746&origin=resultslist</a>
</li>
<li><a href="https://www.scopus.com/results/citedbyresults.url?sort=plf-f&cite=2-s2.0-84901638552&src=s&imp=t&sid=66816438A83B9A7B72A35BF872F8E10E.WeLimyRvBMk2ky9SFKc8Q%3a230&sot=cite&sdt=a&sl=0&origin=resultslist&editSaveSearch=&txGid=66816438A83B9A7B72A35BF872F8E10E.WeLimyRvBMk2ky9SFKc8Q%3a23">Cited by</a>
</li>
<li><a href="https://doi.org/10.1016/j.catcom.2013.10.028">https://doi.org/10.1016/j.catcom.2013.10.028</a>
</li>
<li><a href="https://www.scopus.com/results/citedbyresults.url?sort=r-f&src=s&mltEid=2-s2.0-84901638552&mltType=ref&mltAll=t&imp=t&sid=66816438A83B9A7B72A35BF872F8E10E.WeLimyRvBMk2ky9SFKc8Q%3a290&sot=mlt&sdt=mlt&sl=730&s=REFEID%28%28%222-s2.0-79953651013%22%29+OR+%28%222-s2.0-84855602300%22%29+OR+%28%222-s2.0-33750453016%22%29+OR+%28%222-s2.0-33645349847%22%29+OR+%28%222-s2.0-0034814842%22%29+OR+%28%222-s2.0-77955464573%22%29+OR+%28%222-s2.0-13444307808%22%29+OR+%28%222-s2.0-53349153662%22%29+OR+%28%222-s2.0-80051809046%22%29+OR+%28%222-s2.0-84876703352%22%29+OR+%28%222-s2.0-80053316882%22%29+OR+%28%222-s2.0-83255187152%22%29+OR+%28%222-s2.0-80052944171%22%29+OR+%28%222-s2.0-84865730756%22%29+OR+%28%222-s2.0-0000778362%22%29+OR+%28%222-s2.0-60349090198%22%29+OR+%28%222-s2.0-2442537377%22%29+OR+%28%222-s2.0-0030190741%22%29+OR+%28%222-s2.0-25744460922%22%29+OR+%28%222-s2.0-0011236321%22%29+OR+%28%222-s2.0-4243943295%22%29+OR+%28%222-s2.0-4944232881%22%29+OR+%28%222-s2.0-1842816907%22%29+OR+%28%222-s2.0-33646343022%22%29+OR+%28%222-s2.0-4143079428%22%29+OR+%28%222-s2.0-77954807118%22%29+OR+%28%222-s2.0-11544320930%22%29%29+AND+NOT+EID+%282-s2.0-84901638552%29&origin=resultslist&txGid=66816438A83B9A7B72A35BF872F8E10E.WeLimyRvBMk2ky9SFKc8Q%3a29">Related articles</a>
</li>
</ul>

<p>
We are going to look at the document above, with eid=2-s2.0-84901638552. This is another long post, so here is a teaser of what we are doing. For this eid, we want to generate an html entry where each part of the entry is clickable. Here is what we will be able to do by the end of this post:
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">from</span> scopus <span style="color: #0000FF;">import</span> *

<span style="color: #0000FF;">print</span> <span style="color: #008000;">'&lt;ol&gt;'</span>, get_html(<span style="color: #008000;">'2-s2.0-84901638552'</span>), <span style="color: #008000;">'&lt;/ol&gt;'</span>
</pre>
</div>

<ol> <li><a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=55569461200">Xu Z.</a>,<a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=7004212771">Kitchin J.R.</a>, <i><a href="http://www.scopus.com/inward/record.url?partnerID=HzOxMe3b&scp=84901638552&origin=inward">Relating the electronic structure and reactivity of the 3d transition metal monoxide surfaces</a></i>, <a href="http://www.scopus.com/source/sourceInfo.url?sourceId=22746">Catalysis Communications</a>, <b>52</b>, p. 60-64, (2014-07-05), <a href="https://doi.org/10.1016/j.catcom.2013.10.028">doi:10.1016/j.catcom.2013.10.028</a>, <img src="http://api.elsevier.com/content/abstract/citation-count?doi=10.1016/j.catcom.2013.10.028&httpAccept=image/jpeg&apiKey=5cd06d8a7df3de986bf3d0cd9971a47c"></img>.</li> </ol>

<p>
In this post, we work out code that works for this document. This code in the form shown here might not work on all entries, e.g. for ones that are in press and are missing data, or for APS journals that have no page range. Later, I will fix those so this is more robust. To minimize repeating the code below, I create a python module here called <a href="/media/2015-04-04-Making-highly-linked-bibliographies-from-the-Scopus-API/scopus.py">scopus.py</a> .  Tangle it out with <a href="org-babel-tangle">org-babel-tangle</a>. As in the last <a href="http://kitchingroup.cheme.cmu.edu/blog/2015/04/03/Getting-data-from-the-Scopus-API/">post</a> , I am not sharing my API key here, since it is not clear if that key is private or not.
</p>

<p>
I like json, so we use that data format here. XML would be more robust, as the Scopus site admits not all of the data can be turned into the json format, but for now we stick to json for its simplicity.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">import</span> requests
<span style="color: #0000FF;">import</span> json, os
<span style="color: #0000FF;">from</span> my_scopus <span style="color: #0000FF;">import</span> MY_API_KEY

<span style="color: #0000FF;">def</span> <span style="color: #006699;">get_abstract_info</span>(EID, refresh=<span style="color: #D0372D;">False</span>):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #008000;">'Get and save the json data for EID.'</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">base</span> = <span style="color: #008000;">'scopus-data/get_abstract_info'</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">if</span> <span style="color: #0000FF;">not</span> os.path.exists(base):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   os.makedirs(base)

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">fname</span> = <span style="color: #008000;">'{0}/{1}'</span>.<span style="color: #006FE0;">format</span>(base, EID)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">if</span> os.path.exists(fname) <span style="color: #0000FF;">and</span> <span style="color: #0000FF;">not</span> refresh:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">with</span> <span style="color: #006FE0;">open</span>(fname) <span style="color: #0000FF;">as</span> f:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">return</span> json.loads(f.read())

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Otherwise retrieve and save results</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">url</span> = (<span style="color: #008000;">"http://api.elsevier.com/content/abstract/eid/"</span> + EID)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">resp</span> = requests.get(url,
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   headers={<span style="color: #008000;">'Accept'</span>:<span style="color: #008000;">'application/json'</span>,
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>    <span style="color: #008000;">'X-ELS-APIKey'</span>: MY_API_KEY})
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">results</span> = json.loads(resp.text.encode(<span style="color: #008000;">'utf-8'</span>))
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">with</span> <span style="color: #006FE0;">open</span>(fname, <span style="color: #008000;">'w'</span>) <span style="color: #0000FF;">as</span> f:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   f.write(json.dumps(results))

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">return</span> results
</pre>
</div>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Author pages</h2>
<div class="outline-text-2" id="text-1">
<p>
Here, we generate the html that will make each author a clickable link that goes to their Scopus ID author page.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">def</span> <span style="color: #006699;">get_author_link</span>(EID):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">data</span> = get_abstract_info(EID)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">result</span> = data[<span style="color: #008000;">'abstracts-retrieval-response'</span>]
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">html</span> = <span style="color: #008000;">'&lt;a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&amp;authorId={0}"&gt;{1}&lt;/a&gt;'</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">authors</span> = [html.<span style="color: #006FE0;">format</span>(auid, name) <span style="color: #0000FF;">for</span> auid, name <span style="color: #0000FF;">in</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>      <span style="color: #006FE0;">zip</span>([x[<span style="color: #008000;">'@auid'</span>] <span style="color: #0000FF;">for</span> x <span style="color: #0000FF;">in</span> result[<span style="color: #008000;">'authors'</span>][<span style="color: #008000;">'author'</span>]],
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>      [x[<span style="color: #008000;">'ce:indexed-name'</span>] <span style="color: #0000FF;">for</span> x <span style="color: #0000FF;">in</span> result[<span style="color: #008000;">'authors'</span>][<span style="color: #008000;">'author'</span>]])]

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">return</span> <span style="color: #008000;">','</span>.join(authors)
</pre>
</div>


<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">from</span> scopus <span style="color: #0000FF;">import</span> *
<span style="color: #0000FF;">print</span> get_author_link(<span style="color: #008000;">'2-s2.0-84901638552'</span>)
</pre>
</div>

<a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=55569461200">Xu Z.</a>,<a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=7004212771">Kitchin J.R.</a>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Journal link</h2>
<div class="outline-text-2" id="text-2">
<p>
The most important pieces of information we need is the journal name and the source-id from the coredata.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">from</span> scopus <span style="color: #0000FF;">import</span> *
<span style="color: #BA36A5;">EID</span> = <span style="color: #008000;">'2-s2.0-84901638552'</span>
<span style="color: #BA36A5;">data</span> = get_abstract_info(EID)
<span style="color: #BA36A5;">result</span> = data[<span style="color: #008000;">'abstracts-retrieval-response'</span>]
<span style="color: #0000FF;">print</span> result[<span style="color: #008000;">'coredata'</span>][<span style="color: #008000;">'source-id'</span>]
<span style="color: #0000FF;">print</span> result[<span style="color: #008000;">'coredata'</span>][<span style="color: #008000;">'prism:publicationName'</span>]
</pre>
</div>

<pre class="example">
22746
Catalysis Communications
</pre>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">def</span> <span style="color: #006699;">get_journal_link</span>(EID):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">data</span> = get_abstract_info(EID)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">result</span> = data[<span style="color: #008000;">'abstracts-retrieval-response'</span>]
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">sid</span> = result[<span style="color: #008000;">'coredata'</span>][<span style="color: #008000;">'source-id'</span>]
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">journal</span> = result[<span style="color: #008000;">'coredata'</span>][<span style="color: #008000;">'prism:publicationName'</span>]
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">s</span> = <span style="color: #008000;">'&lt;a href="http://www.scopus.com/source/sourceInfo.url?sourceId={sid}"&gt;{journal}&lt;/a&gt;'</span>

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">return</span> s.<span style="color: #006FE0;">format</span>(sid=sid, journal=journal)
</pre>
</div>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">from</span> scopus <span style="color: #0000FF;">import</span> *
<span style="color: #0000FF;">print</span> get_journal_link(<span style="color: #008000;">'2-s2.0-84901638552'</span>)
</pre>
</div>

<a href="http://www.scopus.com/source/sourceInfo.url?sourceId=22746">Catalysis Communications</a>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> DOI link</h2>
<div class="outline-text-2" id="text-3">
<p>
It would be helpful to have a doi link, which is actually independent of Scopus so people without Scopus access can still access information.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">from</span> scopus <span style="color: #0000FF;">import</span> *
<span style="color: #BA36A5;">EID</span> = <span style="color: #008000;">'2-s2.0-84901638552'</span>
<span style="color: #BA36A5;">data</span> = get_abstract_info(EID)
<span style="color: #BA36A5;">result</span> = data[<span style="color: #008000;">'abstracts-retrieval-response'</span>]
<span style="color: #0000FF;">print</span> result[<span style="color: #008000;">'coredata'</span>][<span style="color: #008000;">'prism:doi'</span>]
</pre>
</div>

<pre class="example">
10.1016/j.catcom.2013.10.028
</pre>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">def</span> <span style="color: #006699;">get_doi_link</span>(EID):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">data</span> = get_abstract_info(EID)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">result</span> = data[<span style="color: #008000;">'abstracts-retrieval-response'</span>]
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">s</span> = <span style="color: #008000;">'&lt;a href="https://doi.org/{doi}"&gt;doi:{doi}&lt;/a&gt;'</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">return</span> s.<span style="color: #006FE0;">format</span>(doi=result[<span style="color: #008000;">'coredata'</span>][<span style="color: #008000;">'prism:doi'</span>])
</pre>
</div>


<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">from</span> scopus <span style="color: #0000FF;">import</span> *
<span style="color: #0000FF;">print</span> get_doi_link(<span style="color: #008000;">'2-s2.0-84901638552'</span>)
</pre>
</div>

<a href="https://doi.org/10.1016/j.catcom.2013.10.028">doi:10.1016/j.catcom.2013.10.028</a>
</div>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> Citation count image</h2>
<div class="outline-text-2" id="text-4">
<p>
It is nice to show impact of a paper by showing the citations. These change with time, so a static view is not ideal. Scopus provides a way to get an image they generate that should update when viewed. We need the doi to get that.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">def</span> <span style="color: #006699;">get_cite_img_link</span>(EID):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">data</span> = get_abstract_info(EID)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">result</span> = data[<span style="color: #008000;">'abstracts-retrieval-response'</span>]
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">s</span> = <span style="color: #008000;">'&lt;img src="http://api.elsevier.com/content/abstract/citation-count?doi={doi}&amp;httpAccept=image/jpeg&amp;apiKey={apikey}"&gt;&lt;/img&gt;'</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">return</span> s.<span style="color: #006FE0;">format</span>(doi=result[<span style="color: #008000;">'coredata'</span>][<span style="color: #008000;">'prism:doi'</span>].strip(), apikey=MY_API_KEY)
</pre>
</div>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">from</span> scopus <span style="color: #0000FF;">import</span> *
<span style="color: #0000FF;">print</span> get_cite_img_link(<span style="color: #008000;">'2-s2.0-84901638552'</span>)
</pre>
</div>

<img src="http://api.elsevier.com/content/abstract/citation-count?doi=10.1016/j.catcom.2013.10.028&httpAccept=image/jpeg&apiKey=5cd06d8a7df3de986bf3d0cd9971a47c"></img>
</div>
</div>

<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5"><span class="section-number-2">5</span> The document link</h2>
<div class="outline-text-2" id="text-5">
<p>
The document link is sort of buried in the coredata. It seems like &amp; has been replaced by &amp;amp; in the json data so we have to do a clunky fix here.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">from</span> scopus <span style="color: #0000FF;">import</span> *
<span style="color: #BA36A5;">EID</span> = <span style="color: #008000;">'2-s2.0-84901638552'</span>
<span style="color: #BA36A5;">data</span> = get_abstract_info(EID)
<span style="color: #BA36A5;">result</span> = data[<span style="color: #008000;">'abstracts-retrieval-response'</span>]

<span style="color: #0000FF;">print</span> result[<span style="color: #008000;">'coredata'</span>][<span style="color: #008000;">'dc:title'</span>]
<span style="color: #0000FF;">for</span> ref <span style="color: #0000FF;">in</span> result[<span style="color: #008000;">'coredata'</span>][<span style="color: #008000;">'link'</span>]:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">if</span> ref[<span style="color: #008000;">'@rel'</span>] == <span style="color: #008000;">'scopus'</span>:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">print</span> ref[<span style="color: #008000;">'@href'</span>].replace(<span style="color: #008000;">'&amp;amp;'</span>, <span style="color: #008000;">'&amp;'</span>)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">break</span>
</pre>
</div>

<pre class="example">
Relating the electronic structure and reactivity of the 3d transition metal monoxide surfaces
http://www.scopus.com/inward/record.url?partnerID=HzOxMe3b&amp;scp=84901638552&amp;origin=inward
</pre>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">def</span> <span style="color: #006699;">get_abstract_link</span>(EID):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">data</span> = get_abstract_info(EID)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">result</span> = data[<span style="color: #008000;">'abstracts-retrieval-response'</span>]
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">title</span> = result[<span style="color: #008000;">'coredata'</span>][<span style="color: #008000;">'dc:title'</span>]
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">for</span> ref <span style="color: #0000FF;">in</span> result[<span style="color: #008000;">'coredata'</span>][<span style="color: #008000;">'link'</span>]:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">if</span> ref[<span style="color: #008000;">'@rel'</span>] == <span style="color: #008000;">'scopus'</span>:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">link</span> = ref[<span style="color: #008000;">'@href'</span>].replace(<span style="color: #008000;">'&amp;amp;'</span>, <span style="color: #008000;">'&amp;'</span>)

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">s</span> = <span style="color: #008000;">'&lt;a href="{link}"&gt;{title}&lt;/a&gt;'</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">return</span> s.<span style="color: #006FE0;">format</span>(link=link, title=title)
</pre>
</div>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">from</span> scopus <span style="color: #0000FF;">import</span> *
<span style="color: #0000FF;">print</span> get_abstract_link(<span style="color: #008000;">'2-s2.0-84901638552'</span>)
</pre>
</div>

<a href="http://www.scopus.com/inward/record.url?partnerID=HzOxMe3b&scp=84901638552&origin=inward">Relating the electronic structure and reactivity of the 3d transition metal monoxide surfaces</a>
</div>
</div>

<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6"><span class="section-number-2">6</span> Putting it all together</h2>
<div class="outline-text-2" id="text-6">
<p>
Our goal is ultimately an html formatted citation where nearly every piece is a hyperlink to additional information, e.g. each author is linked to their page, the title is linked to the scopus document page, the journal is linked to the scopus journal page, a DOI link, and an image of the number of citations. Here it is.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">def</span> <span style="color: #006699;">get_html</span>(EID):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">data</span> = get_abstract_info(EID)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">result</span> = data[<span style="color: #008000;">'abstracts-retrieval-response'</span>]

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">s</span> = <span style="color: #008000;">'&lt;li&gt;{authors}, &lt;i&gt;{title}&lt;/i&gt;, {journal}, &lt;b&gt;{volume}{issue}&lt;/b&gt;, p. {pages}, ({year}), {doi}, {cites}.&lt;/li&gt;'</span>

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">issue</span> = <span style="color: #008000;">''</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">if</span> result[<span style="color: #008000;">'coredata'</span>].get(<span style="color: #008000;">'prism:issue'</span>):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">issue</span> = <span style="color: #008000;">'({})'</span>.<span style="color: #006FE0;">format</span>(result[<span style="color: #008000;">'coredata'</span>].get(<span style="color: #008000;">'prism:issue'</span>))
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">return</span> s.<span style="color: #006FE0;">format</span>(authors=get_author_link(EID),
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   title=get_abstract_link(EID),
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   journal=get_journal_link(EID),
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   volume=result[<span style="color: #008000;">'coredata'</span>].get(<span style="color: #008000;">'prism:volume'</span>),
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   issue=issue,
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   pages=result[<span style="color: #008000;">'coredata'</span>].get(<span style="color: #008000;">'prism:pageRange'</span>),
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   year=result[<span style="color: #008000;">'coredata'</span>].get(<span style="color: #008000;">'prism:coverDate'</span>),
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   doi=get_doi_link(EID),
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   cites=get_cite_img_link(EID))
</pre>
</div>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">from</span> scopus <span style="color: #0000FF;">import</span> *
<span style="color: #0000FF;">print</span> get_html(<span style="color: #008000;">'2-s2.0-84901638552'</span>)
</pre>
</div>

<li><a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=55569461200">Xu Z.</a>,<a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=7004212771">Kitchin J.R.</a>, <i><a href="http://www.scopus.com/inward/record.url?partnerID=HzOxMe3b&scp=84901638552&origin=inward">Relating the electronic structure and reactivity of the 3d transition metal monoxide surfaces</a></i>, <a href="http://www.scopus.com/source/sourceInfo.url?sourceId=22746">Catalysis Communications</a>, <b>52</b>, p. 60-64, (2014-07-05), <a href="https://doi.org/10.1016/j.catcom.2013.10.028">doi:10.1016/j.catcom.2013.10.028</a>, <img src="http://api.elsevier.com/content/abstract/citation-count?doi=10.1016/j.catcom.2013.10.028&httpAccept=image/jpeg&apiKey=5cd06d8a7df3de986bf3d0cd9971a47c"></img>.</li>


<p>
Well, that is the end for now. We have a reusable function that generates a nice HTML formatted citation that links out to many different resources. Why aren't all citations on the web this helpful?</p>
</div>
</div>
<p>Copyright (C) 2015 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2015/04/04/Making-highly-linked-bibliographies-from-the-Scopus-API.org">org-mode source</a><p><p>Org-mode version = 8.2.10</p>


    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Share on Twitter</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


<a href="https://twitter.com/search?q=https://kitchingroup.cheme.cmu.edu/blog/2015/04/04/Making-highly-linked-bibliographies-from-the-Scopus-API">Discuss on Twitter</a>

  <hr class="interblog" />
 <a href="../2">Next Page </a>

          </div>
          <div id="sidebar" class="grid_4">
            <aside>
<section>
<script>
  (function() {
    var cx = '002533177287215655227:l7uvu35ssbc';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</section>

<section>
    <h1 class="post_header_gradient theme_font">Twitter</h1>
    <a class="twitter-timeline" href="https://twitter.com/johnkitchin" data-widget-id="545217643582881792">Tweets by @johnkitchin</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</section>


  <section>
    <h1 class="post_header_gradient theme_font">Links</h1>
    <ul>
      <li><a href="https://www.continuum.io">Anaconda Python</a></li>
      <li><a href="/pycse">Pycse</a></li>
      <li><a href="/dft-book">DFT-book</a></li>
    </ul>
  </section>

  <section>
    <h1 class="post_header_gradient theme_font">Latest Posts</h1>
    <ul>
      <li><a href="/blog/2025/02/02/New-publication-Enumeration-of-surface-site-nuclearity-and-shape-in-a-database-of-intermetallic-low-index-surface-facets/">New publication - Enumeration of surface site nuclearity and shape in a database of intermetallic low-index surface facets</a></li>
      <li><a href="/blog/2025/02/01/New-publication-Improved-Uncertainty-Estimation-of-Graph-Neural-Network-Potentials-Using-Engineered-Latent-Space-Distance/">New publication - Improved Uncertainty Estimation of Graph Neural Network Potentials Using Engineered Latent Space Distance</a></li>
      <li><a href="/blog/2025/01/31/New-publication-AdsorbDiff-:-Adsorbate-Placement-via-Conditional-Denoising-Diffusion/">New publication - AdsorbDiff &#58; Adsorbate Placement via Conditional Denoising Diffusion</a></li>
      <li><a href="/blog/2025/01/30/New-publication-Unifying-theory-of-electronic-descriptors-of-metal-surfaces-upon-perturbation/">New publication - Unifying theory of electronic descriptors of metal surfaces upon perturbation</a></li>
      <li><a href="/blog/2025/01/29/New-publication-The-Potential-of-Zero-Total-Charge-Predicts-Cation-Effects-for-the-Oxygen-Reduction-Reaction/">New publication - The Potential of Zero Total Charge Predicts Cation Effects for the Oxygen Reduction Reaction</a></li>
    </ul>
  </section>

<section>
<h1 class="post_header_gradient theme_font">Latest GitHub Repos</h1>
  <a href="https://github.com/jkitchin">@jkitchin</a> on GitHub.
  <ul id="my-github-projects">
        <li class="loading">Status updating&#8230;</li>
  </ul>

</section>
</aside>

          </div>
          <div class="clear"></div>
        </div>
      </div>
      
<footer>
  <div id="footer" class="grid_12">
    <div class="grid_8">
      <p>
        <a href="/blog/feed/index.xml">RSS</a>
      </p>
    </div>
    <div class="grid_4" id="credits">
      <p>
        Copyright 2025
        John Kitchin
      </p>
      <p>
        Powered by <a href="http://www.blogofile.com">Blogofile</a>
      </p>
    </div>
  </div>
</footer>

    </div>
      <script src="//ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/js/libs/jquery-1.5.1.min.js"%3E%3C/script%3E'))</script>
  <script src="/js/plugins.js"></script>
  <script src="/js/script.js"></script>
  <script src="/js/jquery.tweet.js"></script>  
  <script src="/js/site.js"></script>
  <!--[if lt IE 7 ]>
  <script src="js/libs/dd_belatedpng.js"></script>
  <script> DD_belatedPNG.fix('img, .png_bg');</script>
  <![endif]-->
 
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-PH8NF4F0RE"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-PH8NF4F0RE');
</script>


  </body>
</html>






<script src="http://ajax.microsoft.com/ajax/jquery/jquery-1.4.2.min.js" type="text/javascript"></script>
<script src="/js/git.js" type="text/javascript"></script>
<script type="text/javascript">
    $(function() {
     $("#my-github-projects").loadRepositories("jkitchin");
    });
</script>



