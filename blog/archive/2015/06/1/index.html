

<!doctype html>
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Kitchin Research Group</title>
  <meta name="google-site-verification" content="CGcacJdHc2YoZyI0Vey9XRA5qwhhFDzThKJezbRFcJ4" />
  <meta name="description" content="Chemical Engineering at Carnegie Mellon University">
  <meta name="author" content="John Kitchin">
  <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="/blog/feed" />
  <link rel="alternate" type="application/atom+xml" title="Atom 1.0" href="/blog/feed/atom" />
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/img/apple-touch-icon.png">

  <link rel="stylesheet" href="/css/base.css?v=1">
  <link rel="stylesheet" href="/css/grid.css?v=1">
  <link rel="stylesheet" media="handheld" href="/css/handheld.css?v=1">
  <link rel="stylesheet" href="/css/pygments_murphy.css" type="text/css" />

  <script src="/js/libs/modernizr-1.7.min.js"></script>
<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
  <link rel="stylesheet" href="/themes/theme1/style.css?v=1">
<link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>

</head>
  <body>
    <div id="container" class="container container_12">
      <div id="main" role="main">
        <div id="main_block">
          <header>
<div id="header" class="header_gradient theme_font">
<table><tr><td>
    <h1><a href="/">The Kitchin Research Group</a></h1>
    <h2>Chemical Engineering at Carnegie Mellon University</h2>
</td>
<td colspan=100%><div style="float:right;width:100%;text-align:right;"> <span id='badgeCont737515' style='width:126px'><script src='http://labs.researcherid.com/mashlets?el=badgeCont737515&mashlet=badge&showTitle=false&className=a&rid=A-2363-2010'></script></span></div>
</td></tr>
</table>
</div>
  <div id="navigation" class="grid_12">

    <ul class="theme_font">
      <li><a href="/blog"
             class="">Blog</a></li>

      <li><a href="/blog/archive"
             class="">Archives</a></li>

      <li><a href="/publications.html">Publications</a></li>
      <li><a href="/group.html">Group</a></li>

      <li><a href="/research.html"
             class="">Research</a></li>

      <li><a href="/categories.html"
             class="">Categories</a></li>

      <li><a href="/about.html"
             class="">About us</a></li>

      <li><a href="/subscribe.html">Subscribe</a></li>

    </ul>
  </div>
</header>

          <div id="prose_block" class="grid_8">
            
  





<article>
  <div class="blog_post">
    <header>
      <div id="Get-spoken-definitions-from-the-Meriam-dictionary"></div>
      <h2 class="blog_post_title"><a href="/blog/2015/06/30/Get-spoken-definitions-from-the-Meriam-dictionary/" rel="bookmark" title="Permanent Link to Get spoken definitions from the Meriam dictionary">Get spoken definitions from the Meriam dictionary</a></h2>
      <p><small><span class="blog_post_date">Posted June 30, 2015 at 11:26 AM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/emacs/'>emacs</a></span> | tags: 
        | <a href="http://jkitchin.github.io/blog/2015/06/30/Get-spoken-definitions-from-the-Meriam-dictionary#disqus_thread">View Comments</a>
      </small></p>
    </header>
    <div class="post_prose">
      



<p>
Now that I can get <a href="http://kitchingroup.cheme.cmu.edu/blog/2015/06/29/Getting-Emacs-to-read-to-me/">Emacs to speak words</a> , here is a new application of the idea. We use it to speak the definition of the word at point. We look up the definition here:
<a href="http://www.dictionaryapi.com/account/index.htm">http://www.dictionaryapi.com/account/index.htm</a> 
</p>

<p>
You may want to head straight to the video to see how this works here: <a href="https://www.youtube.com/watch?v=m529gXMrXZA">https://www.youtube.com/watch?v=m529gXMrXZA</a> 
</p>


<p>
I had to get an API key for this. I suppose this key should be secret, but it could only be secure by obscurity in any kind of webapp and I don't anticipate using this much so here are the keys I got for the dictionary and thesaurus.
</p>

<p>
Key (Dictionary): 64f0950a-03b9-4315-9ba5-a73a964251ed
Key (Thesaurus): ff0e39e2-b31f-4f17-833c-24e2875aad5d
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #0000FF;">with-current-buffer</span>
    (url-retrieve-synchronously
     (format
      <span style="color: #008000;">"http://www.dictionaryapi.com/api/v1/references/collegiate/xml/%s?key=%s"</span>
      <span style="color: #008000;">"synchronous"</span>
      <span style="color: #008000;">"64f0950a-03b9-4315-9ba5-a73a964251ed"</span>))
  (buffer-substring url-http-end-of-headers (point-max)))
</pre>
</div>

<pre class="example">
&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;entry_list version="1.0"&gt;
</pre>
<p>
:        &lt;entry id="synchronous"&gt;&lt;ew&gt;synchronous&lt;/ew&gt;&lt;subj&gt;AE-4b#CP-5#TL-5&lt;/subj&gt;&lt;hw&gt;syn*chro*nous&lt;/hw&gt;&lt;sound&gt;&lt;wav&gt;synchr14.wav&lt;/wav&gt;&lt;wpr&gt;!siN-kru-nus&lt;/wpr&gt;&lt;/sound&gt;&lt;pr&gt;ˈsiŋ-krə-nəs, ˈsin-&lt;/pr&gt;&lt;fl&gt;adjective&lt;/fl&gt;&lt;et&gt;Late Latin &lt;it&gt;synchronos,&lt;/it&gt; from Greek, from &lt;it&gt;syn-&lt;/it&gt; + &lt;it&gt;chronos&lt;/it&gt; time&lt;/et&gt;&lt;def&gt;&lt;date&gt;1669&lt;/date&gt; &lt;sn&gt;1&lt;/sn&gt; &lt;dt&gt;:happening, existing, or arising at precisely the same time&lt;/dt&gt; &lt;sn&gt;2&lt;/sn&gt; &lt;dt&gt;:recurring or operating at exactly the same periods&lt;/dt&gt; &lt;sn&gt;3&lt;/sn&gt; &lt;dt&gt;:involving or indicating &lt;fw&gt;synchronism&lt;/fw&gt;&lt;/dt&gt; &lt;sn&gt;4 a&lt;/sn&gt; &lt;dt&gt;:having the same period&lt;/dt&gt; &lt;sd&gt;also&lt;/sd&gt; &lt;dt&gt;:having the same period and phase&lt;/dt&gt;  &lt;sn&gt;b&lt;/sn&gt; &lt;dt&gt;:&lt;sx&gt;geostationary&lt;/sx&gt;&lt;/dt&gt; &lt;sn&gt;5&lt;/sn&gt; &lt;dt&gt;:of, used in, or being digital communication (as between computers) in which a common timing signal is established that dictates when individual bits can be transmitted and which allows for very high rates of data transfer&lt;/dt&gt;&lt;ss&gt;contemporary&lt;/ss&gt;&lt;/def&gt;&lt;uro&gt;&lt;ure&gt;syn*chro*nous*ly&lt;/ure&gt; &lt;fl&gt;adverb&lt;/fl&gt;&lt;/uro&gt;&lt;uro&gt;&lt;ure&gt;syn*chro*nous*ness&lt;/ure&gt; &lt;fl&gt;noun&lt;/fl&gt;&lt;/uro&gt;&lt;/entry&gt;
:        &lt;entry id="synchronous motor"&gt;&lt;ew&gt;synchronous motor&lt;/ew&gt;&lt;subj&gt;ME#EE&lt;/subj&gt;&lt;hw&gt;synchronous motor&lt;/hw&gt;&lt;fl&gt;noun&lt;/fl&gt;&lt;def&gt;&lt;date&gt;1897&lt;/date&gt;&lt;dt&gt;:an electric motor having a speed strictly proportional to the frequency of the operating current&lt;/dt&gt;&lt;/def&gt;&lt;/entry&gt;
</p>
<pre class="example">
&lt;/entry_list&gt;
</pre>

<p>
The idea is to query the url, get some xml back, and collect the definitions from it. Then, construct a string of the word, the number of definitions, then the definitions, and say it.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #0000FF;">defun</span> <span style="color: #006699;">speak-definition</span> ()
  (<span style="color: #0000FF;">interactive</span>)
  (<span style="color: #0000FF;">let*</span> ((keyword (thing-at-point 'word))
         (api-key <span style="color: #008000;">"64f0950a-03b9-4315-9ba5-a73a964251ed"</span>)
         (xml (<span style="color: #0000FF;">with-current-buffer</span>
                  (url-retrieve-synchronously
                   (format
                    <span style="color: #008000;">"http://www.dictionaryapi.com/api/v1/references/collegiate/xml/%s?key=%s"</span>
                    keyword
                    api-key))
                (xml-parse-region url-http-end-of-headers (point-max))))
         (entries (xml-get-children (car xml) 'entry))
         (nentries (length entries))
         (defs (<span style="color: #0000FF;">loop</span> for entry in entries
                     collect (car (xml-get-children entry 'def))))
         (definition (format
                      <span style="color: #008000;">"%s"</span>
                      (concat
                       (format <span style="color: #008000;">"%s has %s definition%s. "</span>
                               keyword
                               nentries
                               (<span style="color: #0000FF;">if</span> (<span style="color: #0000FF;">or</span> (= 0 nentries)
                                       (&gt; nentries 1))
                                   <span style="color: #008000;">"s"</span>
                                 <span style="color: #008000;">""</span>))
                       (mapconcat
                        'identity
                        (<span style="color: #0000FF;">loop</span> for element in
                              (<span style="color: #0000FF;">loop</span> for def in defs
                                    collect (car (xml-get-children def 'dt)))
                              for i from 1
                              collect (format <span style="color: #008000;">"%s %s"</span> i (car (xml-node-children element))))
                        <span style="color: #008000;">" "</span>)))))
    (message definition)
    (do-applescript
     (format
      <span style="color: #008000;">"say \"%s\""</span> definition))))
</pre>
</div>

<pre class="example">
speak-definition
</pre>

<p>
Let us try this out on a few words: asynchronous  synchronous  flibbity
</p>

<p>
I guess this would be helpful sometimes ;)
</p>
<p>Copyright (C) 2015 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2015/06/30/Get-spoken-definitions-from-the-Meriam-dictionary.org">org-mode source</a><p><p>Org-mode version = 8.2.10</p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <div class="after_post"><a href="http://jkitchin.github.io/blog/2015/06/30/Get-spoken-definitions-from-the-Meriam-dictionary#disqus_thread">Read and Post Comments</a></div>
  <hr class="interblog" />
  





<article>
  <div class="blog_post">
    <header>
      <div id="Getting-Emacs-to-read-to-me"></div>
      <h2 class="blog_post_title"><a href="/blog/2015/06/29/Getting-Emacs-to-read-to-me/" rel="bookmark" title="Permanent Link to Getting Emacs to read to me">Getting Emacs to read to me</a></h2>
      <p><small><span class="blog_post_date">Posted June 29, 2015 at 02:56 PM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/emacs/'>emacs</a></span> | tags: 
        | <a href="http://jkitchin.github.io/blog/2015/06/29/Getting-Emacs-to-read-to-me#disqus_thread">View Comments</a>
      </small></p>
    </header>
    <div class="post_prose">
      




<p>
I thought it would be interesting to have Emacs read text on the screen. Why? Sometimes I get tired of reading ;) Seriously though, this has applications in accessibility, learning to read, translation, taking a break from looking at the screen, reading emails out loud, fun and games, etc&#x2026; Seems like a worthwhile endeavor!
</p>

<p>
You may want to see this video: <a href="https://www.youtube.com/watch?v=8bgS8yDSkXw">https://www.youtube.com/watch?v=8bgS8yDSkXw</a> to hear how it works.
</p>

<p>
On a Mac, it turns out to be easy to get a voice with a little applescript:
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(do-applescript <span style="color: #008000;">"say \"Hello John\" using \"Victoria\""</span>)
</pre>
</div>

<p>
Interesting idea to integrate some feedback into Emacs-lisp functions! at least if you are on a Mac. All we need are some interactive functions that grab text, and pass them to the applescript with an appropriate amount of escaping any quotes and backslashes.
</p>

<p>
Here is a function to speak the word at point, or selected region, or the text passed to the function:
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #0000FF;">defvar</span> <span style="color: #BA36A5;">words-voice</span> <span style="color: #008000;">"Vicki"</span>
  <span style="color: #036A07;">"Mac voice to use for speaking."</span>)

(<span style="color: #0000FF;">defun</span> <span style="color: #006699;">words-speak</span> (<span style="color: #6434A3;">&amp;optional</span> text)
  <span style="color: #036A07;">"Speak word at point or region. Mac only."</span>
  (<span style="color: #0000FF;">interactive</span>)
  (<span style="color: #0000FF;">unless</span> text
    (<span style="color: #0000FF;">setq</span> text (<span style="color: #0000FF;">if</span> (use-region-p)
                   (buffer-substring
                    (region-beginning) (region-end))
                 (thing-at-point 'word))))
  <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">escape some special applescript chars</span>
  (<span style="color: #0000FF;">setq</span> text (replace-regexp-in-string <span style="color: #008000;">"\\\\"</span> <span style="color: #008000;">"\\\\\\\\"</span> text))
  (<span style="color: #0000FF;">setq</span> text (replace-regexp-in-string <span style="color: #008000;">"\""</span> <span style="color: #008000;">"\\\\\""</span> text))
  (do-applescript
   (format
    <span style="color: #008000;">"say \"%s\" using \"%s\""</span>
    text
    words-voice)))
</pre>
</div>

<pre class="example">
words-speak
</pre>

<p>
Now we can write:
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(words-speak <span style="color: #008000;">"Hello John"</span>)
</pre>
</div>

<p>
One reason I wrote this is to read org-files to me. So, now we write some functions to read words, sentences and paragraphs. These are all syntactic units in Emacs. We write code to enable us to read the next or previous units with the prefix args. Finally,  we bind the commands to some keys and a hydra for fun.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #0000FF;">setq</span> sentence-end-double-space nil)

(<span style="color: #0000FF;">defun</span> <span style="color: #006699;">mac-say-word</span> (<span style="color: #6434A3;">&amp;optional</span> arg)
  <span style="color: #036A07;">"Speak word at point. With ARG, go forward ARG words."</span>
  (<span style="color: #0000FF;">interactive</span> <span style="color: #008000;">"P"</span>)
  <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">arg can be (4), 4, "-", or -1. we handle these like this.</span>
  (<span style="color: #0000FF;">let</span> ((newarg))
    (<span style="color: #0000FF;">when</span> arg
      (<span style="color: #0000FF;">setq</span> newarg (<span style="color: #0000FF;">cond</span>
                    ((listp arg)
                     (round (log (car arg) 4)))
                    ((<span style="color: #0000FF;">and</span> (stringp arg) (string= <span style="color: #008000;">"-"</span> arg))
                     ((&lt; 0 arg) arg)
                     -1)
                    (t arg)))
      (forward-word newarg))
    (<span style="color: #0000FF;">when</span> (thing-at-point 'word)
      (words-speak (thing-at-point 'word)))))

(<span style="color: #0000FF;">defun</span> <span style="color: #006699;">mac-say-sentence</span> (<span style="color: #6434A3;">&amp;optional</span> arg)
  <span style="color: #036A07;">"Speak sentence at point. With ARG, go forward ARG sentences."</span>
  (<span style="color: #0000FF;">interactive</span> <span style="color: #008000;">"P"</span>)
  <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">arg can be (4), 4, "-", or -1. we handle these like this.</span>
  (<span style="color: #0000FF;">let</span> ((newarg))
    (<span style="color: #0000FF;">when</span> arg
      (<span style="color: #0000FF;">setq</span> newarg (<span style="color: #0000FF;">cond</span>
                    ((listp arg)
                     (round (log (car arg) 4)))
                    ((<span style="color: #0000FF;">and</span> (stringp arg) (string= <span style="color: #008000;">"-"</span> arg))
                     ((&lt; 0 arg) arg)
                     -1)
                    (t arg)))
      (forward-sentence newarg)
      (<span style="color: #0000FF;">when</span> (&lt; 0 newarg) (forward-word)))
    (<span style="color: #0000FF;">when</span> (thing-at-point 'sentence)
      (words-speak (thing-at-point 'sentence)))))

(<span style="color: #0000FF;">defun</span> <span style="color: #006699;">mac-say-paragraph</span> (<span style="color: #6434A3;">&amp;optional</span> arg)
  <span style="color: #036A07;">"Speak paragraph at point. With ARG, go forward ARG paragraphs."</span>
  (<span style="color: #0000FF;">interactive</span> <span style="color: #008000;">"P"</span>)
  <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">arg can be (4), 4, "-", or -1. we handle these like this.</span>
  (<span style="color: #0000FF;">let</span> ((newarg))
    (<span style="color: #0000FF;">when</span> arg
      (<span style="color: #0000FF;">setq</span> newarg (<span style="color: #0000FF;">cond</span>
                    ((listp arg)
                     (round (log (car arg) 4)))
                    ((<span style="color: #0000FF;">and</span> (stringp arg) (string= <span style="color: #008000;">"-"</span> arg))
                     ((&lt; 0 arg) arg)
                     -1)
                    (t arg)))
      (forward-paragraph newarg)
      (<span style="color: #0000FF;">when</span> (&lt; 0 newarg) (forward-word)))
    (<span style="color: #0000FF;">when</span> (thing-at-point 'paragraph)
      (words-speak (thing-at-point 'paragraph)))))
</pre>
</div>

<pre class="example">
mac-say-paragraph
</pre>

<p>
Now for some key-bindings. I will make a hydra that allows repeating commands, and a keymap for more direct function calls.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #0000FF;">defhydra</span> mac-speak (<span style="color: #006FE0;">:color</span> red)
  <span style="color: #008000;">"word speak"</span>
  (<span style="color: #008000;">"w"</span> (<span style="color: #0000FF;">progn</span> (mac-say-word) (forward-word)) <span style="color: #008000;">"Next word"</span>)
  (<span style="color: #008000;">"W"</span> (mac-say-word -1) <span style="color: #008000;">"Previous word"</span>)
  (<span style="color: #008000;">"s"</span> (<span style="color: #0000FF;">progn</span> (mac-say-sentence) (forward-sentence)(forward-word)) <span style="color: #008000;">"Next sentence"</span>)
  (<span style="color: #008000;">"S"</span> (mac-say-sentence -1) <span style="color: #008000;">"Previous sentence"</span>)
  (<span style="color: #008000;">"p"</span> (<span style="color: #0000FF;">progn</span> (mac-say-paragraph) (forward-paragraph)) <span style="color: #008000;">"Next paragraph"</span>)
  (<span style="color: #008000;">"P"</span> (mac-say-paragraph -1) <span style="color: #008000;">"Previous paragraph"</span>))

(define-prefix-command 'mac-speak-keymap)
(define-key mac-speak-keymap (vector ?w) 'mac-say-word)
(define-key mac-speak-keymap (vector ?s) 'mac-say-sentence)
(define-key mac-speak-keymap (vector ?p) 'mac-say-paragraph)
(define-key mac-speak-keymap (vector ?h) 'mac-speak/body)
(global-set-key (kbd <span style="color: #008000;">"\C-xr"</span>) 'mac-speak-keymap)
</pre>
</div>

<pre class="example">
mac-speak-keymap
</pre>

<p>
Now, I can navigate text and have my Mac read it to me. It isn't quite like hearing a real person read it, but it is not too bad either. When you need a break from reading, this might be a nice tool!
</p>
<p>Copyright (C) 2015 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2015/06/29/Getting-Emacs-to-read-to-me.org">org-mode source</a><p><p>Org-mode version = 8.2.10</p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <div class="after_post"><a href="http://jkitchin.github.io/blog/2015/06/29/Getting-Emacs-to-read-to-me#disqus_thread">Read and Post Comments</a></div>
  <hr class="interblog" />
  





<article>
  <div class="blog_post">
    <header>
      <div id="New-NSF-Grant-funded"></div>
      <h2 class="blog_post_title"><a href="/blog/2015/06/28/New-NSF-Grant-funded/" rel="bookmark" title="Permanent Link to New NSF Grant funded">New NSF Grant funded</a></h2>
      <p><small><span class="blog_post_date">Posted June 28, 2015 at 12:50 PM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/news/'>news</a></span> | tags: 
        | <a href="http://jkitchin.github.io/blog/2015/06/28/New-NSF-Grant-funded#disqus_thread">View Comments</a>
      </small></p>
    </header>
    <div class="post_prose">
      




<p>
We had a new grant funded by NSF: UNS:Modeling Bulk Composition Dependent Alloy Surface Properties Under Reaction Conditions.
</p>

<p>
Thanks NSF! Read more at <a href="http://www.nsf.gov/awardsearch/showAward?AWD_ID=1506770">http://www.nsf.gov/awardsearch/showAward?AWD_ID=1506770</a> 
</p>
<p>Copyright (C) 2015 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2015/06/28/New-NSF-Grant-funded.org">org-mode source</a><p><p>Org-mode version = 8.2.10</p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <div class="after_post"><a href="http://jkitchin.github.io/blog/2015/06/28/New-NSF-Grant-funded#disqus_thread">Read and Post Comments</a></div>
  <hr class="interblog" />
  





<article>
  <div class="blog_post">
    <header>
      <div id="Serializing-an-Atoms-object-in-xml"></div>
      <h2 class="blog_post_title"><a href="/blog/2015/06/28/Serializing-an-Atoms-object-in-xml/" rel="bookmark" title="Permanent Link to Serializing an Atoms object in xml">Serializing an Atoms object in xml</a></h2>
      <p><small><span class="blog_post_date">Posted June 28, 2015 at 12:26 PM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/python/'>python</a>, <a href='/blog/category/xml/'>xml</a>, <a href='/blog/category/ase/'>ase</a></span> | tags: 
        | <a href="http://jkitchin.github.io/blog/2015/06/28/Serializing-an-Atoms-object-in-xml#disqus_thread">View Comments</a>
      </small></p>
    </header>
    <div class="post_prose">
      



<p>
I have a future need to serialize an Atoms object from <a href="https://wiki.fysik.dtu.dk/ase/">ase</a> as XML. I would use json usually, but I want to use a program that will index xml. I have previously used <a href="https://pypi.python.org/pypi/pyxser/1.5.2-r2">pyxser</a> for this, but I recall it being difficult to install, and it does not pip install on my Mac. So, here we look at <a href="https://pypi.python.org/pypi/xmlwitch/0.2.1">xmlwitch</a> which does pip install ;). This package does some serious magic with context managers.
</p>

<p>
One thing I am not sure about here is the best way to represent numbers and lists/arrays. I am using repr here, and assuming you would want to read this back in to Python where this could simply be eval'ed. Some alternatives would be to convert them to lists, or save them as arrays of xml elements.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">from</span> ase.data.g2 <span style="color: #0000FF;">import</span> data
<span style="color: #0000FF;">from</span> ase.structure <span style="color: #0000FF;">import</span> molecule
<span style="color: #0000FF;">import</span> xmlwitch

<span style="color: #BA36A5;">atoms</span> = molecule(<span style="color: #008000;">'H2O'</span>)

<span style="color: #0000FF;">def</span> <span style="color: #006699;">serialize_atoms</span>(atoms):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #008000;">'Return an xml string of an ATOMS object.'</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">xml</span> = xmlwitch.Builder(version=<span style="color: #008000;">'1.0'</span>, encoding=<span style="color: #008000;">'utf-8'</span>)

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">with</span> xml.atoms():
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">for</span> atom <span style="color: #0000FF;">in</span> atoms:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">with</span> xml.atom(index=<span style="color: #006FE0;">repr</span>(atom.index)):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   xml.symbol(atom.symbol)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   xml.position(<span style="color: #006FE0;">repr</span>(atom.position))
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   xml.magmom(<span style="color: #006FE0;">repr</span>(atom.magmom))
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   xml.mass(<span style="color: #006FE0;">repr</span>(atom.mass))
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   xml.momentum(<span style="color: #006FE0;">repr</span>(atom.momentum))
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   xml.number(<span style="color: #006FE0;">repr</span>(atom.number))
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   xml.cell(<span style="color: #006FE0;">repr</span>(atoms.cell))
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   xml.pbc(<span style="color: #006FE0;">repr</span>(atoms.pbc))
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">return</span> xml

<span style="color: #BA36A5;">atoms_xml</span> = serialize_atoms(atoms)
<span style="color: #0000FF;">print</span> atoms_xml

<span style="color: #0000FF;">with</span> <span style="color: #006FE0;">open</span>(<span style="color: #008000;">'atoms.xml'</span>, <span style="color: #008000;">'w'</span>) <span style="color: #0000FF;">as</span> f:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   f.write(<span style="color: #006FE0;">str</span>(atoms_xml))
</pre>
</div>

<pre class="example">
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;atoms&gt;
  &lt;atom index="0"&gt;
    &lt;symbol&gt;O&lt;/symbol&gt;
    &lt;position&gt;array([ 0.      ,  0.      ,  0.119262])&lt;/position&gt;
    &lt;magmom&gt;0.0&lt;/magmom&gt;
    &lt;mass&gt;15.9994&lt;/mass&gt;
    &lt;momentum&gt;array([ 0.,  0.,  0.])&lt;/momentum&gt;
    &lt;number&gt;8&lt;/number&gt;
  &lt;/atom&gt;
  &lt;atom index="1"&gt;
    &lt;symbol&gt;H&lt;/symbol&gt;
    &lt;position&gt;array([ 0.      ,  0.763239, -0.477047])&lt;/position&gt;
    &lt;magmom&gt;0.0&lt;/magmom&gt;
    &lt;mass&gt;1.0079400000000001&lt;/mass&gt;
    &lt;momentum&gt;array([ 0.,  0.,  0.])&lt;/momentum&gt;
    &lt;number&gt;1&lt;/number&gt;
  &lt;/atom&gt;
  &lt;atom index="2"&gt;
    &lt;symbol&gt;H&lt;/symbol&gt;
    &lt;position&gt;array([ 0.      , -0.763239, -0.477047])&lt;/position&gt;
    &lt;magmom&gt;0.0&lt;/magmom&gt;
    &lt;mass&gt;1.0079400000000001&lt;/mass&gt;
    &lt;momentum&gt;array([ 0.,  0.,  0.])&lt;/momentum&gt;
    &lt;number&gt;1&lt;/number&gt;
  &lt;/atom&gt;
  &lt;cell&gt;array([[ 1.,  0.,  0.],
       [ 0.,  1.,  0.],
       [ 0.,  0.,  1.]])&lt;/cell&gt;
  &lt;pbc&gt;array([False, False, False], dtype=bool)&lt;/pbc&gt;
&lt;/atoms&gt;
</pre>

<p>
Now, we can try reading that file. I am going to use emacs-lisp here for fun, and compute the formula.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #0000FF;">let*</span> ((xml (car (xml-parse-file <span style="color: #008000;">"atoms.xml"</span>)))
       (atoms (xml-get-children xml 'atom))
       (symbol-elements (mapcar (<span style="color: #0000FF;">lambda</span> (atom)
                                  (car (xml-get-children atom 'symbol)))
                                atoms))
       (symbols (mapcar (<span style="color: #0000FF;">lambda</span> (x)
                          (car (xml-node-children x)))
                        symbol-elements)))
  (mapconcat (<span style="color: #0000FF;">lambda</span> (c)
               (format <span style="color: #008000;">"%s%s"</span> (car c)
                       (<span style="color: #0000FF;">if</span> (= 1 (cdr c))
                           <span style="color: #008000;">""</span>
                         (cdr c))))
             (<span style="color: #0000FF;">loop</span> for sym in (-uniq symbols)
                   collect (cons
                            sym
                            (-count (<span style="color: #0000FF;">lambda</span> (x) (string= x sym)) symbols)))
             <span style="color: #008000;">""</span>))
</pre>
</div>

<pre class="example">
OH2
</pre>

<p>
Here is a (misleadingly) concise way to do this in Python. It is so short thanks to there being a Counter that does what we want, and some pretty nice list comprehension!
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">import</span> xml.etree.ElementTree <span style="color: #0000FF;">as</span> ET
<span style="color: #0000FF;">from</span> collections <span style="color: #0000FF;">import</span> Counter
<span style="color: #0000FF;">with</span> <span style="color: #006FE0;">open</span>(<span style="color: #008000;">'atoms.xml'</span>) <span style="color: #0000FF;">as</span> f:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">xml</span> = ET.fromstring(f.read())

<span style="color: #BA36A5;">counts</span> = Counter([el.text <span style="color: #0000FF;">for</span> el <span style="color: #0000FF;">in</span> xml.findall(<span style="color: #008000;">'atom/symbol'</span>)])

<span style="color: #0000FF;">print</span> <span style="color: #008000;">''</span>.join([<span style="color: #008000;">'{0}{1}'</span>.<span style="color: #006FE0;">format</span>(a,b) <span style="color: #0000FF;">if</span> b&gt;1 <span style="color: #0000FF;">else</span> a <span style="color: #0000FF;">for</span> a,b <span style="color: #0000FF;">in</span> counts.iteritems()])
</pre>
</div>

<pre class="example">
H2O
</pre>

<p>
And finally a test on reading a unit cell.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">import</span> xml.etree.ElementTree <span style="color: #0000FF;">as</span> ET
<span style="color: #0000FF;">from</span> numpy <span style="color: #0000FF;">import</span> array

<span style="color: #0000FF;">with</span> <span style="color: #006FE0;">open</span>(<span style="color: #008000;">'atoms.xml'</span>) <span style="color: #0000FF;">as</span> f:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">xml</span> = ET.fromstring(f.read())

<span style="color: #0000FF;">print</span> <span style="color: #006FE0;">eval</span>(xml.find(<span style="color: #008000;">'cell'</span>).text)
</pre>
</div>

<pre class="example">
[[ 1.  0.  0.]
 [ 0.  1.  0.]
 [ 0.  0.  1.]]
</pre>

<p>
That seems to work but, yeah, you won't want to read untrusted xml with that! See <a href="http://stupidpythonideas.blogspot.com/2013/11/repr-eval-bad-idea.html">http://stupidpythonideas.blogspot.com/2013/11/repr-eval-bad-idea.html</a> . It might be better (although not necessarily more secure) to use pickle or some other serialization strategy for this.
</p>
<p>Copyright (C) 2015 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2015/06/28/Serializing-an-Atoms-object-in-xml.org">org-mode source</a><p><p>Org-mode version = 8.2.10</p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <div class="after_post"><a href="http://jkitchin.github.io/blog/2015/06/28/Serializing-an-Atoms-object-in-xml#disqus_thread">Read and Post Comments</a></div>
  <hr class="interblog" />
  





<article>
  <div class="blog_post">
    <header>
      <div id="Clickable-text-for-learning-environments"></div>
      <h2 class="blog_post_title"><a href="/blog/2015/06/26/Clickable-text-for-learning-environments/" rel="bookmark" title="Permanent Link to Clickable text for learning environments">Clickable text for learning environments</a></h2>
      <p><small><span class="blog_post_date">Posted June 26, 2015 at 11:22 AM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/emacs/'>emacs</a></span> | tags: 
        | <a href="http://jkitchin.github.io/blog/2015/06/26/Clickable-text-for-learning-environments#disqus_thread">View Comments</a>
      </small></p>
    </header>
    <div class="post_prose">
      




<p>
One use for clickable text is in educational texts, or technical documents where you want easy access to glossaries for jargon or new words, or other context specific information. Here we consider some approaches to highlight words in an Emacs buffer that are defined in a glossary, to give them tooltips and make them clickable.
</p>

<p>
You may want to see the video of this in action, the blog post does not do it justice: <a href="http://www.youtube.com/watch?v=Ogavyl_QXiU">http://www.youtube.com/watch?v=Ogavyl_QXiU</a> 
</p>

<p>
We assume we have a <a href="#sec-1">1</a> in the current document that has the words we want to highlight as headlines.  Here is a somewhat hacky way to get the list of keywords (hacky because we use cdr to get rid of the Glossary in the list). Our glossary only has two terms: INCAR and KPOINTS.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #0000FF;">save-excursion</span>
    (org-open-link-from-string <span style="color: #008000;">"[[*Glossary]]"</span>)
    (cdr  (org-map-entries (<span style="color: #0000FF;">lambda</span> ()
                             (nth 4 (org-heading-components)))
                           nil 'tree)))
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">INCAR</td>
<td class="left">KPOINTS</td>
</tr>
</tbody>
</table>

<p>
We can use that list to make the regexp for button lock with regexp-opt like we did before. We illustrate two ideas here for the highlighted text. One is a dynamic tooltip, which we calculate on the fly and use to display the contents of the glossary heading when you mouse over the word or call local help from the keyboard (C-h .). Second, when you click on the word, you jump to the section in the glossary, and you can readily jump back with C-c &amp; (Thanks org-mode!).
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #0000FF;">defun</span> <span style="color: #006699;">highlight-glossary-words</span> ()
  (button-lock-set-button
   (regexp-opt (<span style="color: #0000FF;">save-excursion</span>
                 (org-open-link-from-string <span style="color: #008000;">"[[*Glossary]]"</span>)
                 (cdr  (org-map-entries
                        (<span style="color: #0000FF;">lambda</span> ()
                          (nth 4 (org-heading-components)))
                        nil 'tree))))
   (<span style="color: #0000FF;">lambda</span> ()
     <span style="color: #036A07;">"Jump to definition."</span>
     (<span style="color: #0000FF;">interactive</span>)
     (<span style="color: #0000FF;">let</span> ((keyword (get-surrounding-text-with-property 'glossary)))
       (org-open-link-from-string (format <span style="color: #008000;">"[[*%s]]"</span> keyword))))
   <span style="color: #006FE0;">:additional-property</span> 'glossary
   <span style="color: #006FE0;">:face</span> '((<span style="color: #006FE0;">:background</span> <span style="color: #008000;">"gray80"</span>) (<span style="color: #006FE0;">:underline</span> t))
   <span style="color: #006FE0;">:help-echo</span> (<span style="color: #0000FF;">lambda</span> (window object position)
                (<span style="color: #0000FF;">save-excursion</span>
                  (goto-char position)
                  (<span style="color: #0000FF;">save-restriction</span>
                    (org-open-link-from-string
                     (format <span style="color: #008000;">"[[*%s]]"</span> (get-surrounding-text-with-property 'glossary)))
                    (org-narrow-to-subtree)
                    (buffer-string))))))

(highlight-glossary-words)
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">\(?:INCAR\</td>
<td class="left">KPOINTS\)</td>
<td class="left">(0 (quote (face ((:background gray80) (:underline t)) keymap (keymap (mouse-1 lambda nil Jump to definition. (interactive) (let ((keyword (get-surrounding-text-with-property (quote glossary)))) (org-open-link-from-string (format <i>*%s</i> keyword))))) button-lock t glossary t mouse-face button-lock-mouse-face help-echo (lambda (window object position) (save-excursion (goto-char position) (save-restriction (org-open-link-from-string (format <i>*%s</i> (get-surrounding-text-with-property (quote glossary)))) (org-narrow-to-subtree) (buffer-string)))) rear-nonsticky t)) append)</td>
</tr>
</tbody>
</table>

<p>
That is pretty cool. You might want something a little smarter for the tooltip, e.g. just the first line of the headline, but this works fine for this little example. I noticed that flyspell seems to get the tooltip in KPOINTS, sometimes, when it thinks it is misspelled.
</p>

<p>
It might take some local variables to make this work only in this just a file, rather than in every file. Alternatively, you could define a function that opens the file and then applies this.
</p>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Glossary</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1"><span class="section-number-3">1.1</span> INCAR</h3>
<div class="outline-text-3" id="text-1-1">
<p>
The file containing all the input parameters for VASP.
</p>
</div>
</div>

<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2"><span class="section-number-3">1.2</span> KPOINTS</h3>
<div class="outline-text-3" id="text-1-2">
<p>
The file containing the definitions of the kpoint grid.
</p>

<p>
See <a href="http://cms.mpi.univie.ac.at/vasp/vasp/KPOINTS_file.html">http://cms.mpi.univie.ac.at/vasp/vasp/KPOINTS_file.html</a> 
</p>
</div>
</div>
</div>
<p>Copyright (C) 2015 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2015/06/26/Clickable-text-for-learning-environments.org">org-mode source</a><p><p>Org-mode version = 8.2.10</p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <div class="after_post"><a href="http://jkitchin.github.io/blog/2015/06/26/Clickable-text-for-learning-environments#disqus_thread">Read and Post Comments</a></div>
  <hr class="interblog" />
 <a href="../2">Next Page »</a>

          </div>
          <div id="sidebar" class="grid_4">
            <aside>
<section>
<script>
  (function() {
    var cx = '002533177287215655227:l7uvu35ssbc';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</section>

<section>
    <h1 class="post_header_gradient theme_font">Twitter</h1>
    <a class="twitter-timeline" href="https://twitter.com/johnkitchin" data-widget-id="545217643582881792">Tweets by @johnkitchin</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</section>


  <section>
    <h1 class="post_header_gradient theme_font">Links</h1>
    <ul>
      <li><a href="https://www.continuum.io">Anaconda Python</a></li>
      <li><a href="/pycse">Pycse</a></li>
      <li><a href="/dft-book">DFT-book</a></li>
    </ul>
  </section>

  <section>
    <h1 class="post_header_gradient theme_font">Latest Posts</h1>
    <ul>
      <li><a href="/blog/2018/01/27/New-publication-in-Topics-in-Catalysis/">New publication in Topics in Catalysis</a></li>
      <li><a href="/blog/2018/01/03/New-publication-in-Molecular-Simulation/">New publication in Molecular Simulation</a></li>
      <li><a href="/blog/2017/12/31/2017-in-a-nutshell-for-the-Kitchin-Research-group/">2017 in a nutshell for the Kitchin Research group</a></li>
      <li><a href="/blog/2017/11/29/Solving-an-eigenvalue-differential-equation-with-a-neural-network/">Solving an eigenvalue differential equation with a neural network</a></li>
      <li><a href="/blog/2017/11/28/Solving-ODEs-with-a-neural-network-and-autograd/">Solving ODEs with a neural network and autograd</a></li>
    </ul>
  </section>

<section>
<h1 class="post_header_gradient theme_font">Latest GitHub Repos</h1>
  <a href="https://github.com/jkitchin">@jkitchin</a> on GitHub.
  <ul id="my-github-projects">
        <li class="loading">Status updating&#8230;</li>
  </ul>

</section>
</aside>

          </div>
          <div class="clear"></div>
        </div>
      </div>
      
<footer>
  <div id="footer" class="grid_12">
    <div class="grid_8">
      <p>
        <a href="/blog/feed/index.xml">RSS</a>
        <a href="http://kitchinresearchgroup.disqus.com/latest.rss">Comments RSS Feed</a>.
      </p>
    </div>
    <div class="grid_4" id="credits">
      <p>
        Copyright 2018
        John Kitchin
      </p>
      <p>
        Powered by <a href="http://www.blogofile.com">Blogofile</a>
      </p>
    </div>
  </div>
</footer>

    </div>
      <script src="//ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/js/libs/jquery-1.5.1.min.js"%3E%3C/script%3E'))</script>
  <script src="/js/plugins.js"></script>
  <script src="/js/script.js"></script>
  <script src="/js/jquery.tweet.js"></script>  
  <script src="/js/site.js"></script>
  <!--[if lt IE 7 ]>
  <script src="js/libs/dd_belatedpng.js"></script>
  <script> DD_belatedPNG.fix('img, .png_bg');</script>
  <![endif]-->
  <script>
      var _gaq=[['_setAccount','UA-35731398-1'],['_trackPageview']];
      (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.async=1;
      g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
      s.parentNode.insertBefore(g,s)}(document,'script'));
  </script>
  <script>
  (function() {
      var links = document.getElementsByTagName('a');
      var query = '?';
      for(var i = 0; i < links.length; i++) {
          if(links[i].href.indexOf('#disqus_thread') >= 0) {
              query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&';
          }
      }
      document.write('<script charset="utf-8" type="text/javascript" src="http://disqus.com/forums/kitchinresearchgroup/get_num_replies.js' + query + '"></' + 'script>');
  })();
  </script>

  </body>
</html>






<script src="http://ajax.microsoft.com/ajax/jquery/jquery-1.4.2.min.js" type="text/javascript"></script>
<script src="/js/git.js" type="text/javascript"></script>
<script type="text/javascript">
    $(function() {
     $("#my-github-projects").loadRepositories("jkitchin");
    });
</script>



