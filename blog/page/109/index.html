

<!doctype html>
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Kitchin Research Group</title>
  <meta name="google-site-verification" content="CGcacJdHc2YoZyI0Vey9XRA5qwhhFDzThKJezbRFcJ4" />
  <meta name="description" content="Chemical Engineering at Carnegie Mellon University">
  <meta name="author" content="John Kitchin">
  <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="/blog/feed" />
  <link rel="alternate" type="application/atom+xml" title="Atom 1.0" href="/blog/feed/atom" />
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/img/apple-touch-icon.png">

  <link rel="stylesheet" href="/css/base.css?v=1">
  <link rel="stylesheet" href="/css/grid.css?v=1">
  <link rel="stylesheet" media="handheld" href="/css/handheld.css?v=1">
  <link rel="stylesheet" href="/css/pygments_murphy.css" type="text/css" />

  <script src="/js/libs/modernizr-1.7.min.js"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
  <link rel="stylesheet" href="/themes/theme1/style.css?v=1">
<link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>

</head>
  <body>
    <div id="container" class="container container_12">
      <div id="main" role="main">
        <div id="main_block">
          <header>
<div id="header" class="header_gradient theme_font">
<table><tr><td>
    <h1><a href="/">The Kitchin Research Group</a></h1>
    <h2>Chemical Engineering at Carnegie Mellon University</h2>
</td>
<td colspan=100%><div style="float:right;width:100%;text-align:right;"> <span id='badgeCont737515' style='width:126px'><script src='http://labs.researcherid.com/mashlets?el=badgeCont737515&mashlet=badge&showTitle=false&className=a&rid=A-2363-2010'></script></span></div>
</td></tr>
</table>
</div>
  <div id="navigation" class="grid_12">

    <ul class="theme_font">
      <li><a href="/blog"
             class="">Blog</a></li>

      <li><a href="/blog/archive"
             class="">Archives</a></li>

      <li><a href="/publications.html">Publications</a></li>

      <li><a href="/research.html"
             class="">Research</a></li>

      <li><a href="/categories.html"
             class="">Categories</a></li>

      <li><a href="/about.html"
             class="">About us</a></li>

      <li><a href="/subscribe.html">Subscribe</a></li>

    </ul>
  </div>
</header>

          <div id="prose_block" class="grid_8">
            
  





<article>
  <div class="blog_post">
    <header>
      <div id="Are-averages-different"></div>
      <h2 class="blog_post_title"><a href="/blog/2013/02/18/Are-averages-different/" rel="bookmark" title="Permanent Link to Are averages different">Are averages different</a></h2>
      <p><small><span class="blog_post_date">Posted February 18, 2013 at 09:00 AM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/statistics/'>statistics</a>, <a href='/blog/category/data-analysis/'>data analysis</a></span> | tags: 
      <p><small><span class="blog_post_date">Updated February 27, 2013 at 02:35 PM</span></small>
      </small></p>
    </header>
    <div class="post_prose">
      



<p>
<a href="http://matlab.cheme.cmu.edu/2012/01/28/are-two-averages-different/" >Matlab post</a>
</p>

<p>
Adapted from <a href="http://stattrek.com/ap-statistics-4/unpaired-means.aspx" >http://stattrek.com/ap-statistics-4/unpaired-means.aspx</a>
</p>

<p>
Class A had 30 students who received an average test score of 78, with standard deviation of 10. Class B had 25 students an average test score of 85, with a standard deviation of 15. We want to know if the difference in these averages is statistically relevant. Note that we only have estimates of the true average and standard deviation for each class, and there is uncertainty in those estimates. As a result, we are unsure if the averages are really different. It could have just been luck that a few students in class B did better.
</p>

<p>
The hypothesis:
</p>

<p>
the true averages are the same. We need to perform a two-sample t-test of the hypothesis that \(\mu_1 - \mu_2 = 0\) (this is often called the null hypothesis). we use a two-tailed test because we do not care if the difference is positive or negative, either way means the averages are not the same.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #8b0000;">import</span> numpy <span style="color: #8b0000;">as</span> np

n1 = 30  <span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">students in class A</span>
x1 = 78.0  <span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">average grade in class A</span>
s1 = 10.0  <span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">std dev of exam grade in class A</span>

n2 = 25  <span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">students in class B</span>
x2 = 85.0  <span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">average grade in class B</span>
s2 = 15.0  <span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">std dev of exam grade in class B</span>

<span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">the standard error of the difference between the two averages. </span>
SE = np.sqrt(s1**2 / n1 + s2**2 / n2)

<span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">compute DOF</span>
DF = (n1 - 1) + (n2 - 1)
</pre>
</div>

<p>
see the discussion at <a href="http://stattrek.com/Help/Glossary.aspx?Target=Two-sample%20t-test" >http://stattrek.com/Help/Glossary.aspx?Target=Two-sample%20t-test</a> for a more complex definition of degrees of freedom. Here we simply subtract one from each sample size to account for the estimation of the average of each sample.
</p>


<p>
compute the t-score for our data
</p>

<p>
The difference between two averages determined from small sample numbers follows the t-distribution. the t-score is the difference between the difference of the means and the hypothesized difference of the means, normalized by the standard error. we compute the absolute value of the t-score to make sure it is positive for convenience later.
</p>
<div class="org-src-container">

<pre class="src src-python">tscore = np.abs(((x1 - x2) - 0) / SE)
<span style="color: #8b0000;">print</span> tscore
</pre>
</div>

<pre class="example">
1.99323179108
</pre>

<p>
Interpretation
</p>

<p>
A way to approach determinining if the difference is significant or not is to ask, does our computed average fall within a confidence range of the hypothesized value (zero)? If it does, then we can attribute the difference to statistical variations at that confidence level. If it does not, we can say that statistical variations do not account for the difference at that confidence level, and hence the averages must be different.
</p>

<p>
Let us compute the t-value that corresponds to a 95% confidence level for a mean of zero with the degrees of freedom computed earlier. This means that 95% of the t-scores we expect to get will fall within \(\pm\) t95.
</p>


<div class="org-src-container">

<pre class="src src-python"><span style="color: #8b0000;">from</span> scipy.stats.distributions <span style="color: #8b0000;">import</span>  t

ci = 0.95;
alpha = 1 - ci;
t95 = t.ppf(1.0 - alpha/2.0, DF)

<span style="color: #8b0000;">print</span> t95
</pre>
</div>

<pre class="example">
&gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; 2.00574599354
</pre>

<p>
since tscore &lt; t95, we conclude that at the 95% confidence level we cannot say these averages are statistically different because our computed t-score falls in the expected range of deviations. Note that our t-score is very close to the 95% limit. Let us consider a smaller confidence interval.
</p>

<div class="org-src-container">

<pre class="src src-python">ci = 0.94
alpha = 1 - ci;
t95 = t.ppf(1.0 - alpha/2.0, DF)

<span style="color: #8b0000;">print</span> t95
</pre>
</div>

<pre class="example">
&gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; 1.92191364181
</pre>

<p>
at the 94% confidence level, however, tscore &gt; t94, which means we can say with 94% confidence that the two averages are different; class B performed better than class A did. Alternatively, there is only about a 6% chance we are wrong about that statement.
another way to get there
</p>

<p>
An alternative way to get the confidence that the averages are different is to directly compute it from the cumulative t-distribution function. We compute the difference between all the t-values less than tscore and the t-values less than -tscore, which is the fraction of measurements that are between them. You can see here that we are practically 95% sure that the averages are different.
</p>

<div class="org-src-container">

<pre class="src src-python">f = t.cdf(tscore, DF) - t.cdf(-tscore, DF)
<span style="color: #8b0000;">print</span> f
</pre>
</div>

<pre class="example">
0.948605075732
</pre>
<p>Copyright (C) 2013 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2013/02/18/Are-averages-different.org">org-mode source</a><p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Share on Twitter</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


<a href="https://twitter.com/search?q=https://kitchingroup.cheme.cmu.edu/blog/2013/02/18/Are-averages-different">Discuss on Twitter</a>

  <hr class="interblog" />
  





<article>
  <div class="blog_post">
    <header>
      <div id="Nonlinear-curve-fitting-with-confidence-intervals"></div>
      <h2 class="blog_post_title"><a href="/blog/2013/02/18/Nonlinear-curve-fitting-with-confidence-intervals/" rel="bookmark" title="Permanent Link to Nonlinear curve fitting with confidence intervals">Nonlinear curve fitting with confidence intervals</a></h2>
      <p><small><span class="blog_post_date">Posted February 18, 2013 at 09:00 AM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/data-analysis/'>data analysis</a></span> | tags: 
      <p><small><span class="blog_post_date">Updated February 27, 2013 at 02:41 PM</span></small>
      </small></p>
    </header>
    <div class="post_prose">
      




<p>
Our goal is to fit this equation to data \(y = c1 exp(-x) + c2*x\) and compute the confidence intervals on the parameters.
</p>

<p>
This is actually could be a linear regression problem, but it is convenient to illustrate the  use the nonlinear fitting routine because it makes it easy to get
confidence intervals for comparison. The basic idea is to use the covariance matrix returned from the nonlinear fitting routine to estimate the student-t corrected confidence interval. 
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #ff0000; font-weight: bold;"># Nonlinear curve fit with confidence interval</span>
<span style="color: #8b0000;">import</span> numpy <span style="color: #8b0000;">as</span> np
<span style="color: #8b0000;">from</span> scipy.optimize <span style="color: #8b0000;">import</span> curve_fit
<span style="color: #8b0000;">from</span> scipy.stats.distributions <span style="color: #8b0000;">import</span>  t

x = np.array([ 0.1,  0.2,  0.3,  0.4,  0.5,  0.6,  0.7,  0.8,  0.9,  1. ])
y = np.array([ 4.70192769,  4.46826356,  4.57021389,  4.29240134,  3.88155125,
               3.78382253,  3.65454727,  3.86379487,  4.16428541,  4.06079909])

<span style="color: #ff0000; font-weight: bold;"># this is the function we want to fit to our data</span>
<span style="color: #8b0000;">def</span> <span style="color: #8b2323;">func</span>(x,c0, c1):
    <span style="color: #8b0000;">return</span> c0 * np.exp(-x) + c1*x

pars, pcov = curve_fit(func, x, y, p0=[4.96, 2.11])

alpha = 0.05 <span style="color: #ff0000; font-weight: bold;"># 95% confidence interval</span>

n = <span style="color: #8b0000;">len</span>(y)    <span style="color: #ff0000; font-weight: bold;"># number of data points</span>
p = <span style="color: #8b0000;">len</span>(pars) <span style="color: #ff0000; font-weight: bold;"># number of parameters</span>

dof = <span style="color: #8b0000;">max</span>(0, n-p) <span style="color: #ff0000; font-weight: bold;"># number of degrees of freedom</span>

tval = t.ppf(1.0 - alpha / 2.0, dof) <span style="color: #ff0000; font-weight: bold;"># student-t value for the dof and confidence level</span>

<span style="color: #8b0000;">for</span> i, p,var <span style="color: #8b0000;">in</span> <span style="color: #8b0000;">zip</span>(range(n), pars, np.diag(pcov)):
    sigma = var**0.5
    <span style="color: #8b0000;">print</span> <span style="color: #228b22;">'c{0}: {1} [{2}  {3}]'</span>.format(i, p,
                                  p - sigma*tval,
                                  p + sigma*tval)

<span style="color: #8b0000;">import</span> matplotlib.pyplot <span style="color: #8b0000;">as</span> plt
plt.plot(x,y,<span style="color: #228b22;">'bo '</span>)
xfit = np.linspace(0,1)
yfit = func(xfit, pars[0], pars[1])
plt.plot(xfit,yfit,<span style="color: #228b22;">'b-'</span>)
plt.legend([<span style="color: #228b22;">'data'</span>,<span style="color: #228b22;">'fit'</span>],loc=<span style="color: #228b22;">'best'</span>)
plt.savefig(<span style="color: #228b22;">'images/nonlin-fit-ci.png'</span>)
</pre>
</div>

<pre class="example">
c0: 4.96713966439 [4.62674476567  5.30753456311]
c1: 2.10995112628 [1.76711622427  2.45278602828]
</pre>

<p><img src="/img/./images/nonlin-fit-ci.png"><p>
<p>Copyright (C) 2013 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2013/02/18/Nonlinear-curve-fitting-with-confidence-intervals.org">org-mode source</a><p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Share on Twitter</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


<a href="https://twitter.com/search?q=https://kitchingroup.cheme.cmu.edu/blog/2013/02/18/Nonlinear-curve-fitting-with-confidence-intervals">Discuss on Twitter</a>

  <hr class="interblog" />
  





<article>
  <div class="blog_post">
    <header>
      <div id="Nonlinear-curve-fitting"></div>
      <h2 class="blog_post_title"><a href="/blog/2013/02/18/Nonlinear-curve-fitting/" rel="bookmark" title="Permanent Link to Nonlinear curve fitting">Nonlinear curve fitting</a></h2>
      <p><small><span class="blog_post_date">Posted February 18, 2013 at 09:00 AM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/nonlinear-regression/'>nonlinear regression</a>, <a href='/blog/category/data-analysis/'>data analysis</a></span> | tags: 
      <p><small><span class="blog_post_date">Updated February 27, 2013 at 02:40 PM</span></small>
      </small></p>
    </header>
    <div class="post_prose">
      



<p>
Here is a typical nonlinear function fit to data. you need to provide an initial guess. In this example we fit the Birch-Murnaghan equation of state to energy vs. volume data from density functional theory calculations.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #8b0000;">from</span> scipy.optimize <span style="color: #8b0000;">import</span> leastsq
<span style="color: #8b0000;">import</span> numpy <span style="color: #8b0000;">as</span> np

vols = np.array([13.71, 14.82, 16.0, 17.23, 18.52])

energies = np.array([-56.29, -56.41, -56.46, -56.463, -56.41])

<span style="color: #8b0000;">def</span> <span style="color: #8b2323;">Murnaghan</span>(parameters, vol):
    <span style="color: #228b22;">'From Phys. Rev. B 28, 5480 (1983)'</span>
    E0, B0, BP, V0 = parameters

    E = E0 + B0 * vol / BP * (((V0 / vol)**BP) / (BP - 1) + 1) - V0 * B0 / (BP - 1.0)

    <span style="color: #8b0000;">return</span> E

<span style="color: #8b0000;">def</span> <span style="color: #8b2323;">objective</span>(pars, y, x):
    <span style="color: #ff0000; font-weight: bold;">#we will minimize this function</span>
    err =  y - Murnaghan(pars, x)
    <span style="color: #8b0000;">return</span> err

x0 = [ -56.0, 0.54, 2.0, 16.5] <span style="color: #ff0000; font-weight: bold;">#initial guess of parameters</span>

plsq = leastsq(objective, x0, args=(energies, vols))

<span style="color: #8b0000;">print</span> <span style="color: #228b22;">'Fitted parameters = {0}'</span>.format(plsq[0])

<span style="color: #8b0000;">import</span> matplotlib.pyplot <span style="color: #8b0000;">as</span> plt
plt.plot(vols,energies, <span style="color: #228b22;">'ro'</span>)

<span style="color: #ff0000; font-weight: bold;">#plot the fitted curve on top</span>
x = np.linspace(<span style="color: #8b0000;">min</span>(vols), <span style="color: #8b0000;">max</span>(vols), 50)
y = Murnaghan(plsq[0], x)
plt.plot(x, y, <span style="color: #228b22;">'k-'</span>)
plt.xlabel(<span style="color: #228b22;">'Volume'</span>)
plt.ylabel(<span style="color: #228b22;">'Energy'</span>)
plt.savefig(<span style="color: #228b22;">'images/nonlinear-curve-fitting.png'</span>)
</pre>
</div>

<pre class="example">
Fitted parameters = [-56.46839641   0.57233217   2.7407944   16.55905648]
</pre>

<p><img src="/img/./images/nonlinear-curve-fitting.png"><p>

<p>
See additional examples at \url{http://docs.scipy.org/doc/scipy/reference/tutorial/optimize.html}.</p>
<p>Copyright (C) 2013 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2013/02/18/Nonlinear-curve-fitting.org">org-mode source</a><p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Share on Twitter</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


<a href="https://twitter.com/search?q=https://kitchingroup.cheme.cmu.edu/blog/2013/02/18/Nonlinear-curve-fitting">Discuss on Twitter</a>

  <hr class="interblog" />
  





<article>
  <div class="blog_post">
    <header>
      <div id="The-Gibbs-free-energy-of-a-reacting-mixture-and-the-equilibrium-composition"></div>
      <h2 class="blog_post_title"><a href="/blog/2013/02/18/The-Gibbs-free-energy-of-a-reacting-mixture-and-the-equilibrium-composition/" rel="bookmark" title="Permanent Link to The Gibbs free energy of a reacting mixture and the equilibrium composition">The Gibbs free energy of a reacting mixture and the equilibrium composition</a></h2>
      <p><small><span class="blog_post_date">Posted February 18, 2013 at 09:00 AM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/optimization/'>optimization</a></span> | tags: <a href='/blog/tag/reaction-engineering/'>reaction engineering</a>, <a href='/blog/tag/thermodynamics/'>thermodynamics</a>
      <p><small><span class="blog_post_date">Updated September 10, 2014 at 12:21 PM</span></small>
      </small></p>
    </header>
    <div class="post_prose">
      



<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. Summary</a></li>
</ul>
</div>
</div>
<p>
<a href="http://matlab.cheme.cmu.edu/2011/12/20/the-gibbs-free-energy-of-a-reacting-mixture-and-the-equilibrium-composition/">Matlab post</a> 
</p>

<p>
In this post we derive the equations needed to find the equilibrium composition of a reacting mixture. We use the method of direct minimization of the Gibbs free energy of the reacting mixture.
</p>

<p>
The Gibbs free energy of a mixture is defined as \(G = \sum\limits_j \mu_j n_j\) where \(\mu_j\) is the chemical potential of species \(j\), and it is temperature and pressure dependent, and \(n_j\) is the number of moles of species \(j\).
</p>

<p>
We define the chemical potential as \(\mu_j = G_j^\circ + RT\ln a_j\), where \(G_j^\circ\) is the Gibbs energy in a standard state, and \(a_j\) is the activity of species \(j\) if the pressure and temperature are not at standard state conditions.
</p>

<p>
If a reaction is occurring, then the number of moles of each species are related to each other through the reaction extent \(\epsilon\) and stoichiometric coefficients: \(n_j = n_{j0} + \nu_j \epsilon\). Note that the reaction extent has units of moles.
</p>

<p>
Combining these three equations and expanding the terms leads to:
</p>

<p>
$$G = \sum\limits_j n_{j0}G_j^\circ +\sum\limits_j \nu_j G_j^\circ \epsilon +RT\sum\limits_j(n_{j0} + \nu_j\epsilon)\ln a_j $$
</p>

<p>
The first term is simply the initial Gibbs free energy that is present before any reaction begins, and it is a constant. It is difficult to evaluate, so we will move it to the left side of the equation in the next step, because it does not matter what its value is since it is a constant. The second term is related to the Gibbs free energy of reaction: \(\Delta_rG = \sum\limits_j \nu_j G_j^\circ\). With these observations we rewrite the equation as:
</p>

<p>
$$G - \sum\limits_j n_{j0}G_j^\circ = \Delta_rG \epsilon +RT\sum\limits_j(n_{j0} + \nu_j\epsilon)\ln a_j $$
</p>

<p>
Now, we have an equation that allows us to compute the change in Gibbs free energy as a function of the reaction extent, initial number of moles of each species, and the activities of each species. This difference in Gibbs free energy has no natural scale, and depends on the size of the system, i.e. on \(n_{j0}\). It is desirable to avoid this, so we now rescale the equation by the total initial moles present, \(n_{T0}\) and define a new variable \(\epsilon' = \epsilon/n_{T0}\), which is dimensionless. This leads to:
</p>

<p>
$$ \frac{G - \sum\limits_j n_{j0}G_j^\circ}{n_{T0}} = \Delta_rG \epsilon' + RT \sum\limits_j(y_{j0} + \nu_j\epsilon')\ln a_j $$
</p>

<p>
where \(y_{j0}\) is the initial mole fraction of species \(j\) present. The mole fractions are intensive properties that do not depend on the system size. Finally, we need to address \(a_j\). For an ideal gas, we know that \(A_j = \frac{y_j P}{P^\circ}\), where the numerator is the partial pressure of species \(j\) computed from the mole fraction of species \(j\) times the total pressure. To get the mole fraction we note:
</p>

<p>
$$y_j = \frac{n_j}{n_T} = \frac{n_{j0} + \nu_j \epsilon}{n_{T0} + \epsilon \sum\limits_j \nu_j} = \frac{y_{j0} + \nu_j \epsilon'}{1 + \epsilon'\sum\limits_j \nu_j} $$
</p>

<p>
This finally leads us to an equation that we can evaluate as a function of reaction extent:
</p>

<p>
$$ \frac{G - \sum\limits_j n_{j0}G_j^\circ}{n_{T0}} = \widetilde{\widetilde{G}} = \Delta_rG \epsilon' + RT\sum\limits_j(y_{j0} + \nu_j\epsilon') \ln\left(\frac{y_{j0}+\nu_j\epsilon'}{1+\epsilon'\sum\limits_j\nu_j} \frac{P}{P^\circ}\right) $$
</p>

<p>
we use a double tilde notation to distinguish this quantity from the quantity derived by Rawlings and Ekerdt which is further normalized by a factor of \(RT\). This additional scaling makes the quantities dimensionless, and makes the quantity have a magnitude of order unity, but otherwise has no effect on the shape of the graph.
</p>

<p>
Finally, if we know the initial mole fractions, the initial total pressure, the Gibbs energy of reaction, and the stoichiometric coefficients, we can plot the scaled reacting mixture energy as a function of reaction extent. At equilibrium, this energy will be a minimum. We consider the example in Rawlings and Ekerdt where isobutane (I) reacts with 1-butene (B) to form 2,2,3-trimethylpentane (P). The reaction occurs at a total pressure of 2.5 atm at 400K, with equal molar amounts of I and B. The standard Gibbs free energy of reaction at 400K is -3.72 kcal/mol. Compute the equilibrium composition.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #8b0000;">import</span> numpy <span style="color: #8b0000;">as</span> np

<span style="color: #000000; background-color: #cccccc; font-weight: bold;">R</span> = <span style="color: #000000; background-color: #cccccc; font-weight: bold;">8</span>.<span style="color: #000000; background-color: #cccccc; font-weight: bold;">314</span>
<span style="color: #000000; background-color: #cccccc; font-weight: bold;">P</span> = <span style="color: #000000; background-color: #cccccc; font-weight: bold;">250000</span>  # <span style="color: #ff0000; font-weight: bold;">Pa</span>
<span style="color: #000000; background-color: #cccccc; font-weight: bold;">P0</span> = <span style="color: #000000; background-color: #cccccc; font-weight: bold;">100000</span> # <span style="color: #ff0000; font-weight: bold;">Pa, approximately 1 atm</span>
<span style="color: #000000; background-color: #cccccc; font-weight: bold;">T</span> = <span style="color: #000000; background-color: #cccccc; font-weight: bold;">400</span> # <span style="color: #ff0000; font-weight: bold;">K</span>

<span style="color: #000000; background-color: #cccccc; font-weight: bold;">Grxn</span> = -<span style="color: #000000; background-color: #cccccc; font-weight: bold;">15564</span>.<span style="color: #000000; background-color: #cccccc; font-weight: bold;">0</span> #<span style="color: #ff0000; font-weight: bold;">J/mol</span>
<span style="color: #000000; background-color: #cccccc; font-weight: bold;">yi0</span> = <span style="color: #000000; background-color: #cccccc; font-weight: bold;">0</span>.<span style="color: #000000; background-color: #cccccc; font-weight: bold;">5</span>; <span style="color: #000000; background-color: #cccccc; font-weight: bold;">yb0</span> = <span style="color: #000000; background-color: #cccccc; font-weight: bold;">0</span>.<span style="color: #000000; background-color: #cccccc; font-weight: bold;">5</span>; <span style="color: #000000; background-color: #cccccc; font-weight: bold;">yp0</span> = <span style="color: #000000; background-color: #cccccc; font-weight: bold;">0</span>.<span style="color: #000000; background-color: #cccccc; font-weight: bold;">0</span>; # <span style="color: #ff0000; font-weight: bold;">initial mole fractions</span>

<span style="color: #000000; background-color: #cccccc; font-weight: bold;">yj0</span> = np.array([yi0, yb0, yp0])
<span style="color: #000000; background-color: #cccccc; font-weight: bold;">nu_j</span> = np.array([-<span style="color: #000000; background-color: #cccccc; font-weight: bold;">1</span>.<span style="color: #000000; background-color: #cccccc; font-weight: bold;">0</span>, -<span style="color: #000000; background-color: #cccccc; font-weight: bold;">1</span>.<span style="color: #000000; background-color: #cccccc; font-weight: bold;">0</span>, <span style="color: #000000; background-color: #cccccc; font-weight: bold;">1</span>.<span style="color: #000000; background-color: #cccccc; font-weight: bold;">0</span>])   # <span style="color: #ff0000; font-weight: bold;">stoichiometric coefficients</span>

<span style="color: #8b0000;">def</span> <span style="color: #8b2323;">Gwigglewiggle</span>(extentp):
    <span style="color: #000000; background-color: #cccccc; font-weight: bold;">diffg</span> = Grxn * extentp
    <span style="color: #000000; background-color: #cccccc; font-weight: bold;">sum_nu_j</span> = np.sum(nu_j)
    <span style="color: #8b0000;">for</span> i,y <span style="color: #8b0000;">in</span><span style="color: #cd0000;"> enumerate</span>(yj0):
        <span style="color: #000000; background-color: #cccccc; font-weight: bold;">x1</span> = yj0[i] + nu_j[i] * extentp
        <span style="color: #000000; background-color: #cccccc; font-weight: bold;">x2</span> = x1 / (<span style="color: #000000; background-color: #cccccc; font-weight: bold;">1</span>.<span style="color: #000000; background-color: #cccccc; font-weight: bold;">0</span> + extentp*sum_nu_j)
        <span style="color: #000000; background-color: #cccccc; font-weight: bold;">diffg</span> += R * T * x1 * np.log(x2 * P / P0)
    <span style="color: #8b0000;">return</span> diffg
</pre>
</div>

<p>
There are bounds on how large \(\epsilon'\) can be. Recall that \(n_j = n_{j0} + \nu_j \epsilon\), and that \(n_j \ge 0\). Thus, \(\epsilon_{max} = -n_{j0}/\nu_j\), and the maximum value that \(\epsilon'\) can have is therefore \(-y_{j0}/\nu_j\) where \(y_{j0}>0\). When there are multiple species, you need the smallest \(epsilon'_{max}\) to avoid getting negative mole numbers.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #000000; background-color: #cccccc; font-weight: bold;">epsilonp_max</span> =<span style="color: #cd0000;"> min</span>(-yj0[yj0 &gt; <span style="color: #000000; background-color: #cccccc; font-weight: bold;">0</span>] / nu_j[yj0 &gt; <span style="color: #000000; background-color: #cccccc; font-weight: bold;">0</span>])
<span style="color: #000000; background-color: #cccccc; font-weight: bold;">epsilonp</span> = np.linspace(1e-<span style="color: #000000; background-color: #cccccc; font-weight: bold;">6</span>, epsilonp_max, <span style="color: #000000; background-color: #cccccc; font-weight: bold;">1000</span>);

<span style="color: #8b0000;">import</span> matplotlib.pyplot <span style="color: #8b0000;">as</span> plt

plt.plot(epsilonp,Gwigglewiggle(epsilonp))
plt.xlabel(<span style="color: #228b22;">'$\epsilon$'</span>)
plt.ylabel(<span style="color: #228b22;">'Gwigglewiggle'</span>)
plt.savefig(<span style="color: #228b22;">'images/gibbs-minim-1.png'</span>)
</pre>
</div>

<pre class="example">
&gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; __main__:7: RuntimeWarning: divide by zero encountered in log
__main__:7: RuntimeWarning: invalid value encountered in multiply
[&lt;matplotlib.lines.Line2D object at 0x10b1c7710&gt;]
&lt;matplotlib.text.Text object at 0x10b1c3d10&gt;
&lt;matplotlib.text.Text object at 0x10b1c9b90&gt;
</pre>


<div class="figure">
<p><img src="/media/2013-02-18-The-Gibbs-free-energy-of-a-reacting-mixture-and-the-equilibrium-composition/gibbs-minim-1.png"> 
</p>
</div>

<p>
Now we simply minimize our Gwigglewiggle function. Based on the figure above, the miminum is near 0.45.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #8b0000;">from</span> scipy.optimize <span style="color: #8b0000;">import</span> fminbound

<span style="color: #000000; background-color: #cccccc; font-weight: bold;">epsilonp_eq</span> = fminbound(Gwigglewiggle, <span style="color: #000000; background-color: #cccccc; font-weight: bold;">0</span>.<span style="color: #000000; background-color: #cccccc; font-weight: bold;">4</span>, <span style="color: #000000; background-color: #cccccc; font-weight: bold;">0</span>.<span style="color: #000000; background-color: #cccccc; font-weight: bold;">5</span>)
<span style="color: #8b0000;">print</span> epsilonp_eq

plt.plot([epsilonp_eq], [Gwigglewiggle(epsilonp_eq)], <span style="color: #228b22;">'ro'</span>)
plt.savefig(<span style="color: #228b22;">'images/gibbs-minim-2.png'</span>)
</pre>
</div>

<pre class="example">
&gt;&gt;&gt; &gt;&gt;&gt; 0.46959618249
&gt;&gt;&gt; [&lt;matplotlib.lines.Line2D object at 0x10d4d3e50&gt;]
</pre>


<div class="figure">
<p><img src="/media/2013-02-18-The-Gibbs-free-energy-of-a-reacting-mixture-and-the-equilibrium-composition/gibbs-minim-2.png"> 
</p>
</div>

<p>
To compute equilibrium mole fractions we do this:
</p>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #000000; background-color: #cccccc; font-weight: bold;">yi</span> = (yi0 + nu_j[<span style="color: #000000; background-color: #cccccc; font-weight: bold;">0</span>]*epsilonp_eq) / (<span style="color: #000000; background-color: #cccccc; font-weight: bold;">1</span>.<span style="color: #000000; background-color: #cccccc; font-weight: bold;">0</span> + epsilonp_eq*np.sum(nu_j))
<span style="color: #000000; background-color: #cccccc; font-weight: bold;">yb</span> = (yb0 + nu_j[<span style="color: #000000; background-color: #cccccc; font-weight: bold;">1</span>]*epsilonp_eq) / (<span style="color: #000000; background-color: #cccccc; font-weight: bold;">1</span>.<span style="color: #000000; background-color: #cccccc; font-weight: bold;">0</span> + epsilonp_eq*np.sum(nu_j))
<span style="color: #000000; background-color: #cccccc; font-weight: bold;">yp</span> = (yp0 + nu_j[<span style="color: #000000; background-color: #cccccc; font-weight: bold;">2</span>]*epsilonp_eq) / (<span style="color: #000000; background-color: #cccccc; font-weight: bold;">1</span>.<span style="color: #000000; background-color: #cccccc; font-weight: bold;">0</span> + epsilonp_eq*np.sum(nu_j))

<span style="color: #8b0000;">print</span> yi, yb, yp

# <span style="color: #ff0000; font-weight: bold;">or this</span>
<span style="color: #000000; background-color: #cccccc; font-weight: bold;">y_j</span> = (yj0 + np.dot(nu_j, epsilonp_eq)) / (<span style="color: #000000; background-color: #cccccc; font-weight: bold;">1</span>.<span style="color: #000000; background-color: #cccccc; font-weight: bold;">0</span> + epsilonp_eq*np.sum(nu_j))
<span style="color: #8b0000;">print</span> y_j
</pre>
</div>

<pre class="example">
&gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; 0.0573220186324 0.0573220186324 0.885355962735
&gt;&gt;&gt; ... &gt;&gt;&gt; [ 0.05732202  0.05732202  0.88535596]
</pre>

<p>
\(K = \frac{a_P}{a_I a_B} = \frac{y_p P/P^\circ}{y_i P/P^\circ y_b P/P^\circ} = \frac{y_P}{y_i y_b}\frac{P^\circ}{P}\).
</p>

<p>
We can express the equilibrium constant like this :\(K = \prod\limits_j a_j^{\nu_j}\), and compute it with a single line of code.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #000000; background-color: #cccccc; font-weight: bold;">K</span> = np.exp(-Grxn/R/T)
<span style="color: #8b0000;">print</span> <span style="color: #228b22;">'K from delta G '</span>,K
<span style="color: #8b0000;">print</span> <span style="color: #228b22;">'K as ratio of mole fractions '</span>,yp / (yi * yb) * P0 / P
<span style="color: #8b0000;">print</span> <span style="color: #228b22;">'compact notation: '</span>,np.prod((y_j * P / P0)**nu_j)
</pre>
</div>

<pre class="example">
K from delta G  107.776294742
K as ratio of mole fractions  107.779200065
compact notation:  107.779200065
</pre>


<p>
These results are very close, and only disagree because of the default tolerance used in identifying the minimum of our function. You could tighten the tolerances by setting options to the fminbnd function.
</p>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Summary</h2>
<div class="outline-text-2" id="text-1">
<p>
In this post we derived an equation for the Gibbs free energy of a reacting mixture and used it to find the equilibrium composition. In future posts we will examine some alternate forms of the equations that may be more useful in some circumstances.</p>
</div>
</div>
<p>Copyright (C) 2014 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2013/02/18/The-Gibbs-free-energy-of-a-reacting-mixture-and-the-equilibrium-composition.org">org-mode source</a><p><p>Org-mode version = 8.2.7c</p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Share on Twitter</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


<a href="https://twitter.com/search?q=https://kitchingroup.cheme.cmu.edu/blog/2013/02/18/The-Gibbs-free-energy-of-a-reacting-mixture-and-the-equilibrium-composition">Discuss on Twitter</a>

  <hr class="interblog" />
  





<article>
  <div class="blog_post">
    <header>
      <div id="Nonlinear-curve-fitting-by-direct-least-squares-minimization"></div>
      <h2 class="blog_post_title"><a href="/blog/2013/02/18/Nonlinear-curve-fitting-by-direct-least-squares-minimization/" rel="bookmark" title="Permanent Link to Nonlinear curve fitting by direct least squares minimization">Nonlinear curve fitting by direct least squares minimization</a></h2>
      <p><small><span class="blog_post_date">Posted February 18, 2013 at 09:00 AM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/data-analysis/'>data analysis</a></span> | tags: 
      <p><small><span class="blog_post_date">Updated February 27, 2013 at 02:40 PM</span></small>
      </small></p>
    </header>
    <div class="post_prose">
      



<p>
Here is an example of fitting a nonlinear function to data by direct minimization of the summed squared error. 
</p>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #8b0000;">from</span> scipy.optimize <span style="color: #8b0000;">import</span> fmin
<span style="color: #8b0000;">import</span> numpy <span style="color: #8b0000;">as</span> np

volumes = np.array([13.71, 14.82, 16.0, 17.23, 18.52])

energies = np.array([-56.29, -56.41, -56.46, -56.463,-56.41])

<span style="color: #8b0000;">def</span> <span style="color: #8b2323;">Murnaghan</span>(parameters,vol):
    <span style="color: #228b22;">'From PRB 28,5480 (1983'</span>
    E0 = parameters[0]
    B0 = parameters[1]
    BP = parameters[2]
    V0 = parameters[3]

    E = E0 + B0*vol/BP*(((V0/vol)**BP)/(BP-1)+1) - V0*B0/(BP-1.)

    <span style="color: #8b0000;">return</span> E

<span style="color: #8b0000;">def</span> <span style="color: #8b2323;">objective</span>(pars,vol):
    <span style="color: #ff0000; font-weight: bold;">#we will minimize this function</span>
    err =  energies - Murnaghan(pars,vol)
    <span style="color: #8b0000;">return</span> np.sum(err**2) <span style="color: #ff0000; font-weight: bold;">#we return the summed squared error directly</span>

x0 = [ -56., 0.54, 2., 16.5] <span style="color: #ff0000; font-weight: bold;">#initial guess of parameters</span>

plsq = fmin(objective,x0,args=(volumes,)) <span style="color: #ff0000; font-weight: bold;">#note args is a tuple</span>

<span style="color: #8b0000;">print</span> <span style="color: #228b22;">'parameters = {0}'</span>.format(plsq)

<span style="color: #8b0000;">import</span> matplotlib.pyplot <span style="color: #8b0000;">as</span> plt
plt.plot(volumes,energies,<span style="color: #228b22;">'ro'</span>)

<span style="color: #ff0000; font-weight: bold;">#plot the fitted curve on top</span>
x = np.linspace(<span style="color: #8b0000;">min</span>(volumes),<span style="color: #8b0000;">max</span>(volumes),50)
y = Murnaghan(plsq,x)
plt.plot(x,y,<span style="color: #228b22;">'k-'</span>)
plt.xlabel(<span style="color: #228b22;">'Volume ($\AA^3$)'</span>)
plt.ylabel(<span style="color: #228b22;">'Total energy (eV)'</span>)
plt.savefig(<span style="color: #228b22;">'images/nonlinear-fitting-lsq.png'</span>)
</pre>
</div>

<pre class="example">
Optimization terminated successfully.
         Current function value: 0.000020
         Iterations: 137
         Function evaluations: 240
parameters = [-56.46932645   0.59141447   1.9044796   16.59341303]
</pre>

<p><img src="/img/./images/nonlinear-fitting-lsq.png"><p>
<p>Copyright (C) 2013 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2013/02/18/Nonlinear-curve-fitting-by-direct-least-squares-minimization.org">org-mode source</a><p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Share on Twitter</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


<a href="https://twitter.com/search?q=https://kitchingroup.cheme.cmu.edu/blog/2013/02/18/Nonlinear-curve-fitting-by-direct-least-squares-minimization">Discuss on Twitter</a>

  <hr class="interblog" />
 <a href="../108">« Previous Page</a>
  --  
 <a href="../110">Next Page »</a>

          </div>
          <div id="sidebar" class="grid_4">
            <aside>
<section>
<script>
  (function() {
    var cx = '002533177287215655227:l7uvu35ssbc';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</section>

<section>
    <h1 class="post_header_gradient theme_font">Twitter</h1>
    <a class="twitter-timeline" href="https://twitter.com/johnkitchin" data-widget-id="545217643582881792">Tweets by @johnkitchin</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</section>


  <section>
    <h1 class="post_header_gradient theme_font">Links</h1>
    <ul>
      <li><a href="https://www.continuum.io">Anaconda Python</a></li>
      <li><a href="/pycse">Pycse</a></li>
      <li><a href="/dft-book">DFT-book</a></li>
    </ul>
  </section>

  <section>
    <h1 class="post_header_gradient theme_font">Latest Posts</h1>
    <ul>
      <li><a href="/blog/2025/01/29/New-publication-The-Potential-of-Zero-Total-Charge-Predicts-Cation-Effects-for-the-Oxygen-Reduction-Reaction/">New publication - The Potential of Zero Total Charge Predicts Cation Effects for the Oxygen Reduction Reaction</a></li>
      <li><a href="/blog/2025/01/28/New-publication-Investigating-the-Error-Imbalance-of-Large-Scale-Machine-Learning-Potentials-in-Catalysis/">New publication - Investigating the Error Imbalance of Large-Scale Machine Learning Potentials in Catalysis</a></li>
      <li><a href="/blog/2025/01/27/New-publication-Structure-Sensitive-Reaction-Kinetics-of-Chiral-Molecules-on-Intrinsically-Chiral-Surfaces/">New publication - Structure Sensitive Reaction Kinetics of Chiral Molecules on Intrinsically Chiral Surfaces</a></li>
      <li><a href="/blog/2024/07/04/10-years-ago-org-mode-is-awesome-video/">10 years ago - org mode is awesome video</a></li>
      <li><a href="/blog/2024/06/08/New-publication-Pourbaix-Machine-Learning-Framework-Identifies-Acidic-Water-Oxidation-Catalysts-Exhibiting-Suppressed-Ruthenium-Dissolution/">New publication - Pourbaix Machine Learning Framework Identifies Acidic Water Oxidation Catalysts Exhibiting Suppressed Ruthenium Dissolution</a></li>
    </ul>
  </section>

<section>
<h1 class="post_header_gradient theme_font">Latest GitHub Repos</h1>
  <a href="https://github.com/jkitchin">@jkitchin</a> on GitHub.
  <ul id="my-github-projects">
        <li class="loading">Status updating&#8230;</li>
  </ul>

</section>
</aside>

          </div>
          <div class="clear"></div>
        </div>
      </div>
      
<footer>
  <div id="footer" class="grid_12">
    <div class="grid_8">
      <p>
        <a href="/blog/feed/index.xml">RSS</a>
      </p>
    </div>
    <div class="grid_4" id="credits">
      <p>
        Copyright 2025
        John Kitchin
      </p>
      <p>
        Powered by <a href="http://www.blogofile.com">Blogofile</a>
      </p>
    </div>
  </div>
</footer>

    </div>
      <script src="//ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/js/libs/jquery-1.5.1.min.js"%3E%3C/script%3E'))</script>
  <script src="/js/plugins.js"></script>
  <script src="/js/script.js"></script>
  <script src="/js/jquery.tweet.js"></script>  
  <script src="/js/site.js"></script>
  <!--[if lt IE 7 ]>
  <script src="js/libs/dd_belatedpng.js"></script>
  <script> DD_belatedPNG.fix('img, .png_bg');</script>
  <![endif]-->
 
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-PH8NF4F0RE"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-PH8NF4F0RE');
</script>


  </body>
</html>






<script src="http://ajax.microsoft.com/ajax/jquery/jquery-1.4.2.min.js" type="text/javascript"></script>
<script src="/js/git.js" type="text/javascript"></script>
<script type="text/javascript">
    $(function() {
     $("#my-github-projects").loadRepositories("jkitchin");
    });
</script>



