

<!doctype html>
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Kitchin Research Group</title>
  <meta name="google-site-verification" content="CGcacJdHc2YoZyI0Vey9XRA5qwhhFDzThKJezbRFcJ4" />
  <meta name="description" content="Chemical Engineering at Carnegie Mellon University">
  <meta name="author" content="John Kitchin">
  <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="/blog/feed" />
  <link rel="alternate" type="application/atom+xml" title="Atom 1.0" href="/blog/feed/atom" />
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/img/apple-touch-icon.png">

  <link rel="stylesheet" href="/css/base.css?v=1">
  <link rel="stylesheet" href="/css/grid.css?v=1">
  <link rel="stylesheet" media="handheld" href="/css/handheld.css?v=1">
  <link rel="stylesheet" href="/css/pygments_murphy.css" type="text/css" />

  <script src="/js/libs/modernizr-1.7.min.js"></script>
<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
  <link rel="stylesheet" href="/themes/theme1/style.css?v=1">
<link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>

</head>
  <body>
    <div id="container" class="container container_12">
      <div id="main" role="main">
        <div id="main_block">
          <header>
<div id="header" class="header_gradient theme_font">
<table><tr><td>
    <h1><a href="/">The Kitchin Research Group</a></h1>
    <h2>Chemical Engineering at Carnegie Mellon University</h2>
</td>
<td colspan=100%><div style="float:right;width:100%;text-align:right;"> <span id='badgeCont737515' style='width:126px'><script src='http://labs.researcherid.com/mashlets?el=badgeCont737515&mashlet=badge&showTitle=false&className=a&rid=A-2363-2010'></script></span></div>
</td></tr>
</table>
</div>
  <div id="navigation" class="grid_12">

    <ul class="theme_font">
      <li><a href="/blog"
             class="">Blog</a></li>

      <li><a href="/blog/archive"
             class="">Archives</a></li>

      <li><a href="/publications.html">Publications</a></li>
      <li><a href="/group.html">Group</a></li>

      <li><a href="/research.html"
             class="">Research</a></li>

      <li><a href="/categories.html"
             class="">Categories</a></li>

      <li><a href="/about.html"
             class="">About us</a></li>

      <li><a href="/subscribe.html">Subscribe</a></li>

    </ul>
  </div>
</header>

          <div id="prose_block" class="grid_8">
            
  





<article>
  <div class="blog_post">
    <header>
      <div id="Redirecting-the-print-function"></div>
      <h2 class="blog_post_title"><a href="/blog/2013/05/19/Redirecting-the-print-function/" rel="bookmark" title="Permanent Link to Redirecting the print function">Redirecting the print function</a></h2>
      <p><small><span class="blog_post_date">Posted May 19, 2013 at 11:19 AM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/programming/'>programming</a></span> | tags: 
        | <a href="http://jkitchin.github.io/blog/2013/05/19/Redirecting-the-print-function#disqus_thread">View Comments</a>
      <p><small><span class="blog_post_date">Updated May 29, 2013 at 08:17 PM</span>
      </small></p>
    </header>
    <div class="post_prose">
      



<p>
Ordinarily a print statement prints to stdout, or your terminal/screen. You can redirect this so that printing is done to a file, for example. This might be helpful if you use print statements for debugging, and later want to save what is printed to a file. Here we make a simple function that prints some things.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #8b0000;">def</span> <span style="color: #8b2323;">debug</span>():
    <span style="color: #8b0000;">print</span> <span style="color: #228b22;">'step 1'</span>
    <span style="color: #8b0000;">print</span> 3 + 4
    <span style="color: #8b0000;">print</span> <span style="color: #228b22;">'finished'</span>

debug()
</pre>
</div>

<pre class="example">
... ... ... &gt;&gt;&gt; step 1
7
finished
</pre>

<p>
Now, let us redirect the printed lines to a file. We create a file object, and set sys.stdout equal to that file object.
</p>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #8b0000;">import</span> sys
<span style="color: #8b0000;">print</span> &gt;&gt; sys.__stdout__, <span style="color: #228b22;">'__stdout__ before = '</span>, sys.__stdout__
<span style="color: #8b0000;">print</span> &gt;&gt; sys.__stdout__, <span style="color: #228b22;">'stdout before = '</span>, sys.stdout

f = <span style="color: #8b0000;">open</span>(<span style="color: #228b22;">'data/debug.txt'</span>, <span style="color: #228b22;">'w'</span>)
sys.stdout = f

<span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">note that sys.__stdout__ does not change, but stdout does.</span>
<span style="color: #8b0000;">print</span> &gt;&gt; sys.__stdout__, <span style="color: #228b22;">'__stdout__ after = '</span>, sys.__stdout__
<span style="color: #8b0000;">print</span> &gt;&gt; sys.__stdout__, <span style="color: #228b22;">'stdout after = '</span>, sys.stdout

debug()

<span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">reset stdout back to console</span>
sys.stdout = sys.__stdout__

<span style="color: #8b0000;">print</span> f
f.close() <span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">try to make it a habit to close files</span>
<span style="color: #8b0000;">print</span> f
</pre>
</div>

<pre class="example">
__stdout__ before =  &lt;open file '&lt;stdout&gt;', mode 'w' at 0x2ae7d70e01e0&gt;
stdout before =  &lt;open file '&lt;stdout&gt;', mode 'w' at 0x2ae7d70e01e0&gt;
&gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; ... __stdout__ after =  &lt;open file '&lt;stdout&gt;', mode 'w' at 0x2ae7d70e01e0&gt;
stdout after =  &lt;open file 'data/debug.txt', mode 'w' at 0x2ae7dbcbbb70&gt;
&gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; ... &gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; &lt;open file 'data/debug.txt', mode 'w' at 0x2ae7dbcbbb70&gt;
&gt;&gt;&gt; &lt;closed file 'data/debug.txt', mode 'w' at 0x2ae7dbcbbb70&gt;
</pre>

<p>
Note it can be important to close files. If you are looping through large numbers of files, you will eventually run out of file handles, causing an error. We can use a context manager to automatically close the file like this
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #8b0000;">import</span> sys

<span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">use the open context manager to automatically close the file</span>
<span style="color: #8b0000;">with</span> <span style="color: #8b0000;">open</span>(<span style="color: #228b22;">'data/debug.txt'</span>, <span style="color: #228b22;">'w'</span>) <span style="color: #8b0000;">as</span> f:
    sys.stdout = f
    debug()
    <span style="color: #8b0000;">print</span> &gt;&gt; sys.__stdout__, f

<span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">reset stdout</span>
sys.stdout = sys.__stdout__
<span style="color: #8b0000;">print</span> f
</pre>
</div>

<pre class="example">
&gt;&gt;&gt; ... ... ... ... ... &lt;open file 'data/debug.txt', mode 'w' at 0x0000000002071C00&gt;
... &gt;&gt;&gt; &lt;closed file 'data/debug.txt', mode 'w' at 0x0000000002071C00&gt;
</pre>

<p>
See, the file is closed for us! We can see the contents of our file like this.
</p>
<div class="org-src-container">

<pre class="src src-sh">cat data/debug.txt
</pre>
</div>

<pre class="example">
step 1
7
finished
</pre>

<p>
The approaches above are not fault safe. Suppose our debug function raised an exception. Then, it could be possible the line to reset the stdout would not be executed. We can solve this with try/finally code.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #8b0000;">import</span> sys

<span style="color: #8b0000;">print</span> <span style="color: #228b22;">'before: '</span>, sys.stdout
<span style="color: #8b0000;">try:</span>
    <span style="color: #8b0000;">with</span> <span style="color: #8b0000;">open</span>(<span style="color: #228b22;">'data/debug-2.txt'</span>, <span style="color: #228b22;">'w'</span>) <span style="color: #8b0000;">as</span> f:
        sys.stdout = f
        <span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">print to the original stdout</span>
        <span style="color: #8b0000;">print</span> &gt;&gt; sys.__stdout__, <span style="color: #228b22;">'during: '</span>, sys.stdout
        debug()
        <span style="color: #8b0000;">raise</span> <span style="color: #cd0000;">Exception</span>(<span style="color: #228b22;">'something bad happened'</span>)
<span style="color: #8b0000;">finally:</span>
    <span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">reset stdout</span>
    sys.stdout = sys.__stdout__

<span style="color: #8b0000;">print</span> <span style="color: #228b22;">'after: '</span>, sys.stdout
<span style="color: #8b0000;">print</span> f <span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">verify it is closed</span>
<span style="color: #8b0000;">print</span> sys.stdout <span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">verify this is reset</span>
</pre>
</div>

<pre class="example">
&gt;&gt;&gt; before:  &lt;open file '&lt;stdout&gt;', mode 'w' at 0x2ae7d70e01e0&gt;
... ... ... ... ... ... ... ... ... ... during:  &lt;open file 'data/debug-2.txt', mode 'w' at 0x2ae7dbcbbf60&gt;
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 7, in &lt;module&gt;
Exception: something bad happened
after:  &lt;open file '&lt;stdout&gt;', mode 'w' at 0x2ae7d70e01e0&gt;
&lt;closed file 'data/debug-2.txt', mode 'w' at 0x2ae7dbcbbf60&gt;
&lt;open file '&lt;stdout&gt;', mode 'w' at 0x2ae7d70e01e0&gt;
</pre>

<div class="org-src-container">

<pre class="src src-sh">cat data/debug-2.txt
</pre>
</div>

<pre class="example">
step 1
7
finished
</pre>

<p>
This is the kind of situation where a context manager is handy. Context managers are typically a class that executes some code when you &ldquo;enter&rdquo; the context, and then execute some code when you &ldquo;exit&rdquo; the context. Here we want to change sys.stdout to a new value inside our context, and change it back when we exit the context. We will store the value of sys.stdout going in, and restore it on the way out.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #8b0000;">import</span> sys

<span style="color: #8b0000;">class</span> <span style="color: #4682b4;">redirect</span>:
    <span style="color: #8b0000;">def</span> <span style="color: #8b2323;">__init__</span>(<span style="color: #8b0000;">self</span>, f=sys.stdout):
        <span style="color: #228b22;">"redirect print statement to f. f must be a file-like object"</span>
        <span style="color: #8b0000;">self</span>.f = f
        <span style="color: #8b0000;">self</span>.stdout = sys.stdout
        <span style="color: #8b0000;">print</span> &gt;&gt; sys.__stdout__, <span style="color: #228b22;">'init stdout: '</span>, sys.stdout        
    <span style="color: #8b0000;">def</span> <span style="color: #8b2323;">__enter__</span>(<span style="color: #8b0000;">self</span>): 
        sys.stdout = <span style="color: #8b0000;">self</span>.f
        <span style="color: #8b0000;">print</span> &gt;&gt; sys.__stdout__,  <span style="color: #228b22;">'stdout in context-manager: '</span>,sys.stdout
    <span style="color: #8b0000;">def</span> <span style="color: #8b2323;">__exit__</span>(<span style="color: #8b0000;">self</span>, *args):
        sys.stdout = <span style="color: #8b0000;">self</span>.stdout
        <span style="color: #8b0000;">print</span> <span style="color: #228b22;">'__stdout__ at exit = '</span>,sys.__stdout__        

<span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">regular printing</span>
<span style="color: #8b0000;">with</span> redirect():
    debug()

<span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">write to a file</span>
<span style="color: #8b0000;">with</span> <span style="color: #8b0000;">open</span>(<span style="color: #228b22;">'data/debug-3.txt'</span>, <span style="color: #228b22;">'w'</span>) <span style="color: #8b0000;">as</span> f:
    <span style="color: #8b0000;">with</span> redirect(f):
        debug()

<span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">mixed regular and </span>
<span style="color: #8b0000;">with</span> <span style="color: #8b0000;">open</span>(<span style="color: #228b22;">'data/debug-4.txt'</span>, <span style="color: #228b22;">'w'</span>) <span style="color: #8b0000;">as</span> f:
    <span style="color: #8b0000;">with</span> redirect(f):
        <span style="color: #8b0000;">print</span> <span style="color: #228b22;">'testing redirect'</span>
        <span style="color: #8b0000;">with</span> redirect():
            <span style="color: #8b0000;">print</span> <span style="color: #228b22;">'temporary console printing'</span>
            debug()
        <span style="color: #8b0000;">print</span> <span style="color: #228b22;">'Now outside the inner context. this should go to data/debug-4.txt'</span>
        debug()
        <span style="color: #8b0000;">raise</span> <span style="color: #cd0000;">Exception</span>(<span style="color: #228b22;">'something else bad happened'</span>)

<span style="color: #8b0000;">print</span> sys.stdout
</pre>
</div>

<pre class="example">
&gt;&gt;&gt; ... ... ... ... ... ... ... ... ... ... ... ... &gt;&gt;&gt; ... ... ... init stdout:  &lt;open file '&lt;stdout&gt;', mode 'w' at 0x2ae7d70e01e0&gt;
stdout in context-manager:  &lt;open file '&lt;stdout&gt;', mode 'w' at 0x2ae7d70e01e0&gt;
step 1
7
finished
__stdout__ at exit =  &lt;open file '&lt;stdout&gt;', mode 'w' at 0x2ae7d70e01e0&gt;
... ... ... ... init stdout:  &lt;open file '&lt;stdout&gt;', mode 'w' at 0x2ae7d70e01e0&gt;
stdout in context-manager:  &lt;open file 'data/debug-3.txt', mode 'w' at 0x2ae7dbcbbb70&gt;
__stdout__ at exit =  &lt;open file '&lt;stdout&gt;', mode 'w' at 0x2ae7d70e01e0&gt;
... ... ... ... ... ... ... ... ... ... init stdout:  &lt;open file '&lt;stdout&gt;', mode 'w' at 0x2ae7d70e01e0&gt;
stdout in context-manager:  &lt;open file 'data/debug-4.txt', mode 'w' at 0x2ae7dca4d030&gt;
init stdout:  &lt;open file 'data/debug-4.txt', mode 'w' at 0x2ae7dca4d030&gt;
stdout in context-manager:  &lt;open file '&lt;stdout&gt;', mode 'w' at 0x2ae7d70e01e0&gt;
temporary console printing
step 1
7
finished
__stdout__ at exit =  &lt;open file '&lt;stdout&gt;', mode 'w' at 0x2ae7d70e01e0&gt;
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 10, in &lt;module&gt;
Exception: something else bad happened
&lt;open file '&lt;stdout&gt;', mode 'w' at 0x2ae7d70e01e0&gt;
</pre>

<p>
Here are the contents of the debug file. 
</p>
<div class="org-src-container">

<pre class="src src-sh">cat data/debug-3.txt
</pre>
</div>

<pre class="example">
step 1
7
finished
</pre>

<p>
The contents of the other debug file have some additional lines, because we printed some things while in the redirect context.
</p>
<div class="org-src-container">

<pre class="src src-sh">cat data/debug-4.txt
</pre>
</div>

<pre class="example">
testing redirect
__stdout__ at exit =  &lt;open file '&lt;stdout&gt;', mode 'w' at 0x2ae7d70e01e0&gt;
Now outside the inner context. this should go to data/debug-4.txt
step 1
7
finished
</pre>

<p>
See <a href="http://www.python.org/dev/peps/pep-0343/" >http://www.python.org/dev/peps/pep-0343/</a> (number 5) for another example of redirecting using a function decorator. I think it is harder to understand, because it uses a generator.
</p>

<p>
There were a couple of points in this section:
</p>

<ol>
<li>You can control where things are printed in your programs by modifying the value of sys.stdout
</li>
<li>You can use try/except/finally blocks to make sure code gets executed in the event an exception is raised
</li>
<li>You can use context managers to make sure files get closed, and code gets executed if exceptions are raised.
</li>
</ol>
<p>Copyright (C) 2013 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2013/05/19/Redirecting-the-print-function.org">org-mode source</a><p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <div class="after_post"><a href="http://jkitchin.github.io/blog/2013/05/19/Redirecting-the-print-function#disqus_thread">Read and Post Comments</a></div>
  <hr class="interblog" />
  





<article>
  <div class="blog_post">
    <header>
      <div id="Professor-Kitchin-is-attending-the-2013-China-America-Frontiers-of-Engineering-meeting"></div>
      <h2 class="blog_post_title"><a href="/blog/2013/05/12/Professor-Kitchin-is-attending-the-2013-China-America-Frontiers-of-Engineering-meeting/" rel="bookmark" title="Permanent Link to Professor Kitchin is attending the 2013 China-America Frontiers of Engineering meeting">Professor Kitchin is attending the 2013 China-America Frontiers of Engineering meeting</a></h2>
      <p><small><span class="blog_post_date">Posted May 12, 2013 at 04:24 PM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/news/'>news</a></span> | tags: 
        | <a href="http://jkitchin.github.io/blog/2013/05/12/Professor-Kitchin-is-attending-the-2013-China-America-Frontiers-of-Engineering-meeting#disqus_thread">View Comments</a>
      <p><small><span class="blog_post_date">Updated May 12, 2013 at 04:37 PM</span>
      </small></p>
    </header>
    <div class="post_prose">
      




<p>
This meeting will be held in Beijing, China from May 15 to 17. Here is a description of the meeting from the website:
</p>

<p>
&ldquo;CAFOE
2013 China-America Frontiers of Engineering Symposium
</p>

<p>
From May 15 - 17, the 2013 China-America Frontiers of Engineering will take place in Beijing, China. Sixty of the most promising engineers under the age of 45 from China and the United States will meet for an intensive 2-1/2 day symposium on developments at the cutting edge of engineering technology. The event is intended to facilitate international and cross-disciplinary research collaboration, promote the transfer of new techniques and approaches across disparate engineering fields, and encourage the creation of a transpacific network of world-class engineers.&rdquo;
</p>

<p>
Professor Kitchin will present his work in CO2 capture, water splitting, computational materials design and computing in engineering at a poster session in this meeting.
</p>

<p>
This meeting is hosted by the National Academy of Engineering and the Chinese Academy of Engineering. Learn more at  <a href="http://www.naefrontiers.org/Symposia/CAFOE.aspx" >http://www.naefrontiers.org/Symposia/CAFOE.aspx</a>
</p>
<p>Copyright (C) 2013 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2013/05/12/Professor-Kitchin-is-attending-the-2013-China-America-Frontiers-of-Engineering-meeting.org">org-mode source</a><p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <div class="after_post"><a href="http://jkitchin.github.io/blog/2013/05/12/Professor-Kitchin-is-attending-the-2013-China-America-Frontiers-of-Engineering-meeting#disqus_thread">Read and Post Comments</a></div>
  <hr class="interblog" />
  





<article>
  <div class="blog_post">
    <header>
      <div id="Getting-keyword-options-in-org-files"></div>
      <h2 class="blog_post_title"><a href="/blog/2013/05/05/Getting-keyword-options-in-org-files/" rel="bookmark" title="Permanent Link to Getting keyword options in org-files">Getting keyword options in org-files</a></h2>
      <p><small><span class="blog_post_date">Posted May 05, 2013 at 02:03 PM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/org-mode/'>org-mode</a></span> | tags: 
        | <a href="http://jkitchin.github.io/blog/2013/05/05/Getting-keyword-options-in-org-files#disqus_thread">View Comments</a>
      <p><small><span class="blog_post_date">Updated July 07, 2013 at 08:42 AM</span>
      </small></p>
    </header>
    <div class="post_prose">
      




<p>
Continuing my work in using org-mode as a structured markup language to encode data in files, today we look at how to extract keywords and properties from org-files. This will enable me to store data in the org-files, and then retrieve it later from code. For example, you may want to store the email address, or a student-id in the file so you can connect some other property such as a grade to it.
</p>

<p>
First we consider the built-in org commands to access aspects of the file properties. The <code>org-export-get-environment</code> command returns a plist of properties of the file. 
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(org-export-get-environment)
</pre>
</div>

<pre class="example">
(:author ("John Kitchin") :creator "Generated by Org mode 7.9.4 in Emacs 24.0.92.1." :date nil :description nil :email "johnrkitchin@gmail.com" :exclude-tags ("noexport") :headline-levels 3 :keywords nil :language "en" :preserve-breaks nil :section-numbers t :select-tags ("export") :time-stamp-file t :title "file-options" :with-archived-trees headline :with-author t :with-clocks nil :with-creator comment :with-drawers nil :with-email nil :with-emphasize t :with-entities t :with-fixed-width t :with-footnotes t :with-inlinetasks t :with-plannings nil :with-priority nil :with-special-strings t :with-sub-superscript t :with-toc t :with-tables t :with-tags not-in-toc :with-tasks t :with-timestamps t :with-todo-keywords t :input-file "c:/Users/jkitchin/Dropbox/blogofile-jkitchin.github.com/_blog/file-options.org" :footnote-definition-alist nil :id-alist nil :macro-modification-time "(eval (format-time-string \"$1\" '(20870 38242)))" :macro-input-file "file-options.org" :macro-date "(eval (format-time-string \"$1\"))" :macro-time "(eval (format-time-string \"$1\"))" :macro-property "(eval (org-entry-get nil \"$1\" 'selective))" :back-end nil :translate-alist nil)
</pre>

<p>
We can access a particular property like this:
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(plist-get (org-export-get-environment) '<span style="color: #cd0000;">:email</span>)
</pre>
</div>

<pre class="example">
"johnrkitchin@gmail.com"
</pre>

<p>
Most of those properties are set externally to this file. It may be useful to set your own options in a file, e.g.
we may want to set a STUDENT-ID tag in our file.
</p>

<pre class="example">
#+STUDENT-ID: jkitchin
</pre>

<p>
We want to be able to extract the value of that keyword in emacs-lisp code. Here is one org way to do that. This code parses the buffer to get a list of elements, then applies a lambda function that makes a (key . value) to all the keyword elements, finally returning an alist. The second function gets the value for a specific key.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #ff0000; font-weight: bold;">; </span><span style="color: #ff0000; font-weight: bold;">suggested by Nicolas Goaziou</span>
(<span style="color: #8b0000;">defun</span> <span style="color: #8b2323;">jk-org-kwds</span> ()
  <span style="color: #228b22;">"parse the buffer and return a cons list of (property . value)</span>
<span style="color: #228b22;">from lines like:</span>
<span style="color: #228b22;">#+PROPERTY: value"</span>
  (org-element-map (org-element-parse-buffer 'element) 'keyword
                   (<span style="color: #8b0000;">lambda</span> (keyword) (cons (org-element-property <span style="color: #cd0000;">:key</span> keyword)
                                           (org-element-property <span style="color: #cd0000;">:value</span> keyword)))))

(<span style="color: #8b0000;">defun</span> <span style="color: #8b2323;">jk-org-kwd</span> (KEYWORD)
  <span style="color: #228b22;">"get the value of a KEYWORD in the form of #+KEYWORD: value"</span>
  (cdr (assoc KEYWORD (jk-org-kwds))))

(jk-org-kwd <span style="color: #228b22;">"STUDENT-ID"</span>)
</pre>
</div>

<pre class="example">
jkitchin
</pre>

<p>
That is serious org-fu there. Here is an alternative approach that uses searching and regular expressions. The idea is to use a case-insensitive regular expression search in the buffer to grab the value. 
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #8b0000;">defun</span> <span style="color: #8b2323;">jk-get-file-keyword</span> (KEYWORD)
  <span style="color: #228b22;">"get the value from a line like this</span>
<span style="color: #228b22;">#+KEYWORD: value</span>
<span style="color: #228b22;">in a file."</span>
  (interactive)
  (<span style="color: #8b0000;">let</span> ((case-fold-search t)
        (re (format <span style="color: #228b22;">"^#\\+%s:[ \t]+</span><span style="color: #228b22; font-weight: bold;">\\</span><span style="color: #228b22; font-weight: bold;">(</span><span style="color: #228b22;">[</span><span style="color: #228b22;">^</span><span style="color: #228b22;">\t\n]+</span><span style="color: #228b22; font-weight: bold;">\\</span><span style="color: #228b22; font-weight: bold;">)</span><span style="color: #228b22;">"</span> KEYWORD)))
    (<span style="color: #8b0000;">if</span> (not (<span style="color: #8b0000;">save-excursion</span>
               (or (re-search-forward re nil t)
                   (re-search-backward re nil t))))
        (<span style="color: #ff0000; font-weight: bold;">error</span> (format <span style="color: #228b22;">"No line containing #+%s: value found"</span> KEYWORD)))
    (match-string 1)))

(jk-get-file-keyword <span style="color: #228b22;">"STUDENT-ID"</span>)
</pre>
</div>

<pre class="example">
jkitchin
</pre>

<p>
Both methods basically do the same thing, and enable you to store data in org-files that is easily retrievable.
</p>
<p>Copyright (C) 2013 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2013/05/05/Getting-keyword-options-in-org-files.org">org-mode source</a><p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <div class="after_post"><a href="http://jkitchin.github.io/blog/2013/05/05/Getting-keyword-options-in-org-files#disqus_thread">Read and Post Comments</a></div>
  <hr class="interblog" />
  





<article>
  <div class="blog_post">
    <header>
      <div id="Summarizing-org-files-in-a-report"></div>
      <h2 class="blog_post_title"><a href="/blog/2013/04/30/Summarizing-org-files-in-a-report/" rel="bookmark" title="Permanent Link to Summarizing org-files in a report">Summarizing org-files in a report</a></h2>
      <p><small><span class="blog_post_date">Posted April 30, 2013 at 08:30 AM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/emacs-lisp/'>emacs-lisp</a>, <a href='/blog/category/org-mode/'>org-mode</a></span> | tags: 
        | <a href="http://jkitchin.github.io/blog/2013/04/30/Summarizing-org-files-in-a-report#disqus_thread">View Comments</a>
      <p><small><span class="blog_post_date">Updated April 30, 2013 at 09:49 AM</span>
      </small></p>
    </header>
    <div class="post_prose">
      



<p>
This is an example of using emacs-lisp to extract pieces of information about a bunch of org-files into a single report, as well as aggregating data from those files. The scenario where this would likely be useful is if you have a set of org-files that contain information, e.g. from a bunch of different calculations, or from documents turned in by different students, and you want to aggregate the results into a report.
</p>

<p>
In this example, I have a set of org-files in this directory that contain simulated homework assignments turned in. The files in this example all look something like this. Each heading corresponds to a problem, and there is a properties drawer for each heading that contains the grade. 
</p>

<p>
We will create a navigation document that facilitates reviewing each of the files, as well as collecting the grades from the files. Here is what a typical file looks like:
</p>

<pre class="example">
#+PROPERTY: NAME Ellen Donnte
* 1a
  :PROPERTIES:
  :lettergrade: A
  :END:
* 1b
  :PROPERTIES:
  :lettergrade: R
  :END:
* 2
  :PROPERTIES:
  :lettergrade: A
  :END:
#+BEGIN_SRC emacs-lisp
(prin1 42)
#+END_SRC

#+RESULTS:
: 42

* 3
  :PROPERTIES:
  :lettergrade: C
  :END:
</pre>


<div id="outline-container-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Creating a navigation document</h2>
<div class="outline-text-2" id="text-1">
<p>
In this section we write some code that creates text with a link to each file we need to review. This is something I imagine we would do after all the files have been turned in and collected. This buffer would facilitate navigating all the files, and checking them off. First we create checkboxes. All this does is create an easy to use navigation document that facilitates opening the files, grading them, and marking them as done.<sup><a id="fnr.1" name="fnr.1" class="footref" href="#fn.1">1</a></sup>
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #8b0000;">require</span> '<span style="color: #cd0000;">find-lisp</span>)

(<span style="color: #8b0000;">dolist</span> (fname (find-lisp-find-files <span style="color: #228b22;">"."</span> <span style="color: #228b22;">"\\HW1.org$"</span>) nil)
  (princ (format <span style="color: #228b22;">"- [ ] [[file:%s][%s]]\n"</span> fname (file-name-nondirectory fname))))
</pre>
</div>

<ul>
<li><code>[X]</code> <a href="file://c:/Users/jkitchin/Dropbox/blogofile-jkitchin.github.com/_blog/org-report/Slim-Shady-HW1.html" >Slim-Shady-HW1.org</a>
</li>
<li><code>[&nbsp;]</code> <a href="file://c:/Users/jkitchin/Dropbox/blogofile-jkitchin.github.com/_blog/org-report/John-Doe-HW1.html" >John-Doe-HW1.org</a>
</li>
<li><code>[&nbsp;]</code> <a href="file://c:/Users/jkitchin/Dropbox/blogofile-jkitchin.github.com/_blog/org-report/Jim-Vicious-HW1.html" >Jim-Vicious-HW1.org</a>
</li>
<li><code>[&nbsp;]</code> <a href="file://c:/Users/jkitchin/Dropbox/blogofile-jkitchin.github.com/_blog/org-report/Ellen-Donnte-HW1.html" >Ellen-Donnte-HW1.org</a>
</li>
</ul>


<p>
In the results above I have marked one entry as completed.
</p>

<p>
It might be preferrable to have links to places in the file, e.g. to problem 2.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #8b0000;">require</span> '<span style="color: #cd0000;">find-lisp</span>)

(<span style="color: #8b0000;">dolist</span> (fname (find-lisp-find-files <span style="color: #228b22;">"."</span> <span style="color: #228b22;">"\\HW1.org$"</span>) nil)
  (princ (format <span style="color: #228b22;">"- [ ] [[file:%s::*2][%s - problem 2]]\n"</span> fname (file-name-nondirectory fname))))
</pre>
</div>

<ul>
<li><code>[&nbsp;]</code> <a href="file://c:/Users/jkitchin/Dropbox/blogofile-jkitchin.github.com/_blog/org-report/Slim-Shady-HW1.html" >Slim-Shady-HW1.org - problem 2</a>
</li>
<li><code>[&nbsp;]</code> <a href="file://c:/Users/jkitchin/Dropbox/blogofile-jkitchin.github.com/_blog/org-report/John-Doe-HW1.html" >John-Doe-HW1.org - problem 2</a>
</li>
<li><code>[X]</code> <a href="file://c:/Users/jkitchin/Dropbox/blogofile-jkitchin.github.com/_blog/org-report/Jim-Vicious-HW1.html" >Jim-Vicious-HW1.org - problem 2</a>
</li>
<li><code>[&nbsp;]</code> <a href="file://c:/Users/jkitchin/Dropbox/blogofile-jkitchin.github.com/_blog/org-report/Ellen-Donnte-HW1.html" >Ellen-Donnte-HW1.org - problem 2</a>
</li>
</ul>
</div>
</div>
<div id="outline-container-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Aggregating properties</h2>
<div class="outline-text-2" id="text-2">
<p>
Our goal here is to use emacs-lisp to aggregate the letter grades from all the assignments into a table. This would be done after all the files have been reviewed. First, we write a function that gets the data we want. The function should take a filename, and return the letter grade for a problem, e.g. (get-letter-grade filename problem) -&gt; lettergrade. Then, we will map that function onto a list of files.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #8b0000;">require</span> '<span style="color: #cd0000;">find-lisp</span>)

(<span style="color: #8b0000;">defun</span> <span style="color: #8b2323;">get-letter-grade</span> (filename problem-name)
  <span style="color: #228b22;">"Open filename, get the grade associated with the heading of problem-name."</span>
  (<span style="color: #8b0000;">with-temp-buffer</span>
    (insert-file-contents filename)
    (<span style="color: #8b0000;">let</span> ((studentname nil)
           (lettergrade nil))
      (org-ctrl-c-ctrl-c) <span style="color: #ff0000; font-weight: bold;">; </span><span style="color: #ff0000; font-weight: bold;">this is needed to read the NAME property!</span>
      (setq studentname (org-entry-get (point) <span style="color: #228b22;">"NAME"</span> t))
      (goto-char (point-min))
      (search-forward problem-name)
      (setq lettergrade (org-entry-get (point) <span style="color: #228b22;">"lettergrade"</span>))
      
      (princ (format <span style="color: #228b22;">"|%s|%s|%s|\n"</span> studentname problem-name lettergrade)))))

(princ <span style="color: #228b22;">"#+ATTR_HTML: :border 2 :rules all :frame border\n"</span>)
(princ <span style="color: #228b22;">"#+tblname: GRADES\n"</span>)
(princ <span style="color: #228b22;">"| Name | Problem | Grade |\n|-\n"</span>)

(<span style="color: #8b0000;">dolist</span> (problem-name '(<span style="color: #228b22;">"1a"</span> <span style="color: #228b22;">"1b"</span> <span style="color: #228b22;">"2"</span> <span style="color: #228b22;">"3"</span>) nil)
  (mapcar (<span style="color: #8b0000;">lambda</span> (fname) (get-letter-grade fname problem-name)) 
      (find-lisp-find-files <span style="color: #228b22;">"."</span> <span style="color: #228b22;">"\\HW1.org$"</span>)))
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides" id="GRADES">
<caption></caption>

<colgroup>
<col class="left"/>

<col class="left"/>

<col class="left"/>
</colgroup>
<thead>
<tr>
<th scope="col" class="left">Name</th>
<th scope="col" class="left">Problem</th>
<th scope="col" class="left">Grade</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">Slim Shady</td>
<td class="left">1a</td>
<td class="left">A</td>
</tr>

<tr>
<td class="left">John Doe</td>
<td class="left">1a</td>
<td class="left">B</td>
</tr>

<tr>
<td class="left">Jim Vicious</td>
<td class="left">1a</td>
<td class="left">B</td>
</tr>

<tr>
<td class="left">Ellen Donnte</td>
<td class="left">1a</td>
<td class="left">A</td>
</tr>

<tr>
<td class="left">Slim Shady</td>
<td class="left">1b</td>
<td class="left">B</td>
</tr>

<tr>
<td class="left">John Doe</td>
<td class="left">1b</td>
<td class="left">A</td>
</tr>

<tr>
<td class="left">Jim Vicious</td>
<td class="left">1b</td>
<td class="left">C</td>
</tr>

<tr>
<td class="left">Ellen Donnte</td>
<td class="left">1b</td>
<td class="left">R</td>
</tr>

<tr>
<td class="left">Slim Shady</td>
<td class="left">2</td>
<td class="left">R</td>
</tr>

<tr>
<td class="left">John Doe</td>
<td class="left">2</td>
<td class="left">B</td>
</tr>

<tr>
<td class="left">Jim Vicious</td>
<td class="left">2</td>
<td class="left">R</td>
</tr>

<tr>
<td class="left">Ellen Donnte</td>
<td class="left">2</td>
<td class="left">A</td>
</tr>

<tr>
<td class="left">Slim Shady</td>
<td class="left">3</td>
<td class="left">R</td>
</tr>

<tr>
<td class="left">John Doe</td>
<td class="left">3</td>
<td class="left">B</td>
</tr>

<tr>
<td class="left">Jim Vicious</td>
<td class="left">3</td>
<td class="left">D</td>
</tr>

<tr>
<td class="left">Ellen Donnte</td>
<td class="left">3</td>
<td class="left">C</td>
</tr>
</tbody>
</table>


<p>
You could imagine some other kind of aggregating or analysis here too. Now that we have that table, we can use it in other analysis. Let us count the number of A's. 
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #8b0000;">save-excursion</span>
  (goto-char (point-min))
  (search-forward-regexp <span style="color: #228b22;">"^#\\+tblname: GRADES"</span>)
  (next-line)
  (<span style="color: #8b0000;">let</span> ((A-COUNT 0)
        (letter-grade nil)
        <span style="color: #ff0000; font-weight: bold;">;; </span><span style="color: #ff0000; font-weight: bold;">cddr is used to remove the first two rows of the table</span>
        (data (cddr (org-table-to-lisp))))
    (<span style="color: #8b0000;">dolist</span> (entry data nil)
      (setq letter-grade (nth 2 entry))
      (<span style="color: #8b0000;">if</span> (equal  letter-grade <span style="color: #228b22;">"A"</span>)
          (incf A-COUNT)))
    (princ (format <span style="color: #228b22;">"%s A's counted"</span> A-COUNT))))
</pre>
</div>

<pre class="example">
4 A's counted
</pre>

<p>
Since we are in org-mode, we can use the table directly! Let us do that and count the number of R's.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #8b0000;">let</span> ((COUNT 0)
      (letter-grade nil))
    (<span style="color: #8b0000;">dolist</span> (entry (cddr data) nil)
      (setq letter-grade (nth 2 entry))
      (<span style="color: #8b0000;">if</span> (equal  letter-grade <span style="color: #228b22;">"R"</span>)
          (incf COUNT)))
    (princ (format <span style="color: #228b22;">"%s R's counted"</span> COUNT))))
</pre>
</div>

<pre class="example">
4 R's counted
</pre>
</div>
</div>
<div id="outline-container-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> Aggregating sections of org-files into one file</h2>
<div class="outline-text-2" id="text-3">
<p>
Another scenario that may be interesting is to collect all of the responses in a single document. This might be useful to show examples in class, or to review all the problems to see if there are common errors. Here we collect Problem 2.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #8b0000;">require</span> '<span style="color: #cd0000;">find-lisp</span>)

(generate-new-buffer <span style="color: #228b22;">"Problem 2"</span>)
(set-buffer <span style="color: #228b22;">"Problem 2"</span>)
(insert <span style="color: #228b22;">"#+TITLE: Summary of problem 2\n"</span>)

(<span style="color: #8b0000;">dolist</span> (fname (find-lisp-find-files <span style="color: #228b22;">"."</span> <span style="color: #228b22;">"\\HW1.org$"</span>) nil)
  (<span style="color: #8b0000;">save-excursion</span>
    (goto-char (point-max))
    (org-mode)
    (<span style="color: #8b0000;">with-temp-buffer</span> 
      (insert-file-contents fname)
      (org-mode)
      (goto-char (point-min))
      (setq studentname (org-entry-get nil <span style="color: #228b22;">"NAME"</span> t))
      (search-forward <span style="color: #228b22;">"* 2"</span>)
      (org-narrow-to-subtree)
      (forward-line) <span style="color: #ff0000; font-weight: bold;">; </span><span style="color: #ff0000; font-weight: bold;">skip heading</span>
      (setq text (buffer-substring (point) (point-max))))
    (insert (format <span style="color: #228b22;">"* 2 - %s\n"</span> studentname))
    (insert text <span style="color: #228b22;">"\n"</span>)
          
    (search-backward <span style="color: #228b22;">"* 2"</span>)
    (org-entry-put nil <span style="color: #228b22;">"NAME"</span> studentname)
    (org-entry-put nil <span style="color: #228b22;">"source"</span> (format <span style="color: #228b22;">"[[%s][link]]"</span> fname))
))

(switch-to-buffer <span style="color: #228b22;">"Problem 2"</span>)
(org-mode) <span style="color: #ff0000; font-weight: bold;">; </span><span style="color: #ff0000; font-weight: bold;">switch to org-mode in that buffer</span>

<span style="color: #ff0000; font-weight: bold;">;; </span><span style="color: #ff0000; font-weight: bold;">print the lines to see what we got</span>
(<span style="color: #8b0000;">dolist</span> (line (split-string (buffer-string) <span style="color: #228b22;">"\n"</span>) nil) (princ (format <span style="color: #228b22;">": %s\n"</span> line)))
</pre>
</div>

<pre class="example">
: #+TITLE: Summary of problem 2
: * 2 - Slim Shady
:   :PROPERTIES:
:   :lettergrade: R
:   :NAME:     Slim Shady
:   :source:   [[c:/Users/jkitchin/Dropbox/blogofile-jkitchin.github.com/_blog/org-report/Slim-Shady-HW1.org][link]]
:   :END:
: #+BEGIN_SRC python
: print 3
: 
: #+END_SRC
: 
: #+RESULTS:
: : 3
: 
: * 2 - John Doe
:   :PROPERTIES:
:   :lettergrade: B
:   :NAME:     John Doe
:   :source:   [[c:/Users/jkitchin/Dropbox/blogofile-jkitchin.github.com/_blog/org-report/John-Doe-HW1.org][link]]
:   :END:
: Here is my solution
: #+BEGIN_SRC python
: print 4
: #+END_SRC
: 
: #+RESULTS:
: : 4
: 
: * 2 - Jim Vicious
:   :PROPERTIES:
:   :lettergrade: R
:   :NAME:     Jim Vicious
:   :source:   [[c:/Users/jkitchin/Dropbox/blogofile-jkitchin.github.com/_blog/org-report/Jim-Vicious-HW1.org][link]]
:   :END:
: I could not figure this out
: * 2 - Ellen Donnte
:   :PROPERTIES:
:   :lettergrade: A
:   :NAME:     Ellen Donnte
:   :source:   [[c:/Users/jkitchin/Dropbox/blogofile-jkitchin.github.com/_blog/org-report/Ellen-Donnte-HW1.org][link]]
:   :END:
: #+BEGIN_SRC emacs-lisp
: (prin1 42)
: #+END_SRC
: 
: #+RESULTS:
: : 42
</pre>






<p>
I am not super thrilled with this approach. It feels too much like hand-crafting a result, but it does show some possibilities!
</p>
</div>
</div>
<p>Copyright (C) 2013 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2013/04/30/Summarizing-org-files-in-a-report.org">org-mode source</a><p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <div class="after_post"><a href="http://jkitchin.github.io/blog/2013/04/30/Summarizing-org-files-in-a-report#disqus_thread">Read and Post Comments</a></div>
  <hr class="interblog" />
  





<article>
  <div class="blog_post">
    <header>
      <div id="Successful-PhD-defense-for-Anita-Lee"></div>
      <h2 class="blog_post_title"><a href="/blog/2013/04/26/Successful-PhD-defense-for-Anita-Lee/" rel="bookmark" title="Permanent Link to Successful PhD defense for Anita Lee">Successful PhD defense for Anita Lee</a></h2>
      <p><small><span class="blog_post_date">Posted April 26, 2013 at 01:00 PM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/news/'>news</a></span> | tags: 
        | <a href="http://jkitchin.github.io/blog/2013/04/26/Successful-PhD-defense-for-Anita-Lee#disqus_thread">View Comments</a>
      <p><small><span class="blog_post_date">Updated May 12, 2013 at 04:20 PM</span>
      </small></p>
    </header>
    <div class="post_prose">
      



<p>
Congratulations to Anita Lee for successfully defending her dissertation entitled &ldquo;A Multi-Scale Approach to Understanding CO2-Solvent Systems for the Development of CO2 Capture Technologies&rdquo;!
</p>
<p>Copyright (C) 2013 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2013/04/26/Successful-PhD-defense-for-Anita-Lee.org">org-mode source</a><p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <div class="after_post"><a href="http://jkitchin.github.io/blog/2013/04/26/Successful-PhD-defense-for-Anita-Lee#disqus_thread">Read and Post Comments</a></div>
  <hr class="interblog" />
 <a href="../76">« Previous Page</a>
  --  
 <a href="../78">Next Page »</a>

          </div>
          <div id="sidebar" class="grid_4">
            <aside>
<section>
<script>
  (function() {
    var cx = '002533177287215655227:l7uvu35ssbc';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</section>

<section>
    <h1 class="post_header_gradient theme_font">Twitter</h1>
    <a class="twitter-timeline" href="https://twitter.com/johnkitchin" data-widget-id="545217643582881792">Tweets by @johnkitchin</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</section>


  <section>
    <h1 class="post_header_gradient theme_font">Links</h1>
    <ul>
      <li><a href="https://www.continuum.io">Anaconda Python</a></li>
      <li><a href="/pycse">Pycse</a></li>
      <li><a href="/dft-book">DFT-book</a></li>
    </ul>
  </section>

  <section>
    <h1 class="post_header_gradient theme_font">Latest Posts</h1>
    <ul>
      <li><a href="/blog/2018/01/27/New-publication-in-Topics-in-Catalysis/">New publication in Topics in Catalysis</a></li>
      <li><a href="/blog/2018/01/03/New-publication-in-Molecular-Simulation/">New publication in Molecular Simulation</a></li>
      <li><a href="/blog/2017/12/31/2017-in-a-nutshell-for-the-Kitchin-Research-group/">2017 in a nutshell for the Kitchin Research group</a></li>
      <li><a href="/blog/2017/11/29/Solving-an-eigenvalue-differential-equation-with-a-neural-network/">Solving an eigenvalue differential equation with a neural network</a></li>
      <li><a href="/blog/2017/11/28/Solving-ODEs-with-a-neural-network-and-autograd/">Solving ODEs with a neural network and autograd</a></li>
    </ul>
  </section>

<section>
<h1 class="post_header_gradient theme_font">Latest GitHub Repos</h1>
  <a href="https://github.com/jkitchin">@jkitchin</a> on GitHub.
  <ul id="my-github-projects">
        <li class="loading">Status updating&#8230;</li>
  </ul>

</section>
</aside>

          </div>
          <div class="clear"></div>
        </div>
      </div>
      
<footer>
  <div id="footer" class="grid_12">
    <div class="grid_8">
      <p>
        <a href="/blog/feed/index.xml">RSS</a>
        <a href="http://kitchinresearchgroup.disqus.com/latest.rss">Comments RSS Feed</a>.
      </p>
    </div>
    <div class="grid_4" id="credits">
      <p>
        Copyright 2018
        John Kitchin
      </p>
      <p>
        Powered by <a href="http://www.blogofile.com">Blogofile</a>
      </p>
    </div>
  </div>
</footer>

    </div>
      <script src="//ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/js/libs/jquery-1.5.1.min.js"%3E%3C/script%3E'))</script>
  <script src="/js/plugins.js"></script>
  <script src="/js/script.js"></script>
  <script src="/js/jquery.tweet.js"></script>  
  <script src="/js/site.js"></script>
  <!--[if lt IE 7 ]>
  <script src="js/libs/dd_belatedpng.js"></script>
  <script> DD_belatedPNG.fix('img, .png_bg');</script>
  <![endif]-->
  <script>
      var _gaq=[['_setAccount','UA-35731398-1'],['_trackPageview']];
      (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.async=1;
      g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
      s.parentNode.insertBefore(g,s)}(document,'script'));
  </script>
  <script>
  (function() {
      var links = document.getElementsByTagName('a');
      var query = '?';
      for(var i = 0; i < links.length; i++) {
          if(links[i].href.indexOf('#disqus_thread') >= 0) {
              query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&';
          }
      }
      document.write('<script charset="utf-8" type="text/javascript" src="http://disqus.com/forums/kitchinresearchgroup/get_num_replies.js' + query + '"></' + 'script>');
  })();
  </script>

  </body>
</html>






<script src="http://ajax.microsoft.com/ajax/jquery/jquery-1.4.2.min.js" type="text/javascript"></script>
<script src="/js/git.js" type="text/javascript"></script>
<script type="text/javascript">
    $(function() {
     $("#my-github-projects").loadRepositories("jkitchin");
    });
</script>



