

<!doctype html>
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Kitchin Research Group</title>
  <meta name="google-site-verification" content="CGcacJdHc2YoZyI0Vey9XRA5qwhhFDzThKJezbRFcJ4" />
  <meta name="description" content="Chemical Engineering at Carnegie Mellon University">
  <meta name="author" content="John Kitchin">
  <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="/blog/feed" />
  <link rel="alternate" type="application/atom+xml" title="Atom 1.0" href="/blog/feed/atom" />
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/img/apple-touch-icon.png">

  <link rel="stylesheet" href="/css/base.css?v=1">
  <link rel="stylesheet" href="/css/grid.css?v=1">
  <link rel="stylesheet" media="handheld" href="/css/handheld.css?v=1">
  <link rel="stylesheet" href="/css/pygments_murphy.css" type="text/css" />

  <script src="/js/libs/modernizr-1.7.min.js"></script>
<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
  <link rel="stylesheet" href="/themes/theme1/style.css?v=1">
<link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>

</head>
  <body>
    <div id="container" class="container container_12">
      <div id="main" role="main">
        <div id="main_block">
          <header>
<div id="header" class="header_gradient theme_font">
<table><tr><td>
    <h1><a href="/">The Kitchin Research Group</a></h1>
    <h2>Chemical Engineering at Carnegie Mellon University</h2>
</td>
<td colspan=100%><div style="float:right;width:100%;text-align:right;"> <span id='badgeCont737515' style='width:126px'><script src='http://labs.researcherid.com/mashlets?el=badgeCont737515&mashlet=badge&showTitle=false&className=a&rid=A-2363-2010'></script></span></div>
</td></tr>
</table>
</div>
  <div id="navigation" class="grid_12">

    <ul class="theme_font">
      <li><a href="/blog"
             class="">Blog</a></li>

      <li><a href="/blog/archive"
             class="">Archives</a></li>

      <li><a href="/publications.html">Publications</a></li>

      <li><a href="/research.html"
             class="">Research</a></li>

      <li><a href="/categories.html"
             class="">Categories</a></li>

      <li><a href="/about.html"
             class="">About us</a></li>
    </ul>
  </div>
</header>

          <div id="prose_block" class="grid_8">
            
  





<article>
  <div class="blog_post">
    <header>
      <div id="The-orcid-api-and-generating-a-bibtex-file-from-it"></div>
      <h2 class="blog_post_title"><a href="/blog/2015/03/28/The-orcid-api-and-generating-a-bibtex-file-from-it/" rel="bookmark" title="Permanent Link to The orcid api and generating a bibtex file from it">The orcid api and generating a bibtex file from it</a></h2>
      <p><small><span class="blog_post_date">Posted March 28, 2015 at 02:21 PM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/python/'>python</a>, <a href='/blog/category/orcid/'>orcid</a></span> | tags: 
        | <a href="http://jkitchin.github.io/blog/2015/03/28/The-orcid-api-and-generating-a-bibtex-file-from-it#disqus_thread">View Comments</a>
      </small></p>
    </header>
    <div class="post_prose">
      




<p>
I found this interesting package <a href="https://pypi.python.org/pypi/orcid-python">orcid-python 0.1 : Python Package Index</a> . Unfortunately, it seems to have some issues and it did not work for me. But, the idea is pretty simple, there is a restful API (see <a href="http://members.orcid.org/api/tutorial-retrieve-data-public-api-curl-12-and-earlier">http://members.orcid.org/api/tutorial-retrieve-data-public-api-curl-12-and-earlier</a> ) that we can use to retrieve data. We explore that a bit here.
</p>

<p>
I have an <a href="http://orcid.org/0000-0003-2625-9232">orcid:0000-0003-2625-9232</a> which contains my data. First, we just retrieve some basic information using Python.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">import</span> requests
<span style="color: #0000FF;">import</span> json

<span style="color: #BA36A5;">resp</span> = requests.get(<span style="color: #008000;">"http://pub.orcid.org/0000-0003-2625-9232"</span>,
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   headers={<span style="color: #008000;">'Accept'</span>:<span style="color: #008000;">'application/orcid+json'</span>})

<span style="color: #0000FF;">print</span> json.dumps(resp.json(),
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>    sort_keys=<span style="color: #D0372D;">True</span>,
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>    indent=4, separators=(<span style="color: #008000;">','</span>, <span style="color: #008000;">': '</span>))
</pre>
</div>
<pre class="example">
{
    "message-version": "1.1",
    "orcid-profile": {
        "client-type": null,
        "group-type": null,
        "orcid": null,
        "orcid-activities": {
            "affiliations": null
        },
        "orcid-bio": {
            "applications": null,
            "contact-details": {
                "address": {
                    "country": {
                        "value": "US",
                        "visibility": null
                    }
                },
                "email": []
            },
            "delegation": null,
            "external-identifiers": {
                "external-identifier": [
                    {
                        "external-id-common-name": {
                            "value": "ResearcherID"
                        },
                        "external-id-orcid": {
                            "host": "orcid.org",
                            "path": "0000-0001-7707-4137",
                            "uri": "http://orcid.org/0000-0001-7707-4137",
                            "value": null
                        },
                        "external-id-reference": {
                            "value": "A-2363-2010"
                        },
                        "external-id-url": {
                            "value": "http://www.researcherid.com/rid/A-2363-2010"
                        }
                    },
                    {
                        "external-id-common-name": {
                            "value": "Scopus Author ID"
                        },
                        "external-id-orcid": {
                            "host": "orcid.org",
                            "path": "0000-0002-5982-8983",
                            "uri": "http://orcid.org/0000-0002-5982-8983",
                            "value": null
                        },
                        "external-id-reference": {
                            "value": "7004212771"
                        },
                        "external-id-url": {
                            "value": "http://www.scopus.com/inward/authorDetails.url?authorID=7004212771&amp;partnerID=MN8TOARS"
                        }
                    }
                ],
                "visibility": null
            },
            "keywords": {
                "keyword": [
                    {
                        "value": "Computational catalysis, electrochemistry, CO2 capture"
                    }
                ],
                "visibility": null
            },
            "personal-details": {
                "family-name": {
                    "value": "Kitchin"
                },
                "given-names": {
                    "value": "John"
                }
            },
            "researcher-urls": {
                "researcher-url": [
                    {
                        "url": {
                            "value": "http://kitchingroup.cheme.cmu.edu"
                        },
                        "url-name": {
                            "value": "Research website"
                        }
                    }
                ],
                "visibility": null
            },
            "scope": null
        },
        "orcid-history": {
            "claimed": {
                "value": true
            },
            "completion-date": {
                "value": 1376581428004
            },
            "creation-method": "WEBSITE",
            "last-modified-date": {
                "value": 1427557747595
            },
            "source": null,
            "submission-date": {
                "value": 1376581211104
            },
            "visibility": null
        },
        "orcid-identifier": {
            "host": "orcid.org",
            "path": "0000-0003-2625-9232",
            "uri": "http://orcid.org/0000-0003-2625-9232",
            "value": null
        },
        "orcid-preferences": {
            "locale": "EN"
        },
        "type": "USER"
    }
}
</pre>

<p>
That information is not too interesting, but it would allow you to scrape out my website, scopus id, and researcher id. Next, we look at the publications orcid knows about for me. These are integrated from a few sources, notably my <a href="http://www.researcherid.com/rid/A-2363-2010">ResearcherID:A-2363-2010</a>, <a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=7004212771">scopusid:7004212771</a>, and <a href="http://crossref.org">http://crossref.org</a> .  The next code block prints the bibtex entry for the first few entries. The bibtex entries are not too well formed, and would need some cleaning, but it is a pretty good start.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">import</span> requests
<span style="color: #0000FF;">import</span> json

<span style="color: #BA36A5;">resp</span> = requests.get(<span style="color: #008000;">"http://pub.orcid.org/0000-0003-2625-9232/orcid-works"</span>,
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   headers={<span style="color: #008000;">'Accept'</span>:<span style="color: #008000;">'application/orcid+json'</span>})

<span style="color: #BA36A5;">results</span> = resp.json()
<span style="color: #0000FF;">for</span> i, result <span style="color: #0000FF;">in</span> <span style="color: #006FE0;">enumerate</span>( results[<span style="color: #008000;">'orcid-profile'</span>][<span style="color: #008000;">'orcid-activities'</span>]
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   [<span style="color: #008000;">'orcid-works'</span>][<span style="color: #008000;">'orcid-work'</span>]):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">print</span> result[<span style="color: #008000;">'work-citation'</span>][<span style="color: #008000;">'citation'</span>].encode(<span style="color: #008000;">'utf-8'</span>) + <span style="color: #008000;">'\n'</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">if</span> i == 2:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">break</span>
</pre>
</div>

<pre class="example">
@article{Xu_2015,doi = {10.1021/jp511426q},url = {http://dx.doi.org/10.1021/jp511426q},year = 2015,month = {mar},publisher = {American Chemical Society ({ACS})},volume = {119},number = {9},pages = {4827--4833},author = {Zhongnan Xu and Jan Rossmeisl and John R. Kitchin},title = { A Linear Response {DFT}$\mathplus$ U Study of Trends in the Oxygen Evolution Activity of Transition Metal Rutile Dioxides },journal = {J. Phys. Chem. C}}

@article{Xu_2015,doi = {10.1063/1.4914093},url = {http://dx.doi.org/10.1063/1.4914093},year = 2015,month = {mar},publisher = {{AIP} Publishing},volume = {142},number = {10},pages = {104703},author = {Zhongnan Xu and John R. Kitchin},title = {Relationships between the surface electronic and chemical properties of doped 4d and 5d late transition metal dioxides},journal = {J. Chem. Phys.}}

@article{Boes_2015,doi = {10.1016/j.susc.2015.02.011},url = {http://dx.doi.org/10.1016/j.susc.2015.02.011},year = 2015,month = {mar},publisher = {Elsevier {BV}},author = {Jacob Boes and Peter Kondratyuk and Chunrong Yin and James B. Miller and Andrew J. Gellman and John R. Kitchin},title = {Core level shifts in Cu{\textendash}Pd alloys as a function of bulk composition and structure},journal = {Surface Science}}
</pre>

<p>
Let us look at a tabular form of that data so it is sortable. We attempt to remove some duplicates based on the title and doi. The duplicates come about because there is more than one source where this data is pulled from. This is a little tricky, we do a case insensitive title comparison, but that still fails if the titles have different white space in them, e.g. "111" vs "1 1 1", and different sources do that. Also, the DOIs are sometimes missing, and sometimes have different cases, and sometimes are not correct. This code tries to fix most of those issues.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">import</span> requests
<span style="color: #0000FF;">import</span> json

<span style="color: #BA36A5;">resp</span> = requests.get(<span style="color: #008000;">"http://pub.orcid.org/0000-0003-2625-9232/orcid-works"</span>,
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   headers={<span style="color: #008000;">'Accept'</span>:<span style="color: #008000;">'application/orcid+json'</span>})
<span style="color: #BA36A5;">results</span> = resp.json()

<span style="color: #BA36A5;">data</span> = []
<span style="color: #BA36A5;">TITLES</span>, <span style="color: #BA36A5;">DOIs</span> = [], []

<span style="color: #0000FF;">for</span> i, result <span style="color: #0000FF;">in</span> <span style="color: #006FE0;">enumerate</span>( results[<span style="color: #008000;">'orcid-profile'</span>][<span style="color: #008000;">'orcid-activities'</span>]
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   [<span style="color: #008000;">'orcid-works'</span>][<span style="color: #008000;">'orcid-work'</span>]):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">title</span> = <span style="color: #006FE0;">str</span>(result[<span style="color: #008000;">'work-title'</span>][<span style="color: #008000;">'title'</span>][<span style="color: #008000;">'value'</span>].encode(<span style="color: #008000;">'utf-8'</span>))
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">doi</span> = <span style="color: #008000;">'None'</span>

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">for</span> x <span style="color: #0000FF;">in</span> result.get(<span style="color: #008000;">'work-external-identifiers'</span>, []):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">for</span> eid <span style="color: #0000FF;">in</span> result[<span style="color: #008000;">'work-external-identifiers'</span>][<span style="color: #008000;">'work-external-identifier'</span>]:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">if</span> eid[<span style="color: #008000;">'work-external-identifier-type'</span>] == <span style="color: #008000;">'DOI'</span>:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">doi</span> = <span style="color: #006FE0;">str</span>(eid[<span style="color: #008000;">'work-external-identifier-id'</span>][<span style="color: #008000;">'value'</span>].encode(<span style="color: #008000;">'utf-8'</span>))

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">AIP journals tend to have a \n in the DOI, and the doi is the second line. we get</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">that here.</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">if</span> <span style="color: #006FE0;">len</span>(doi.split(<span style="color: #008000;">'\n'</span>)) == 2:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">doi</span> = doi.split(<span style="color: #008000;">'\n'</span>)[1]

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">pub_date</span> = result.get(<span style="color: #008000;">'publication-date'</span>, <span style="color: #D0372D;">None</span>)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">if</span> pub_date:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">year</span> = pub_date.get(<span style="color: #008000;">'year'</span>, <span style="color: #D0372D;">None</span>).get(<span style="color: #008000;">'value'</span>).encode(<span style="color: #008000;">'utf-8'</span>)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">else</span>:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">year</span> = <span style="color: #008000;">'Unknown'</span>

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Try to minimize duplicate entries that are found</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">dup</span> = <span style="color: #D0372D;">False</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">if</span> title.lower() <span style="color: #0000FF;">in</span> TITLES:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">dup</span> = <span style="color: #D0372D;">True</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">if</span> (doi != <span style="color: #008000;">'None'</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">and</span> doi.lower() <span style="color: #0000FF;">in</span> DOIs):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">dup</span> = <span style="color: #D0372D;">True</span>

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">if</span> <span style="color: #0000FF;">not</span> dup:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">truncate title to first 50 characters</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">print</span>(<span style="color: #008000;">'| {3} | {0}  | {1} | [[doi:{2}]]|'</span>.<span style="color: #006FE0;">format</span>(title[0:50], year, doi, result[<span style="color: #008000;">'work-type'</span>]))

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   TITLES.append(title.lower())
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   DOIs.append(doi.lower())
</pre>
</div>

<div class="org-src-container">

<pre class="src src-org"><span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | A Linear Response DFT+ U Study of Trends in the Ox | 2015 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1021/jp511426q">doi:10.1021/jp511426q</a></span><span style="color: #006400; background-color: #EAFFEA;">                                |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Relationships between the surface electronic and c | 2015 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1063/1.4914093">doi:10.1063/1.4914093</a></span><span style="color: #006400; background-color: #EAFFEA;">                                |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Core level shifts in Cu&#8211;Pd alloys as a function    | 2015 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1016/j.susc.2015.02.011">doi:10.1016/j.susc.2015.02.011</a></span><span style="color: #006400; background-color: #EAFFEA;">                       |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Estimating bulk-composition-dependent H2 adsorptio | 2015 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1021/cs501585k">doi:10.1021/cs501585k</a></span><span style="color: #006400; background-color: #EAFFEA;">                                |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Probing the Coverage Dependence of Site and Adsorb | 2014 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1021/jp508805h">doi:10.1021/jp508805h</a></span><span style="color: #006400; background-color: #EAFFEA;">                                |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Relating the electronic structure and reactivity o | 2014 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1016/j.catcom.2013.10.028">doi:10.1016/j.catcom.2013.10.028</a></span><span style="color: #006400; background-color: #EAFFEA;">                     |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Electrocatalytic Oxygen Evolution with an Immobili | 2014 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1021/ja5015986">doi:10.1021/ja5015986</a></span><span style="color: #006400; background-color: #EAFFEA;">                                |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Identifying Potential BO 2 Oxide Polymorphs for Ep | 2014 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1021/am4059149">doi:10.1021/am4059149</a></span><span style="color: #006400; background-color: #EAFFEA;">                                |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Simulating temperature programmed desorption of ox | 2014 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1007/s11244-013-0166-3">doi:10.1007/s11244-013-0166-3</a></span><span style="color: #006400; background-color: #EAFFEA;">                        |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Probing the effect of electron donation on CO2 abs | 2014 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1039/c3ra47097k">doi:10.1039/c3ra47097k</a></span><span style="color: #006400; background-color: #EAFFEA;">                               |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Effects of concentration, crystal structure, magne | 2014 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1021/jp507957n">doi:10.1021/jp507957n</a></span><span style="color: #006400; background-color: #EAFFEA;">                                |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Effects of O 2 and SO 2 on the Capture Capacity of | 2013 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1021/ie400582a">doi:10.1021/ie400582a</a></span><span style="color: #006400; background-color: #EAFFEA;">                                |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Number of outer electrons as descriptor for adsorp | 2013 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:None">doi:None</a></span><span style="color: #006400; background-color: #EAFFEA;">                                             |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Interactions in 1-ethyl-3-methyl imidazolium tetra | 2013 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:http://dx.doi.org/10.1016/j.molstruc.2013.01.046">doi:http://dx.doi.org/10.1016/j.molstruc.2013.01.046</a></span><span style="color: #006400; background-color: #EAFFEA;"> |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Comparisons of amine solvents for post-combustion  | 2013 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:http://dx.doi.org/10.1016/j.ijggc.2013.06.020">doi:http://dx.doi.org/10.1016/j.ijggc.2013.06.020</a></span><span style="color: #006400; background-color: #EAFFEA;">    |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Chemical and Molecular Descriptors for the Reactiv | 2012 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1021/ie301419q">doi:10.1021/ie301419q</a></span><span style="color: #006400; background-color: #EAFFEA;">                                |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Spectroscopic Characterization of Mixed Fe&#8211;Ni Ox   | 2012 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1021/cs3002644">doi:10.1021/cs3002644</a></span><span style="color: #006400; background-color: #EAFFEA;">                                |</span>
<span style="color: #006400; background-color: #EAFFEA;">| REPORT           | Modeling Coverage Dependence in Surface Reaction N | 2012 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.2172/1149701">doi:10.2172/1149701</a></span><span style="color: #006400; background-color: #EAFFEA;">                                  |</span>
<span style="color: #006400; background-color: #EAFFEA;">| CONFERENCE_PAPER | Vibrational spectroscopy characterization of CO2-i | 2012 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:None">doi:None</a></span><span style="color: #006400; background-color: #EAFFEA;">                                             |</span>
<span style="color: #006400; background-color: #EAFFEA;">| CONFERENCE_PAPER | The role of electrolytes in the oxygen evolution r | 2012 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:None">doi:None</a></span><span style="color: #006400; background-color: #EAFFEA;">                                             |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | The outlook for improved carbon capture technology | 2012 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1016/j.pecs.2012.03.003">doi:10.1016/j.pecs.2012.03.003</a></span><span style="color: #006400; background-color: #EAFFEA;">                       |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Structure and Relative Thermal Stability of Mesopo | 2012 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1111/j.1551-2916.2012.05236.x">doi:10.1111/j.1551-2916.2012.05236.x</a></span><span style="color: #006400; background-color: #EAFFEA;">                 |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Preface: Trends in computational catalysis         | 2012 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1007/s11244-012-9808-0">doi:10.1007/s11244-012-9808-0</a></span><span style="color: #006400; background-color: #EAFFEA;">                        |</span>
<span style="color: #006400; background-color: #EAFFEA;">| CONFERENCE_PAPER | Exergetic analysis of chemical looping reforming   | 2012 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:None">doi:None</a></span><span style="color: #006400; background-color: #EAFFEA;">                                             |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Evaluation of a Primary Amine-Functionalized Ion-E | 2012 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1021/ie300452c">doi:10.1021/ie300452c</a></span><span style="color: #006400; background-color: #EAFFEA;">                                |</span>
<span style="color: #006400; background-color: #EAFFEA;">| CONFERENCE_PAPER | Electrocatalytic water oxidation using iron-center | 2012 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:None">doi:None</a></span><span style="color: #006400; background-color: #EAFFEA;">                                             |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Effects of strain, d-band filling, and oxidation s | 2012 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1063/1.4746117">doi:10.1063/1.4746117</a></span><span style="color: #006400; background-color: #EAFFEA;">                                |</span>
<span style="color: #006400; background-color: #EAFFEA;">| BOOK             | Coverage dependent adsorption properties of atomic | 2012 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1039/9781849734776-00083">doi:10.1039/9781849734776-00083</a></span><span style="color: #006400; background-color: #EAFFEA;">                      |</span>
<span style="color: #006400; background-color: #EAFFEA;">| CONFERENCE_PAPER | Comparisons of solvents for post-combustion CO2 ca | 2012 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:None">doi:None</a></span><span style="color: #006400; background-color: #EAFFEA;">                                             |</span>
<span style="color: #006400; background-color: #EAFFEA;">| CONFERENCE_PAPER | Characterization of an ion exchange resin for CO2  | 2012 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:None">doi:None</a></span><span style="color: #006400; background-color: #EAFFEA;">                                             |</span>
<span style="color: #006400; background-color: #EAFFEA;">| CONFERENCE_PAPER | Assessing the ability of using first principles to | 2012 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:None">doi:None</a></span><span style="color: #006400; background-color: #EAFFEA;">                                             |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Universality in Oxygen Evolution Electrocatalysis  | 2011 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1002/cctc.201000397">doi:10.1002/cctc.201000397</a></span><span style="color: #006400; background-color: #EAFFEA;">                           |</span>
<span style="color: #006400; background-color: #EAFFEA;">| CONFERENCE_PAPER | The effect of CO 2 partial pressure on capture wit | 2011 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:None">doi:None</a></span><span style="color: #006400; background-color: #EAFFEA;">                                             |</span>
<span style="color: #006400; background-color: #EAFFEA;">| CONFERENCE_PAPER | Preparation of Mesoporous La 0.8Sr 0.2MnO 3 infilt | 2011 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1149/1.3570235">doi:10.1149/1.3570235</a></span><span style="color: #006400; background-color: #EAFFEA;">                                |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Identification of sulfur-tolerant bimetallic surfa | 2011 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1021/cs200039t">doi:10.1021/cs200039t</a></span><span style="color: #006400; background-color: #EAFFEA;">                                |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Effects of strain, d-band filling, and oxidation s | 2011 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1063/1.3631948">doi:10.1063/1.3631948</a></span><span style="color: #006400; background-color: #EAFFEA;">                                |</span>
<span style="color: #006400; background-color: #EAFFEA;">| CONFERENCE_PAPER | Determining the conditions necessary for optimal C | 2011 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:None">doi:None</a></span><span style="color: #006400; background-color: #EAFFEA;">                                             |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Configurational correlations in the coverage depen | 2011 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1063/1.3561287">doi:10.1063/1.3561287</a></span><span style="color: #006400; background-color: #EAFFEA;">                                |</span>
<span style="color: #006400; background-color: #EAFFEA;">| CONFERENCE_PAPER | An electronic structure based understanding of ami | 2011 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:None">doi:None</a></span><span style="color: #006400; background-color: #EAFFEA;">                                             |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | CO2 Adsorption on Supported Molecular Amidine Syst | 2010 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1002/cssc.201000056">doi:10.1002/cssc.201000056</a></span><span style="color: #006400; background-color: #EAFFEA;">                           |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Separation of CO2 from flue gas using electrochemi | 2010 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1016/j.fuel.2009.11.036">doi:10.1016/j.fuel.2009.11.036</a></span><span style="color: #006400; background-color: #EAFFEA;">                       |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | New solid-state table: estimating d-band character | 2010 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1080/08927022.2010.481794">doi:10.1080/08927022.2010.481794</a></span><span style="color: #006400; background-color: #EAFFEA;">                     |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Simple model explaining and predicting coverage-de | 2010 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1103/PhysRevB.82.045414">doi:10.1103/PhysRevB.82.045414</a></span><span style="color: #006400; background-color: #EAFFEA;">                       |</span>
<span style="color: #006400; background-color: #EAFFEA;">| CONFERENCE_PAPER | Intrinsic and extrinsic factors associated with CO | 2010 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:None">doi:None</a></span><span style="color: #006400; background-color: #EAFFEA;">                                             |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Electrochemical concentration of carbon dioxide fr | 2010 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1149/1.3432440">doi:10.1149/1.3432440</a></span><span style="color: #006400; background-color: #EAFFEA;">                                |</span>
<span style="color: #006400; background-color: #EAFFEA;">| CONFERENCE_PAPER | Catalyzing the catalyst: Hydrogen dissociation and | 2010 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:None">doi:None</a></span><span style="color: #006400; background-color: #EAFFEA;">                                             |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Uncertainty and figure selection for DFT based clu | 2009 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1080/08927020902833137">doi:10.1080/08927020902833137</a></span><span style="color: #006400; background-color: #EAFFEA;">                        |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Sulphur poisoning of water-gas shift catalysts: Si | 2009 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1080/08927020902833129">doi:10.1080/08927020902833129</a></span><span style="color: #006400; background-color: #EAFFEA;">                        |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Step decoration of chiral metal surfaces           | 2009 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1063/1.3096964">doi:10.1063/1.3096964</a></span><span style="color: #006400; background-color: #EAFFEA;">                                |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Relating the coverage dependence of oxygen adsorpt | 2009 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1016/j.susc.2009.01.021">doi:10.1016/j.susc.2009.01.021</a></span><span style="color: #006400; background-color: #EAFFEA;">                       |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Hydrogen Dissociation and Spillover on Individual  | 2009 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1103/PhysRevLett.103.246102">doi:10.1103/PhysRevLett.103.246102</a></span><span style="color: #006400; background-color: #EAFFEA;">                   |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Correlations in coverage-dependent atomic adsorpti | 2009 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1103/PhysRevB.79.205412">doi:10.1103/PhysRevB.79.205412</a></span><span style="color: #006400; background-color: #EAFFEA;">                       |</span>
<span style="color: #006400; background-color: #EAFFEA;">| CONFERENCE_PAPER | Catalyzing the catalyst: Novel pathways to hydroge | 2009 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:None">doi:None</a></span><span style="color: #006400; background-color: #EAFFEA;">                                             |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Atomistic thermodynamics study of the adsorption a | 2009 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1016/j.jcat.2008.11.020">doi:10.1016/j.jcat.2008.11.020</a></span><span style="color: #006400; background-color: #EAFFEA;">                       |</span>
<span style="color: #006400; background-color: #EAFFEA;">| CONFERENCE_PAPER | Ancillary oxygen-fired combustion using electroche | 2009 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:None">doi:None</a></span><span style="color: #006400; background-color: #EAFFEA;">                                             |</span>
<span style="color: #006400; background-color: #EAFFEA;">| CONFERENCE_PAPER | Adsorbate Cu interactions and catalyst morphologie | 2009 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:None">doi:None</a></span><span style="color: #006400; background-color: #EAFFEA;">                                             |</span>
<span style="color: #006400; background-color: #EAFFEA;">| CONFERENCE_PAPER | &lt;title&gt;Rotational isomeric state theory applied to | 2008 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1117/12.776303">doi:10.1117/12.776303</a></span><span style="color: #006400; background-color: #EAFFEA;">                                |</span>
<span style="color: #006400; background-color: #EAFFEA;">| CONFERENCE_PAPER | The effect of hydration on the adsorption of carbo | 2008 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:None">doi:None</a></span><span style="color: #006400; background-color: #EAFFEA;">                                             |</span>
<span style="color: #006400; background-color: #EAFFEA;">| CONFERENCE_PAPER | Pt-decorated electrocatalysts for direct alcohol f | 2008 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:None">doi:None</a></span><span style="color: #006400; background-color: #EAFFEA;">                                             |</span>
<span style="color: #006400; background-color: #EAFFEA;">| CONFERENCE_PAPER | PEM-based electrochemical separation of gases      | 2008 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:None">doi:None</a></span><span style="color: #006400; background-color: #EAFFEA;">                                             |</span>
<span style="color: #006400; background-color: #EAFFEA;">| CONFERENCE_PAPER | First principles, atomistic thermodynamics for sul | 2008 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:None">doi:None</a></span><span style="color: #006400; background-color: #EAFFEA;">                                             |</span>
<span style="color: #006400; background-color: #EAFFEA;">| CONFERENCE_PAPER | Evaluating uncertainty in Ab initio phase diagrams | 2008 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:None">doi:None</a></span><span style="color: #006400; background-color: #EAFFEA;">                                             |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | ENVR 1-Basic research needs to assure a secure ene | 2008 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:None">doi:None</a></span><span style="color: #006400; background-color: #EAFFEA;">                                             |</span>
<span style="color: #006400; background-color: #EAFFEA;">| OTHER            | Density functional theory studies of alloys in het | 2008 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1039/b608782p">doi:10.1039/b608782p</a></span><span style="color: #006400; background-color: #EAFFEA;">                                 |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Alloy surface segregation in reactive environments | 2008 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1103/PhysRevB.77.075437">doi:10.1103/PhysRevB.77.075437</a></span><span style="color: #006400; background-color: #EAFFEA;">                       |</span>
<span style="color: #006400; background-color: #EAFFEA;">| CONFERENCE_PAPER | A first principles evaluation of the role of subst | 2008 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:None">doi:None</a></span><span style="color: #006400; background-color: #EAFFEA;">                                             |</span>
<span style="color: #006400; background-color: #EAFFEA;">| CONFERENCE_PAPER | Pt nanoparticle electrocatalyst synthesis for dire | 2007 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:None">doi:None</a></span><span style="color: #006400; background-color: #EAFFEA;">                                             |</span>
<span style="color: #006400; background-color: #EAFFEA;">| CONFERENCE_PAPER | Pt nanoparticle anode electrocatalysts for direct  | 2007 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:None">doi:None</a></span><span style="color: #006400; background-color: #EAFFEA;">                                             |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Response to &amp;quot;comment on 'Trends in the exchan | 2006 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1149/1.2358292">doi:10.1149/1.2358292</a></span><span style="color: #006400; background-color: #EAFFEA;">                                |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Trends in the exchange current for hydrogen evolut | 2005 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1149/1.1856988">doi:10.1149/1.1856988</a></span><span style="color: #006400; background-color: #EAFFEA;">                                |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Trends in the chemical properties of early transit | 2005 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1016/j.cattod.2005.04.008">doi:10.1016/j.cattod.2005.04.008</a></span><span style="color: #006400; background-color: #EAFFEA;">                     |</span>
<span style="color: #006400; background-color: #EAFFEA;">| CONFERENCE_PAPER | Alloy surface segregation in reactive environments | 2005 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:None">doi:None</a></span><span style="color: #006400; background-color: #EAFFEA;">                                             |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | The role of adsorbate-adsorbate interactions in th | 2004 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:None">doi:None</a></span><span style="color: #006400; background-color: #EAFFEA;">                                             |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Role of strain and ligand effects in the modificat | 2004 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1103/PhysRevLett.93.156801">doi:10.1103/PhysRevLett.93.156801</a></span><span style="color: #006400; background-color: #EAFFEA;">                    |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Origin of the overpotential for oxygen reduction a | 2004 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1021/jp047349j">doi:10.1021/jp047349j</a></span><span style="color: #006400; background-color: #EAFFEA;">                                |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Modification of the surface electronic and chemica | 2004 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1063/1.1737365">doi:10.1063/1.1737365</a></span><span style="color: #006400; background-color: #EAFFEA;">                                |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Elucidation of the active surface and origin of th | 2003 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1016/j.susc.2003.09.007">doi:10.1016/j.susc.2003.09.007</a></span><span style="color: #006400; background-color: #EAFFEA;">                       |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | A four-point probe correlation of oxygen sensitivi | 2003 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1016/j.susc.2003.08.041">doi:10.1016/j.susc.2003.08.041</a></span><span style="color: #006400; background-color: #EAFFEA;">                       |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | A comparison of gold and molybdenum nanoparticles  | 2003 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1016/s0039-6028(02)02679-1">doi:10.1016/s0039-6028(02)02679-1</a></span><span style="color: #006400; background-color: #EAFFEA;">                    |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | H3PW12O40-functionalized tip for scanning tunnelin | 2002 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1073/pnas.072514399">doi:10.1073/pnas.072514399</a></span><span style="color: #006400; background-color: #EAFFEA;">                           |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Preparation of paramagnetic ligands for coordinati | 1997 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:None">doi:None</a></span><span style="color: #006400; background-color: #EAFFEA;">                                             |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | Preparation and Characterization of a Bis-Semiquin | 1995 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:10.1021/jo00117a004">doi:10.1021/jo00117a004</a></span><span style="color: #006400; background-color: #EAFFEA;">                              |</span>
<span style="color: #006400; background-color: #EAFFEA;">| JOURNAL_ARTICLE  | SYNTHESIS AND CHARACTERIZATION OF TRISEMIQUINONE L | 1995 | </span><span style="color: #006DAF; text-decoration: underline;"><a href="doi:None">doi:None</a></span><span style="color: #006400; background-color: #EAFFEA;">                                             |</span>
</pre>
</div>

<p>
Not too bad. Clearly we could do a lot more work to fine tune exactly what data we retrieve, and then what to do with it. The tools are all here to do that.
</p>
<p>Copyright (C) 2015 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2015/03/28/The-orcid-api-and-generating-a-bibtex-file-from-it.org">org-mode source</a><p><p>Org-mode version = 8.2.10</p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <div class="after_post"><a href="http://jkitchin.github.io/blog/2015/03/28/The-orcid-api-and-generating-a-bibtex-file-from-it#disqus_thread">Read and Post Comments</a></div>
  <hr class="interblog" />
  





<article>
  <div class="blog_post">
    <header>
      <div id="Restarting-org-babel-sessions-in-org-mode-more-effectively"></div>
      <h2 class="blog_post_title"><a href="/blog/2015/03/19/Restarting-org-babel-sessions-in-org-mode-more-effectively/" rel="bookmark" title="Permanent Link to Restarting org-babel sessions in org-mode more effectively">Restarting org-babel sessions in org-mode more effectively</a></h2>
      <p><small><span class="blog_post_date">Posted March 19, 2015 at 06:53 PM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/orgmode/'>orgmode</a></span> | tags: 
        | <a href="http://jkitchin.github.io/blog/2015/03/19/Restarting-org-babel-sessions-in-org-mode-more-effectively#disqus_thread">View Comments</a>
      </small></p>
    </header>
    <div class="post_prose">
      




<p>
In a previous <a href="http://kitchingroup.cheme.cmu.edu/blog/2015/03/12/Making-org-mode-Python-sessions-look-better/">post</a> I eliminated one annoying problem with sessions, which was getting rid of extraneous Python interpreter characters in the output. Another thing that has bothered me is when you close Emacs, or even the session buffer, the session is, of course, lost. That means when you reopen the file, you have to run each block in order to continue your work. There does not seem to be a selective way to do this in org. So, in this post, we consider a simple approach to automate that. We want a function that will run all the blocks in a current session that are above the current point.
</p>


<p>
The idea is we will go to the beginning of the buffer, find all blocks that match the language of the block we are in, and in the session, and execute them. We can tell if a block is in a session by looking at the :parameters property of the block. Interestingly, if a block is not in a session, then session will be "none", if it is in an unnamed session, session will be nil, and otherwise, session will be the session name.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">scenario</th>
<th scope="col" class="left">:session value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">no session</td>
<td class="left">"none"</td>
</tr>

<tr>
<td class="left">unnamed session</td>
<td class="left">nil</td>
</tr>

<tr>
<td class="left">named session</td>
<td class="left">"name"</td>
</tr>
</tbody>
</table>

<p>
Here is a function for testing if a block is in a session.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #0000FF;">defun</span> <span style="color: #006699;">src-block-in-session-p</span> (<span style="color: #6434A3;">&amp;optional</span> name)
  <span style="color: #036A07;">"Return if src-block is in a session of NAME.</span>
<span style="color: #036A07;">NAME may be nil for unnamed sessions."</span>
  (<span style="color: #0000FF;">let*</span> ((info (org-babel-get-src-block-info))
         (lang (nth 0 info))
         (body (nth 1 info))
         (params (nth 2 info))
         (session (cdr (assoc <span style="color: #006FE0;">:session</span> params))))

    (<span style="color: #0000FF;">cond</span>
     <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">unnamed session, both name and session are nil</span>
     ((and (null session)
           (null name))
      t)
     <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">Matching name and session</span>
     ((and
       (stringp name)
       (stringp session)
       (string= name session))
      t)
     <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">no match</span>
     (t nil))))
</pre>
</div>

<p>
Now, we need to get some information about the current point and block. We will want to run blocks that start before the current point, but not after. We will use org-element-map to find code blocks, and when the language and session of a code block matches the current block, and the block starts at a point earlier than the current point, then we will go to that block, and run it. Here is that code.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #0000FF;">defun</span> <span style="color: #006699;">org-babel-restart-session-to-point</span> (<span style="color: #6434A3;">&amp;optional</span> arg)
  <span style="color: #036A07;">"Restart session up to the src-block in the current point.</span>
<span style="color: #036A07;">Goes to beginning of buffer and executes each code block with</span>
<span style="color: #036A07;">`</span><span style="color: #D0372D;">org-babel-execute-src-block</span><span style="color: #036A07;">' that has the same language and</span>
<span style="color: #036A07;">session as the current block. ARG has same meaning as in</span>
<span style="color: #036A07;">`</span><span style="color: #D0372D;">org-babel-execute-src-block</span><span style="color: #036A07;">'."</span>
  (interactive <span style="color: #008000;">"P"</span>)
  (<span style="color: #0000FF;">unless</span> (org-in-src-block-p)
    (<span style="color: #ff0000; font-weight: bold;">error</span> <span style="color: #008000;">"You must be in a src-block to run this command"</span>))
  (<span style="color: #0000FF;">let*</span> ((current-point (point-marker))
         (info (org-babel-get-src-block-info))
         (lang (nth 0 info))
         (params (nth 2 info))
         (session (cdr (assoc <span style="color: #006FE0;">:session</span> params))))
    (<span style="color: #0000FF;">save-excursion</span>
      (goto-char (point-min))
      (<span style="color: #0000FF;">while</span> (re-search-forward org-babel-src-block-regexp nil t)
        <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">goto start of block</span>
        (goto-char (match-beginning 0))
        (<span style="color: #0000FF;">let*</span> ((this-info (org-babel-get-src-block-info))
               (this-lang (nth 0 this-info))
               (this-params (nth 2 this-info))
               (this-session (cdr (assoc <span style="color: #006FE0;">:session</span> this-params))))
            (<span style="color: #0000FF;">when</span>
                (and
                 (&lt; (point) (marker-position current-point))
                 (string= lang this-lang)
                 (src-block-in-session-p session))
              (org-babel-execute-src-block arg)))
        <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">move forward so we can find the next block</span>
        (forward-line)))))
</pre>
</div>


<p>
In the course of testing this, I found this function a little helpful to kill the current session so we start fresh.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #0000FF;">defun</span> <span style="color: #006699;">org-babel-kill-session</span> ()
  <span style="color: #036A07;">"Kill session for current code block."</span>
  (interactive)
  (<span style="color: #0000FF;">unless</span> (org-in-src-block-p)
    (<span style="color: #ff0000; font-weight: bold;">error</span> <span style="color: #008000;">"You must be in a src-block to run this command"</span>))
  (<span style="color: #0000FF;">save-window-excursion</span>
    (org-babel-switch-to-session)
    (kill-buffer)))
</pre>
</div>

<p>
And also this one to remove all results in the buffer. This not at all selective, it removes results for session and non-session blocks.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #0000FF;">defun</span> <span style="color: #006699;">org-babel-remove-result-buffer</span> ()
  <span style="color: #036A07;">"Remove results from every code block in buffer."</span>
  (interactive)
  (<span style="color: #0000FF;">save-excursion</span>
    (goto-char (point-min))
    (<span style="color: #0000FF;">while</span> (re-search-forward org-babel-src-block-regexp nil t)
      (org-babel-remove-result))))
</pre>
</div>

<p>
Ok, now for some testing. The rest of this post is pretty boring, just some blocks of mixed session and non-session to see if they get run. Skip to the <a href="#sec-1">1</a>.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">def</span> <span style="color: #006699;">f</span>(x):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">y</span> = 4 * x
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">return</span> y

<span style="color: #0000FF;">print</span>(f(d))
</pre>
</div>

<pre class="example">
16
</pre>

<p>
Let us put a non-session block in this buffer for testing.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #BA36A5;">a</span> = 5
<span style="color: #0000FF;">print</span>(a)
</pre>
</div>

<p>
Now, some more named session blocks.
</p>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">print</span> f(5)
</pre>
</div>

<pre class="example">
20
</pre>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">print</span> <span style="color: #008000;">'ok'</span>
</pre>
</div>

<pre class="example">
ok
</pre>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">print</span> 2
</pre>
</div>

<pre class="example">
2
</pre>

<p>
An unnamed session that should not get run in restarting the named test session.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">print</span> 886
</pre>
</div>


<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">print</span> f(6)
</pre>
</div>

<pre class="example">
24
</pre>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Summary</h2>
<div class="outline-text-2" id="text-1">
<p>
This works pretty well so far.  It would be nice to consider making C-c C-c do this automatically, if the session does not exist, and maybe to take a prefix arg that would restart the session. Maybe on another day ;)
</p>
</div>
</div>
<p>Copyright (C) 2015 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2015/03/19/Restarting-org-babel-sessions-in-org-mode-more-effectively.org">org-mode source</a><p><p>Org-mode version = 8.2.10</p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <div class="after_post"><a href="http://jkitchin.github.io/blog/2015/03/19/Restarting-org-babel-sessions-in-org-mode-more-effectively#disqus_thread">Read and Post Comments</a></div>
  <hr class="interblog" />
  





<article>
  <div class="blog_post">
    <header>
      <div id="Clickable-links-for-Twitter-handles-in-Emacs"></div>
      <h2 class="blog_post_title"><a href="/blog/2015/03/18/Clickable-links-for-Twitter-handles-in-Emacs/" rel="bookmark" title="Permanent Link to Clickable links for Twitter handles in Emacs">Clickable links for Twitter handles in Emacs</a></h2>
      <p><small><span class="blog_post_date">Posted March 18, 2015 at 12:20 PM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/emacs/'>emacs</a></span> | tags: 
        | <a href="http://jkitchin.github.io/blog/2015/03/18/Clickable-links-for-Twitter-handles-in-Emacs#disqus_thread">View Comments</a>
      <p><small><span class="blog_post_date">Updated March 18, 2015 at 12:21 PM</span>
      </small></p>
    </header>
    <div class="post_prose">
      




<p>
Org-mode has clickable links, and they are awesome. You can make your own links, for example here is a link for twitter handles that opens a browser to the handle, and exports as an html link.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(org-add-link-type <span style="color: #008000;">"twitter"</span>
 (<span style="color: #0000FF;">lambda</span> (handle)
   (browse-url (concat <span style="color: #008000;">"http://twitter.com/"</span> handle)))
 (<span style="color: #0000FF;">lambda</span> (path desc backend)
   (format <span style="color: #008000;">"&lt;a href=\"http://twitter.com/%s\"&gt;%s&lt;/a&gt;"</span> path path)))
</pre>
</div>

<p>
Check it out here: <a href="http://twitter.com/johnkitchin">johnkitchin</a>.
</p>

<p>
There is another alternative to make clickable text, and that is the button-lock package. You define a regular expression for the text you want to be clickable, and a function to run when it is clicked. Here is an example.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #0000FF;">require</span> '<span style="color: #D0372D;">button-lock</span>)
(global-button-lock-mode)

(button-lock-set-button
 <span style="color: #008000;">"@</span><span style="color: #008000; font-weight: bold;">\\</span><span style="color: #008000; font-weight: bold;">(</span><span style="color: #008000;">[-a-zA-Z0-9_:]*</span><span style="color: #008000; font-weight: bold;">\\</span><span style="color: #008000; font-weight: bold;">)</span><span style="color: #008000;">"</span>
 (<span style="color: #0000FF;">lambda</span> ()
   (interactive)
   (re-search-backward <span style="color: #008000;">"@"</span>)
   (re-search-forward  <span style="color: #008000;">"@</span><span style="color: #008000; font-weight: bold;">\\</span><span style="color: #008000; font-weight: bold;">(</span><span style="color: #008000;">[a-zA-Z0-9_]*</span><span style="color: #008000; font-weight: bold;">\\</span><span style="color: #008000; font-weight: bold;">)</span><span style="color: #008000;">"</span>)
   (<span style="color: #0000FF;">let*</span> ((handle (match-string-no-properties 1)))
     (browse-url (concat <span style="color: #008000;">"http://twitter.com/"</span> handle))))
 <span style="color: #006FE0;">:face</span> (list 'org-link))
</pre>
</div>

<p>
Check it out: @johnkitchin. Of course, you can make your clicking function more sophisticated, e.g. to give you a <a href="http://kitchingroup.cheme.cmu.edu/blog/2015/02/22/org-mode-links-meet-hydra/">menu of options</a> , e.g. to send a tweet to someone, or open the web page, or look them up in your org-contacts. The differences between this and an org-mode link are that this works in any mode, and it has no export in org-mode, so it will go as plain text. Since this is just a feature for Emacs though, that should be fine.
</p>
<p>Copyright (C) 2015 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2015/03/18/Clickable-links-for-Twitter-handles-in-Emacs.org">org-mode source</a><p><p>Org-mode version = 8.2.10</p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <div class="after_post"><a href="http://jkitchin.github.io/blog/2015/03/18/Clickable-links-for-Twitter-handles-in-Emacs#disqus_thread">Read and Post Comments</a></div>
  <hr class="interblog" />
  





<article>
  <div class="blog_post">
    <header>
      <div id="Update-on-org-ref-it-is-now-all-emacs-lisp"></div>
      <h2 class="blog_post_title"><a href="/blog/2015/03/16/Update-on-org-ref-it-is-now-all-emacs-lisp/" rel="bookmark" title="Permanent Link to Update on org-ref - it is now all emacs-lisp">Update on org-ref - it is now all emacs-lisp</a></h2>
      <p><small><span class="blog_post_date">Posted March 16, 2015 at 08:51 AM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/orgmode/'>orgmode</a>, <a href='/blog/category/orgref/'>orgref</a>, <a href='/blog/category/emacs/'>emacs</a></span> | tags: 
        | <a href="http://jkitchin.github.io/blog/2015/03/16/Update-on-org-ref-it-is-now-all-emacs-lisp#disqus_thread">View Comments</a>
      </small></p>
    </header>
    <div class="post_prose">
      




<p>
The <a href="https://github.com/jkitchin/org-ref">org-ref</a> code is finally all in emacs-lisp! This should make it much easier to install, and is another step closer to getting org-ref into MELPA. Previously, I had written the most significant code in org-mode source blocks that were intended to be tangled out. I found this was not really portable, because what gets tangled depends on your org-mode setup. I had to specifically set example blocks to not tangle, or org-ref would not work for other people, and if I forgot to set a block to tangle, it also would not work for others. That should not happen again now, since there is no more tangling.
</p>


<p>
There are some relatively new features in org-ref:
</p>
<ol class="org-ol">
<li>New colored org-ref links to differentiate them from other
org-links. Citations are greenish, refs and labels are maroonish.
</li>
<li>Context messages about links. With your cursor on a cite, ref or label link
you will get a context message, e.g. a formatted citation, some context about
the label a ref refers to, or a count of the labels in the mini-buffer.
</li>
<li>There is now an org-ref menu in the Org menu.
</li>
<li>There is a new org-ref-help function that opens an org-file of org-ref
documentation.
</li>
<li>Pretty thorough integration of helm throughout org-ref, and some integration
of hydra.
</li>
<li>A few utility libraries: doi-utils, isbn, wos, pubmed, arxiv, jmax-bibtex, sci-id,
x2bib. Not all these are new, but if you didn't know about them, check them out.
</li>
<li>Cask integration. This mostly provides access to testing and dependencies
right now. org-ref is also now tested continuously at
<a href="https://travis-ci.org/jkitchin/org-ref">https://travis-ci.org/jkitchin/org-ref</a> .
</li>
</ol>

<p>
org-ref is basically feature complete I think (which is to say that once again, I do not have any big ideas for new features ;). There are some places where it could be refactored a little, e.g. there are some bibtex only functions in org-ref.el that really should go into jmax-bibtex.el (which also could be renamed). This is a very low priority though, because things are working fine as far as I can tell.
</p>

<p>
What does it need before going into MELPA? Probably some tests would be a good idea. On Travis, all that is really tested is that it loads with no errors. I would like to see some stability on my end, e.g. at least a week where no commits get made, and no errors are reported. And finally, I would like to make sure I have some time to handle issues that come up when a broader audience is trying it out.
</p>

<p>
My target date to get this in MELPA is June 1, 2015. Try out the new org-ref, and let me know how it goes!</p>
<p>Copyright (C) 2015 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2015/03/16/Update-on-org-ref---it-is-now-all-emacs-lisp.org">org-mode source</a><p><p>Org-mode version = 8.2.10</p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <div class="after_post"><a href="http://jkitchin.github.io/blog/2015/03/16/Update-on-org-ref-it-is-now-all-emacs-lisp#disqus_thread">Read and Post Comments</a></div>
  <hr class="interblog" />
  





<article>
  <div class="blog_post">
    <header>
      <div id="A-helm-mu4e-contact-selector"></div>
      <h2 class="blog_post_title"><a href="/blog/2015/03/14/A-helm-mu4e-contact-selector/" rel="bookmark" title="Permanent Link to A helm-mu4e contact selector">A helm-mu4e contact selector</a></h2>
      <p><small><span class="blog_post_date">Posted March 14, 2015 at 10:21 AM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/helm/'>helm</a>, <a href='/blog/category/emacs/'>emacs</a>, <a href='/blog/category/email/'>email</a></span> | tags: 
        | <a href="http://jkitchin.github.io/blog/2015/03/14/A-helm-mu4e-contact-selector#disqus_thread">View Comments</a>
      </small></p>
    </header>
    <div class="post_prose">
      



<p>
I have been using <a href="http://www.djcbsoftware.nl/code/mu/mu4e.html">mu4e</a> in Emacs for email for about three months now. It is pretty good, and I hardly ever use the gmail web interface any more. The email completion in mu4e is ok, but I am frequently surprised at what it does not find, and totally spoiled by how good Gmail is at this. The built in completion seems to get lost if you don't start the search with the first few letters. Not always, but too often for me. I don't always remember the first letters, and want to search by name, or company. I would love to search by tags in org-contacts. This should be simple in helm, where you can build up candidates with different bits of information. Here I explore a helm interface, which I think might be better than the built in mu4e support, and even be better than gmail.
</p>

<p>
In my dream email completer, I want some easy way to define my own groups, I want to use org-contacts (and its tags), and I want every email address in the mails I have in my archive as completion candidates.  helm supports multiple sources, so I initially tried a separate source for each of these. Preliminary efforts suggested it is not possible to mark multiple selections from different sources and pass them all to one function. So, we combine all email candidates into one list of (searchable-string . email-address) cons cells. To get an idea of how many contacts we are looking at:
</p>

<p>
Here is what I have in my org-contacts file:
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(length (org-contacts-db))
</pre>
</div>

<pre class="example">
173
</pre>

<p>
And here is what mu4e knows about. Interestingly, it takes a while for this variable to get populated because the request is asynchronous. After the first time though it sticks around. I think just opening mu4e will populate this variable.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(length mu4e~contacts-for-completion)
</pre>
</div>

<pre class="example">
12717
</pre>

<p>
So, I have close to 13,000 potential email addresses to choose from. For my email groups, I will just use a list of cons cells like (group-name . "comma-separated emails"). Then, I will loop through the org-contacts-db and the mu4e completion list to make the helm candidates. Finally, we add some functions to open our org-contact, and to tag org-contacts so it is easier to make groups.
</p>

<p>
Here is the code I have been using.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">here we set aliases for groups.</span>
(setq email-groups
      '((<span style="color: #008000;">"ms"</span> . <span style="color: #008000;">"email1, email2"</span>)
        (<span style="color: #008000;">"phd"</span> . <span style="color: #008000;">"email3, email4"</span>)))


(<span style="color: #0000FF;">defun</span> <span style="color: #006699;">org-contacts-open-from-email</span> (email)
  <span style="color: #036A07;">"Open org-contact with matching EMAIL. If no match, create new</span>
<span style="color: #036A07;">entry with prompts for first and last name."</span>
  (<span style="color: #0000FF;">let</span> ((contact (<span style="color: #0000FF;">catch</span> '<span style="color: #D0372D;">contact</span>
                   (loop for contact in  (org-contacts-db)
                         do
                         (<span style="color: #0000FF;">when</span> (string= email (cdr (assoc <span style="color: #008000;">"EMAIL"</span> (elt contact 2))))
                           (<span style="color: #0000FF;">throw</span> '<span style="color: #D0372D;">contact</span> contact))))))

    (<span style="color: #0000FF;">unless</span> contact
                (set-buffer (find-file-noselect (ido-completing-read
                                                 <span style="color: #008000;">"Select org-contact file: "</span>
                                                 org-contacts-files)))
                (goto-char (point-max))
                (insert (format  <span style="color: #008000;">"\n* %s %s\n"</span>
                                 (read-input <span style="color: #008000;">"First name: "</span>)
                                 (read-input <span style="color: #008000;">"Last name: "</span>)))
                (org-entry-put (point) <span style="color: #008000;">"EMAIL"</span> email)
                (save-buffer))

    (<span style="color: #0000FF;">when</span> contact
      (find-file  (cdr (assoc <span style="color: #008000;">"FILE"</span> (elt contact 2))))
      (goto-char (elt contact 1))
      (show-subtree))))


(<span style="color: #0000FF;">defun</span> <span style="color: #006699;">org-contacts-tag-selection</span> (selection)
  <span style="color: #036A07;">"Prompts you for a tag, and tags each entry in org-contacts</span>
<span style="color: #036A07;">that has a matching email in `</span><span style="color: #D0372D;">helm-marked-candidates</span><span style="color: #036A07;">'. Ignore</span>
<span style="color: #036A07;">emails that are not in an org-contact file. I am not sure what</span>
<span style="color: #036A07;">the best thing to do there is. Probably prompt for a file, and</span>
<span style="color: #036A07;">add an entry to the end of it."</span>
  (<span style="color: #0000FF;">save-excursion</span>
    (<span style="color: #0000FF;">let</span> ((tag (read-input <span style="color: #008000;">"Tag: "</span>)))
      (loop for email in (helm-marked-candidates)
            do
            (<span style="color: #0000FF;">let</span> ((contact (<span style="color: #0000FF;">catch</span> '<span style="color: #D0372D;">contact</span>
                             (loop for contact in  (org-contacts-db)
                                   do
                                   (<span style="color: #0000FF;">when</span> (string=
                                          email
                                          (cdr (assoc
                                                <span style="color: #008000;">"EMAIL"</span>
                                                (elt contact 2))))
                                     (<span style="color: #0000FF;">throw</span> '<span style="color: #D0372D;">contact</span> contact))))))
              <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">add new contact and tag it</span>
              (<span style="color: #0000FF;">unless</span> contact
                (set-buffer (find-file-noselect (ido-completing-read
                                                 <span style="color: #008000;">"Select org-contact file: "</span>
                                                 org-contacts-files)))
                (goto-char (point-max))
                (insert (format  <span style="color: #008000;">"\n* %s %s\n"</span>
                                 (read-input <span style="color: #008000;">"First name: "</span>)
                                 (read-input <span style="color: #008000;">"Last name: "</span>)))
                (org-entry-put (point) <span style="color: #008000;">"EMAIL"</span> email)
                (org-set-tags-to (list tag))
                (save-buffer))
              <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">update tags on existing entry</span>
              (<span style="color: #0000FF;">when</span> contact
                (find-file-noselect  (cdr (assoc <span style="color: #008000;">"FILE"</span> (elt contact 2))))
                (set-buffer (marker-buffer (elt contact 1)))
                (goto-char (elt contact 1))
                (org-set-tags-to (append (org-get-tags) (list tag)))))))))


(<span style="color: #0000FF;">defun</span> <span style="color: #006699;">j-insert-emails</span> ()
  <span style="color: #036A07;">"Helm interface to email addresses"</span>
  (interactive)

  (helm <span style="color: #006FE0;">:sources</span> `(((name . <span style="color: #008000;">"Email address candidates"</span>)
                   (candidates . ,(append
                                   <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">my aliases</span>
                                   email-groups
                                   <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">org-contacts</span>
                                   (loop for contact in (org-contacts-db)
                                         collect
                                         (cons (format
                                                <span style="color: #008000;">"%s %s %s &lt;%s&gt; org-contact"</span>
                                                (cdr (assoc <span style="color: #008000;">"FIRSTNAME"</span> (elt contact 2)))
                                                (cdr (assoc <span style="color: #008000;">"LASTNAME"</span> (elt contact 2)))
                                                (cdr (assoc <span style="color: #008000;">"TAGS"</span> (elt contact 2)))
                                                (cdr (assoc <span style="color: #008000;">"EMAIL"</span> (elt contact 2))))
                                               (cdr (assoc <span style="color: #008000;">"EMAIL"</span> (elt contact 2)))))
                                   <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">mu contacts</span>
                                   (loop for contact in mu4e~contacts-for-completion
                                         collect (cons contact contact))))
                   <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">only action is to insert string at point.</span>
                   (action . ((<span style="color: #008000;">"insert"</span> . (<span style="color: #0000FF;">lambda</span> (x)
                                            (insert
                                             (mapconcat
                                              'identity
                                              (helm-marked-candidates)
                                              <span style="color: #008000;">","</span>))))
                              (<span style="color: #008000;">"open"</span> . org-contacts-open-from-email)
                              (<span style="color: #008000;">"tag"</span>  . org-contacts-tag-selection)))))))

<span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">Finally, let us bind this to something probably convenient. I use c-c ] for</span>
<span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">citations. Lets try that in compose mode.</span>
(define-key mu4e-compose-mode-map <span style="color: #008000;">"\C-c]"</span> 'j-insert-emails)
</pre>
</div>
<pre class="example">
j-insert-emails
</pre>

<p>
Now, I have a sweet helm interface with nearly 13,000 email candidates (there is a decent amount of duplication in this list, and some garbage emails from spam, but helm is so fast, this does not bother me). I can pretty quickly narrow to any tagged set of emails from org-contacts with a search that looks like :phd: for example, or [^phd]:group: to get org-contacts tagged group, but not phd. I can narrow the selection on first name, lastname, parts of email addresses, tags in org-contacts, etc&#x2026; I can open a contact, or tag contacts, even add new contacts to org-contacts. I have been using this for a few weeks, and so far I like it. Occasionally I find mu4e~contacts-for-completion is empty, and then I only get my org-contacts emails, but that seems to only happen when I first open emacs. Since Emacs is usually open for days at a time, this has not been an issue very often.
</p>
<p>Copyright (C) 2015 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2015/03/14/A-helm-mu4e-contact-selector.org">org-mode source</a><p><p>Org-mode version = 8.2.10</p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <div class="after_post"><a href="http://jkitchin.github.io/blog/2015/03/14/A-helm-mu4e-contact-selector#disqus_thread">Read and Post Comments</a></div>
  <hr class="interblog" />
 <a href="../2"> Previous Page</a>
  --  
 <a href="../4">Next Page </a>

          </div>
          <div id="sidebar" class="grid_4">
            <aside>
<section>
<script>
  (function() {
    var cx = '002533177287215655227:l7uvu35ssbc';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</section>

<section>
    <h1 class="post_header_gradient theme_font">Twitter</h1>
    <a class="twitter-timeline" href="https://twitter.com/johnkitchin" data-widget-id="545217643582881792">Tweets by @johnkitchin</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</section>


  <section>
    <h1 class="post_header_gradient theme_font">Links</h1>
    <ul>
    <li><a href="http://enthought.com">Enthought Python</a></li>
    <li><a href="/pycse">Pycse</a></li>
    <li><a href="/dft-book">DFT-book</a></li>
    </ul>
  </section>

  <section>
    <h1 class="post_header_gradient theme_font">Latest Posts</h1>
    <ul>
      <li><a href="/blog/2015/05/09/Another-approach-to-embedding-org-source-in-html/">Another approach to embedding org-source in html</a></li>
      <li><a href="/blog/2015/05/09/An-alternative-approach-to-including-org-source-in-blog-posts/">An alternative approach to including org-source in blog posts</a></li>
      <li><a href="/blog/2015/05/07/New-publication-in-J-Phys-Chem-C/">New publication in J. Phys. Chem. C</a></li>
      <li><a href="/blog/2015/04/24/New-publication-in-ACS-Catalysis-on-composition-dependent-alloy-electronic-structure/">New publication in ACS Catalysis on composition dependent alloy electronic structure</a></li>
      <li><a href="/blog/2015/04/24/Commenting-in-org-files/">Commenting in org-files</a></li>
    </ul>
  </section>

<section>
<h1 class="post_header_gradient theme_font">Latest GitHub Repos</h1>
  <a href="https://github.com/jkitchin">@jkitchin</a> on GitHub.
  <ul id="my-github-projects">
        <li class="loading">Status updating&#8230;</li>
  </ul>

</section>
</aside>

          </div>
          <div class="clear"></div>
        </div>
      </div>
      
<footer>
  <div id="footer" class="grid_12">
    <div class="grid_8">
      <p>
        <a href="/blog/feed/index.xml">RSS</a>
        <a href="http://kitchinresearchgroup.disqus.com/latest.rss">Comments RSS Feed</a>.
      </p>
    </div>
    <div class="grid_4" id="credits">
      <p>
        Copyright 2015
        John Kitchin
      </p>
      <p>
        Powered by <a href="http://www.blogofile.com">Blogofile</a>
      </p>
    </div>
  </div>
</footer>

    </div>
      <script src="//ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/js/libs/jquery-1.5.1.min.js"%3E%3C/script%3E'))</script>
  <script src="/js/plugins.js"></script>
  <script src="/js/script.js"></script>
  <script src="/js/jquery.tweet.js"></script>  
  <script src="/js/site.js"></script>
  <!--[if lt IE 7 ]>
  <script src="js/libs/dd_belatedpng.js"></script>
  <script> DD_belatedPNG.fix('img, .png_bg');</script>
  <![endif]-->
  <script>
      var _gaq=[['_setAccount','UA-35731398-1'],['_trackPageview']];
      (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.async=1;
      g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
      s.parentNode.insertBefore(g,s)}(document,'script'));
  </script>
  <script>
  (function() {
      var links = document.getElementsByTagName('a');
      var query = '?';
      for(var i = 0; i < links.length; i++) {
          if(links[i].href.indexOf('#disqus_thread') >= 0) {
              query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&';
          }
      }
      document.write('<script charset="utf-8" type="text/javascript" src="http://disqus.com/forums/kitchinresearchgroup/get_num_replies.js' + query + '"></' + 'script>');
  })();
  </script>

  </body>
</html>






<script src="http://ajax.microsoft.com/ajax/jquery/jquery-1.4.2.min.js" type="text/javascript"></script>
<script src="/js/git.js" type="text/javascript"></script>
<script type="text/javascript">
    $(function() {
     $("#my-github-projects").loadRepositories("jkitchin");
    });
</script>



