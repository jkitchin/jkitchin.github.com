

<!doctype html>
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Kitchin Research Group</title>
  <meta name="google-site-verification" content="CGcacJdHc2YoZyI0Vey9XRA5qwhhFDzThKJezbRFcJ4" />
  <meta name="description" content="Chemical Engineering at Carnegie Mellon University">
  <meta name="author" content="John Kitchin">
  <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="/blog/feed" />
  <link rel="alternate" type="application/atom+xml" title="Atom 1.0" href="/blog/feed/atom" />
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/img/apple-touch-icon.png">

  <link rel="stylesheet" href="/css/base.css?v=1">
  <link rel="stylesheet" href="/css/grid.css?v=1">
  <link rel="stylesheet" media="handheld" href="/css/handheld.css?v=1">
  <link rel="stylesheet" href="/css/pygments_murphy.css" type="text/css" />

  <script src="/js/libs/modernizr-1.7.min.js"></script>
<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
  <link rel="stylesheet" href="/themes/theme1/style.css?v=1">
<link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>

</head>
  <body>
    <div id="container" class="container container_12">
      <div id="main" role="main">
        <div id="main_block">
          <header>
<div id="header" class="header_gradient theme_font">
<table><tr><td>
    <h1><a href="/">The Kitchin Research Group</a></h1>
    <h2>Chemical Engineering at Carnegie Mellon University</h2>
</td>
<td colspan=100%><div style="float:right;width:100%;text-align:right;"> <span id='badgeCont737515' style='width:126px'><script src='http://labs.researcherid.com/mashlets?el=badgeCont737515&mashlet=badge&showTitle=false&className=a&rid=A-2363-2010'></script></span></div>
</td></tr>
</table>
</div>
  <div id="navigation" class="grid_12">

    <ul class="theme_font">
      <li><a href="/blog"
             class="">Blog</a></li>

      <li><a href="/blog/archive"
             class="">Archives</a></li>

      <li><a href="/publications/index.html">Publications</a></li>
      <li><a href="/group.html">Group</a></li>

      <li><a href="/research.html"
             class="">Research</a></li>

      <li><a href="/categories.html"
             class="">Categories</a></li>

      <li><a href="/about.html"
             class="">About us</a></li>

      <li><a href="/subscribe.html">Subscribe</a></li>

    </ul>
  </div>
</header>

          <div id="prose_block" class="grid_8">
            
  





<article>
  <div class="blog_post">
    <header>
      <div id="org-ref-is-on-Melpa"></div>
      <h2 class="blog_post_title"><a href="/blog/2015/12/22/org-ref-is-on-Melpa/" rel="bookmark" title="Permanent Link to org-ref is on Melpa">org-ref is on Melpa</a></h2>
      <p><small><span class="blog_post_date">Posted December 22, 2015 at 11:04 AM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/emacs/'>emacs</a>, <a href='/blog/category/orgmode/'>orgmode</a>, <a href='/blog/category/orgref/'>orgref</a></span> | tags: 
        | <a href="http://jkitchin.github.io/blog/2015/12/22/org-ref-is-on-Melpa#disqus_thread">View Comments</a>
      <p><small><span class="blog_post_date">Updated December 22, 2015 at 11:21 AM</span>
      </small></p>
    </header>
    <div class="post_prose">
      




<p>
org-ref is out on <a href="https://melpa.org/#/org-ref">Melpa</a> !
</p>

<p>
Checkout this video (&asymp; 10 min.) of what it can do: <a href="https://www.youtube.com/watch?v=2t925KRBbFc">https://www.youtube.com/watch?v=2t925KRBbFc</a> 
</p>

<iframe width="420" height="315" src="https://www.youtube.com/embed/2t925KRBbFc" frameborder="0" allowfullscreen></iframe>

<p>
Here are the files that we used/generated:
</p>

<ol class="org-ol">
<li>Emacs configuration: <a href="/media/2015-12-22-org-ref-is-on-Melpa/org-ref-melpa.el">org-ref-melpa.el</a> 
</li>
<li>Here is the "manuscript" <a href="/media/2015-12-22-org-ref-is-on-Melpa/manuscript.org">manuscript.org</a> (note, I extracted the bibtex entries into this file)
</li>
<li>The resulting PDF: <a href="/media/2015-12-22-org-ref-is-on-Melpa/manuscript.pdf">manuscript.pdf</a> 
</li>
</ol>

<p>
Some killer new features:
</p>
<ol class="org-ol">
<li>Drag-n-drop a PDF or url onto a bibtex file to add bibtex entries. This works when org-ref knows how to get a DOI from the PDF or url.
</li>
<li>Tooltips on cite links
</li>
</ol>

<p>
Thanks everyone who has already tried it out and reported bugs!
</p>
<p>Copyright (C) 2015 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2015/12/22/org-ref-is-on-Melpa.org">org-mode source</a><p><p>Org-mode version = 8.2.10</p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <div class="after_post"><a href="http://jkitchin.github.io/blog/2015/12/22/org-ref-is-on-Melpa#disqus_thread">Read and Post Comments</a></div>
  <hr class="interblog" />
  





<article>
  <div class="blog_post">
    <header>
      <div id="Introduction-to-a-citation-processor-in-org-ref"></div>
      <h2 class="blog_post_title"><a href="/blog/2015/12/11/Introduction-to-a-citation-processor-in-org-ref/" rel="bookmark" title="Permanent Link to Introduction to a citation processor in org-ref">Introduction to a citation processor in org-ref</a></h2>
      <p><small><span class="blog_post_date">Posted December 11, 2015 at 06:05 PM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/citations/'>citations</a>, <a href='/blog/category/emacs/'>emacs</a>, <a href='/blog/category/orgmode/'>orgmode</a>, <a href='/blog/category/orgref/'>orgref</a></span> | tags: 
        | <a href="http://jkitchin.github.io/blog/2015/12/11/Introduction-to-a-citation-processor-in-org-ref#disqus_thread">View Comments</a>
      <p><small><span class="blog_post_date">Updated December 12, 2015 at 10:08 AM</span>
      </small></p>
    </header>
    <div class="post_prose">
      



<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. Reference types</a></li>
<li><a href="#sec-2">2. Citation types</a></li>
<li><a href="#sec-3">3. Multiple citations and sorting within citation</a></li>
<li><a href="#sec-4">4. Space chomping and punctuation testing</a></li>
<li><a href="#sec-5">5. Building</a></li>
<li><a href="#sec-6">6. Summary thoughts</a></li>
<li><a href="#sec-7">7. Bibliography</a></li>
</ul>
</div>
</div>

<p>
As a potential solution for citations in org-mode for non-LaTeX export, here we introduce csl (citation syntax lisp). The idea is heavily influenced by the xml-based Citation Syntax Language, but uses lisp sexps instead.
</p>

<p>
Briefly, there is a csl file that contains two variables: citation-style and bibliography-style. The citation-style defines how the in-text citations are represented for different types of citations. The bibliography-style defines how the bibliography is constructed.
</p>

<p>
What do we gain by this?
</p>
<ol class="org-ol">
<li>No need for external citeproc program, and hackability by org-mode experts.
</li>
<li>Punctuation transposition and space chomping, i.e. put superscripts on the right side of punctuation if you want it, and remove whitespace before superscripts if you want it.
</li>
<li>Total tunability of the citation format to different backends.
</li>
<li>Easy to change bibliography format with the bibliographystyle link.
</li>
<li>The use of Bibtex databases. These are plain text, and flexible.
</li>
</ol>

<p>
The real code for this is too long to blog about. Instead, you should check it out here: <a href="https://github.com/jkitchin/org-ref/tree/master/citeproc">https://github.com/jkitchin/org-ref/tree/master/citeproc</a> 
</p>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Reference types</h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li>A book.<sup>1</sup>
</li>

<li>An article<sup>2</sup>
</li>

<li>A miscellaneous bibtex type.<sup>3</sup>
</li>
</ul>

<p>
There is work to do in supporting other types of entry types that are common in bibtex files.
</p>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Citation types</h2>
<div class="outline-text-2" id="text-2">
<ul class="org-ul">
<li>Regular citation:<sup>2</sup>
</li>
<li>citenum: See Ref.  2 
</li>
<li>citeauthor:  Kitchin 
</li>
<li>citeyear:   2015 
</li>
</ul>

<p>
There is work to do in supporting other types of citations.
</p>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> Multiple citations and sorting within citation</h2>
<div class="outline-text-2" id="text-3">
<p>
You can specify that the cites within a citation are consistently sorted in the export.
</p>

<ul class="org-ul">
<li>a,b:<sup>2,4</sup>
</li>
<li>b,a:<sup>2,4</sup>
</li>
</ul>

<p>
There is work to do for range collapsing, e.g. to turn 1,2,3 into 1-3.
</p>
</div>
</div>
<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> Space chomping and punctuation testing</h2>
<div class="outline-text-2" id="text-4">
<p>
I think citations should always be put in the sentence they logically belong to. LaTeX has a feature through natbib I think where for some styles, e.g. superscripts, the citations are moved to the right side of punctuation, and whitespace is chomped so the superscript is next to words, not separated by spaces. We can do that here too.
</p>

<ul class="org-ul">
<li>Citation at end of sentence.<sup>2</sup>
</li>
<li>Citation in clause,<sup>2,4</sup> with a comma.
</li>
<li>Citation in middle of<sup>2,4</sup> a sentence.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5"><span class="section-number-2">5</span> Building</h2>
<div class="outline-text-2" id="text-5">

<p>
At the moment, you have to add a hook function to put the replacements in the document before parsing.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(add-to-list 'load-path <span style="color: #008000;">"."</span>)
(<span style="color: #0000FF;">require</span> '<span style="color: #D0372D;">org-ref-citeproc</span>)

(<span style="color: #0000FF;">when</span> (file-exists-p <span style="color: #008000;">"readme.html"</span>) (delete-file <span style="color: #008000;">"readme.html"</span>))
(<span style="color: #0000FF;">let</span> ((org-export-before-parsing-hook '(orcp-citeproc)))
  (browse-url (org-html-export-to-html)))
</pre>
</div>

<pre class="example">
#&lt;process open ./readme.html&gt;
</pre>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(add-hook 'org-export-before-parsing-hook 'orcp-citeproc)
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">orcp-citeproc</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6"><span class="section-number-2">6</span> Summary thoughts</h2>
<div class="outline-text-2" id="text-6">
<p>
This looks promising. There is probably a lot of work to do to make this as robust as say citeproc-js or the Zotero handler. I am not sure if we could write this in a way to directly use the CSL. My feeling is it would not be as flexible as this, and we would have to add to it anyway.
</p>

<p>
Here are some remaining things that could be worked on if we continue this direction.
</p>

<ol class="org-ol">
<li>Other bibtex entries need to be tested out.
</li>
<li>Remaining bibtex fields need to be defined.
</li>
<li>Standardization of styling that can be done. Not all features described in my csl are supported, e.g. et. al. and probably others.
</li>
<li>The author-year style needs name disambiguation somehow.
</li>
<li>Hyperlinking in html.
</li>
<li>Make sure export to other backends works.
</li>
<li>Can this work for notes-based styles?
</li>
</ol>
</div>
</div>

<div id="outline-container-sec-7" class="outline-2">
<h2 id="sec-7"><span class="section-number-2">7</span> Bibliography</h2>
<div class="outline-text-2" id="text-7">
<p>
You use a bibliographystyle link to specify a csl. These are similar to bibtex styles, and in some cases no change is needed for LaTeX export (although you may have to remove the citeproc hook function).
</p>


<ol class="org-ol">
<li>Kittel, Charles, <i>Introduction to Solid State Physics</i>, (2005). <br>
</li>
<li>Kitchin,  John R., <i>Examples of Effective Data Sharing in Scientific Publishing</i>, ACS Catalysis, 5<b>(6)</b>, pp. 3894-3899 (2015). <a href="http://dx.doi.org/10.1021/acscatal.5b00538">http://dx.doi.org/10.1021/acscatal.5b00538</a>. <br>
</li>
<li>Xu, Zhongnan; Rossmeisl, Jan and Kitchin, John R., <i>Supporting data for: A linear response, {DFT+U} study of trends in the oxygen evolution activity of transition metal rutile dioxides. doi:10.5281/zenodo.12635</i>,  <a href="http://dx.doi.org/https://zenodo.org/record/12635">http://dx.doi.org/https://zenodo.org/record/12635</a>. <a href="http://dx.doi.org/10.5281/zenodo.12635">http://dx.doi.org/10.5281/zenodo.12635</a>. <br>
</li>
<li>Kitchin, John R., <i>Data Sharing in Surface Science</i>, Surface Science , N/A, pp. in press (2015). <a href="http://dx.doi.org/10.1016/j.susc.2015.05.007">http://dx.doi.org/10.1016/j.susc.2015.05.007</a>.
</li>
</ol>
</div>
</div>
<p>Copyright (C) 2015 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2015/12/11/Introduction-to-a-citation-processor-in-org-ref.org">org-mode source</a><p><p>Org-mode version = 8.2.10</p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <div class="after_post"><a href="http://jkitchin.github.io/blog/2015/12/11/Introduction-to-a-citation-processor-in-org-ref#disqus_thread">Read and Post Comments</a></div>
  <hr class="interblog" />
  





<article>
  <div class="blog_post">
    <header>
      <div id="Exporting-numbered-citations-in-html-with-unsorted-numbered-bibliography"></div>
      <h2 class="blog_post_title"><a href="/blog/2015/12/03/Exporting-numbered-citations-in-html-with-unsorted-numbered-bibliography/" rel="bookmark" title="Permanent Link to Exporting numbered citations in html with unsorted numbered bibliography">Exporting numbered citations in html with unsorted numbered bibliography</a></h2>
      <p><small><span class="blog_post_date">Posted December 03, 2015 at 03:53 PM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/org-mode/'>org-mode</a></span> | tags: 
        | <a href="http://jkitchin.github.io/blog/2015/12/03/Exporting-numbered-citations-in-html-with-unsorted-numbered-bibliography#disqus_thread">View Comments</a>
      <p><small><span class="blog_post_date">Updated December 03, 2015 at 04:49 PM</span>
      </small></p>
    </header>
    <div class="post_prose">
      




<p>
In this <a href="http://kitchingroup.cheme.cmu.edu/blog/2014/05/17/Exporting-citations-in-html/">post</a> we illustrated a simple export of org-ref citations to html. This was a simple export that simply replaced each citation with a hyperlink as defined in the export function for each type of link. Today we look at formatting in text citations with superscripted numbers, and having an unsorted (i.e. in order of citation) numbered bibliography. This will take one pass to get the citations and calculate replacements and the bibliography, and one pass to replace them and insert the bibliography.
</p>

<p>
This text is just some text with somewhat random citations in it for seeing it work. You might like my two data sharing articles <sup><a href="#kitchin-2015-examp">1</a>,<a href="#kitchin-2015-data-surfac-scien">2</a></sup>. We illustrate the use of org-mode in publishing computational work <sup><a href="#xu-2015-tunin-oxide">3</a>,<a href="#mehta-2014-ident-poten">4</a>,<a href="#curnan-2014-effec-concen">5</a></sup>, experimental <sup><a href="#hallenbeck-2013-effec-o2">6</a></sup>and mixed computational and experimental work <sup><a href="#miller-2014-simul-temper">7</a>,<a href="#boes-2015-estim-bulk">8</a></sup>. This example will correctly number multiple references to a citation, e.g.  <sup><a href="#kitchin-2015-examp">1</a></sup>and <sup><a href="#kitchin-2015-data-surfac-scien">2</a></sup>.
</p>

<p>
This post is somewhat long, and the way I worked it out is at the end (<a href="#sec-2">Long appendix illustrating how we got the code to work</a>). The short version is that we do some preprocessing to get the citations in the document, calculate replacement values for them and the bibliography, replace them in the org-buffer <i>before</i> the export in the backend (html) format we want, and then conclude with the export. This is proof of concept work.
</p>

<p>
The main issues you can see are:
</p>
<ol class="org-ol">
<li>Our formatting code is very rudimentary, and relies on reftex. It is not as good as bibtex, or presumably some citation processor. Major improvements would require abandoning the reftex approach to use something that builds up the bibliography entry, allows modification of author names, and accomodates missing information gracefully.
</li>
<li>The bibliography contents reflect the contents of my bibtex file, which is LaTeX compatible. We could clean it up more, by either post-processing to remove some things like escaped &amp;, or by breaking compatibility with LaTeX.
</li>
<li>The intext citations could use some fine tuning on spaces, e.g. to remove trailing spaces after words, or to move superscripts to the right of punctuation, or to adjust spaces after some citations.
</li>
<li>Changing the bibliography style for each entry amounts to changing a variable for the bibliography. We have to modify a function to change the intext citation style, e.g. to brackets, or (author year).
</li>
<li>I stuck with only cite links here, and only articles and books. It would not get a citenum format correct, e.g. it should not be superscripted in this case, or a citeauthor format correct. That would require some code in the replacement section that knows how to replace different types of citations.
</li>
</ol>

<p>
The  org-ref-unsrt-html-processor function could be broken up more, and could take some parameters to fine-tune some of these things, and generalize some things like getting the citation elements for the buffer. Overall, I think this shows that citations in org-mode with org-ref are actually pretty flexible. It is not as good as bibtex/LaTeX, and won't be for an unforseeably long time unless someone really needs high quality citations in a format other than LaTeX. Note for LaTeX export, we don't have to do any preprocessing at all. If you wanted to try Word export, you might make a pandoc processor that replaces everything in pandoc citation syntax, and then use pandoc for the conversion. If you didn't care to use the bibtex database for anything else, you could just use backend specific markup to make it exactly right for your output. I did this in reference <sup><a href="#boes-2015-estim-bulk">8</a></sup>where you can see the chemical formulas are properly subscripted.
</p>

<p>
If you would like to see the bibtex file used for this you can get it here: <a href="./numbered.bib">./numbered.bib</a>
</p>



<h1>Bibliography</h1><ol><li><a name="kitchin-2015-examp"></a>Kitchin, Examples of Effective Data Sharing in Scientific Publishing, <i>ACS Catalysis</i>, <b>5(6)</b>, 3894-3899 (2015). <a href=" http://dx.doi.org/10.1021/acscatal.5b00538 ">link</a>. <a href="http://dx.doi.org/10.1021/acscatal.5b00538">doi</a>.</li><li><a name="kitchin-2015-data-surfac-scien"></a>John Kitchin, Data Sharing in Surface Science, <i>Surface Science </i>, <b>(0)</b>,  -  (2015). <a href="http://www.sciencedirect.com/science/article/pii/S0039602815001326">link</a>. <a href="http://dx.doi.org/10.1016/j.susc.2015.05.007">doi</a>.</li><li><a name="xu-2015-tunin-oxide"></a>Zhongnan Xu & John R Kitchin, Tuning Oxide Activity Through Modification of the Crystal and  Electronic Structure: From Strain To Potential Polymorphs, <i>Phys. Chem. Chem. Phys.</i>, <b>17()</b>, 28943-28949 (2015). <a href="http://dx.doi.org/10.1039/C5CP04840K">link</a>. <a href="http://dx.doi.org/10.1039/c5cp04840k">doi</a>.</li><li><a name="mehta-2014-ident-poten"></a>Prateek Mehta, Paul Salvador & John Kitchin, Identifying Potential BO2 Oxide Polymorphs for Epitaxial  Growth Candidates, <i>ACS Appl. Mater. Interfaces</i>, <b>6(5)</b>, 3630-3639 (2014). <a href="http://dx.doi.org/10.1021/am4059149">link</a>. <a href="http://dx.doi.org/10.1021/am4059149">doi</a>.</li><li><a name="curnan-2014-effec-concen"></a>Curnan & Kitchin, Effects of Concentration, Crystal Structure, Magnetism, and  Electronic Structure Method on First-Principles Oxygen Vacancy  Formation Energy Trends in Perovskites, <i>The Journal of Physical Chemistry C</i>, <b>118(49)</b>, 28776-28790 (2014). <a href="http://dx.doi.org/10.1021/jp507957n">link</a>. <a href="http://dx.doi.org/10.1021/jp507957n">doi</a>.</li><li><a name="hallenbeck-2013-effec-o2"></a>Hallenbeck & Kitchin, Effects of O2 and SO2 on the Capture Capacity of a  Primary-Amine Based Polymeric CO2 Sorbent, <i>Industrial & Engineering Chemistry Research</i>, <b>52(31)</b>, 10788-10794 (2013). <a href="http://pubs.acs.org/doi/abs/10.1021/ie400582a">link</a>. <a href="http://dx.doi.org/10.1021/ie400582a">doi</a>.</li><li><a name="miller-2014-simul-temper"></a>Spencer Miller, Vladimir Pushkarev, Andrew, Gellman & John Kitchin, Simulating Temperature Programmed Desorption of Oxygen on  Pt(111) Using DFT Derived Coverage Dependent Desorption  Barriers, <i>Topics in Catalysis</i>, <b>57(1-4)</b>, 106-117 (2014). <a href="http://dx.doi.org/10.1007/s11244-013-0166-3">link</a>. <a href="http://dx.doi.org/10.1007/s11244-013-0166-3">doi</a>.</li><li><a name="boes-2015-estim-bulk"></a>Jacob Boes, Gamze Gumuslu, James Miller, Andrew, Gellman & John Kitchin, Estimating Bulk-Composition-Dependent H<sub>2</sub> Adsorption Energies  on Cu<sub>x</sub>Pd<sub>1-x</sub> Alloy (111) Surfaces, <i>ACS Catalysis</i>, <b>5()</b>, 1020-1026 (2015). <a href="http://dx.doi.org/10.1021/cs501585k">link</a>. <a href="http://dx.doi.org/10.1021/cs501585k">doi</a>.</li></ol>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> The working code</h2>
<div class="outline-text-2" id="text-1">
<p>
Here is a function to process the org file prior parsing during the export process. This function goes into org-export-before-parsing-hook, and takes one argument, the backend. We simply replace all the citation links with formatted HTML snippets or blocks. If the snippets get longer than a line, it will break.
</p>

<p>
We use org-ref-reftex-format-citation to generate the bibliography, which uses reftex to format a string with escape characters in it.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #0000FF;">setq</span> org-ref-bibliography-entry-format
      '((<span style="color: #008000;">"article"</span> . <span style="color: #008000;">"&lt;li&gt;&lt;a name=\"\%k\"&gt;&lt;/a&gt;%a, %t, &lt;i&gt;%j&lt;/i&gt;, &lt;b&gt;%v(%n)&lt;/b&gt;, %p (%y). &lt;a href=\"%U\"&gt;link&lt;/a&gt;. &lt;a href=\"http://dx.doi.org/%D\"&gt;doi&lt;/a&gt;.&lt;/li&gt;"</span>)
        (<span style="color: #008000;">"book"</span> . <span style="color: #008000;">"&lt;li&gt;&lt;a name=\"\%k\"&gt;&lt;/a&gt;%a, %t, %u (%y).&lt;/li&gt;"</span>)))

(<span style="color: #0000FF;">defun</span> <span style="color: #006699;">org-ref-unsrt-latex-processor</span> () nil)
(<span style="color: #0000FF;">defun</span> <span style="color: #006699;">org-ref-unsrt-html-processor</span> ()
  <span style="color: #036A07;">"Citation processor function for the unsrt style with html output."</span>
  (<span style="color: #0000FF;">let</span> (links
        unique-keys numbered-keys
        replacements
        bibliography-link
        bibliographystyle-link
        bibliography)
    <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">step 1 - get the citation links</span>
    (<span style="color: #0000FF;">setq</span> links (<span style="color: #0000FF;">loop</span> for link in (org-element-map
                                      (org-element-parse-buffer) 'link 'identity)
                      if (-contains?
                          org-ref-cite-types
                          (org-element-property <span style="color: #006FE0;">:type</span> link))
                      collect link))

    <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">list of unique numbered keys. '((key number))</span>
    (<span style="color: #0000FF;">setq</span> unique-keys (<span style="color: #0000FF;">loop</span> for i from 1
                            for key in (org-ref-get-bibtex-keys)
                            collect (list key (number-to-string i))))


    <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">(start end replacement-text)</span>
    (<span style="color: #0000FF;">setq</span> replacements
          (<span style="color: #0000FF;">loop</span> for link in links
                collect
                (<span style="color: #0000FF;">let</span> ((path (org-element-property <span style="color: #006FE0;">:path</span> link)))
                  (<span style="color: #0000FF;">loop</span> for (key number) in unique-keys
                        do
                        (<span style="color: #0000FF;">setq</span>
                         path
                         (replace-regexp-in-string
                          key (format <span style="color: #008000;">"&lt;a href=\"#%s\"&gt;%s&lt;/a&gt;"</span> key number)
                          path)))
                  (list (org-element-property <span style="color: #006FE0;">:begin</span> link)
                        (org-element-property <span style="color: #006FE0;">:end</span> link)
                        (format <span style="color: #008000;">"@@html:&lt;sup&gt;%s&lt;/sup&gt;@@"</span> path)))))

    <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">construct the bibliography string</span>
    (<span style="color: #0000FF;">setq</span> bibliography
          (concat <span style="color: #008000;">"#+begin_html</span>
<span style="color: #008000;">&lt;h1&gt;Bibliography&lt;/h1&gt;&lt;ol&gt;"</span>
                  (mapconcat
                   'identity
                   (<span style="color: #0000FF;">loop</span> for (key number) in unique-keys
                         collect
                         (<span style="color: #0000FF;">let*</span> ((result (org-ref-get-bibtex-key-and-file key))
                                (bibfile (cdr result))
                                (entry (<span style="color: #0000FF;">save-excursion</span>
                                         (<span style="color: #0000FF;">with-temp-buffer</span>
                                           (insert-file-contents bibfile)
                                           (bibtex-set-dialect
                                            (parsebib-find-bibtex-dialect) t)
                                           (bibtex-search-entry key)
                                           (bibtex-parse-entry t)))))
                           <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">remove escaped &amp; in the strings</span>
                           (replace-regexp-in-string <span style="color: #008000;">"\\\\&amp;"</span> <span style="color: #008000;">"&amp;"</span>
                                           (org-ref-reftex-format-citation
                                            entry
                                            (cdr (assoc (cdr (assoc <span style="color: #008000;">"=type="</span> entry))
                                                        org-ref-bibliography-entry-format))))))
                   <span style="color: #008000;">""</span>)
                  <span style="color: #008000;">"&lt;/ol&gt;</span>
<span style="color: #008000;">#+end_html"</span>))

    <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">now, we need to replace each citation. We do that in reverse order so the</span>
    <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">positions do not change.</span>
    (<span style="color: #0000FF;">loop</span> for (start end replacement) in (reverse replacements)
          do
          (<span style="color: #0000FF;">setf</span> (buffer-substring start end) replacement))

    <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">Eliminate bibliography style links</span>
    (<span style="color: #0000FF;">loop</span> for link in (org-element-map
                          (org-element-parse-buffer) 'link 'identity)
          if (string= <span style="color: #008000;">"bibliographystyle"</span>
                      (org-element-property <span style="color: #006FE0;">:type</span> link))
          do
          (<span style="color: #0000FF;">setf</span> (buffer-substring (org-element-property <span style="color: #006FE0;">:begin</span> link)
                                  (org-element-property <span style="color: #006FE0;">:end</span> link))
                <span style="color: #008000;">""</span>))

    <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">replace the bibliography link with the bibliography text</span>
    (<span style="color: #0000FF;">setq</span> bibliography-link (<span style="color: #0000FF;">loop</span> for link in (org-element-map
                                                  (org-element-parse-buffer) 'link 'identity)
                                  if (string= <span style="color: #008000;">"bibliography"</span>
                                              (org-element-property <span style="color: #006FE0;">:type</span> link))
                                  collect link))
    (<span style="color: #0000FF;">if</span> (&gt; (length bibliography-link) 1)
        (<span style="color: #ff0000; font-weight: bold;">error</span> <span style="color: #008000;">"Only one bibliography link allowed"</span>))

    (<span style="color: #0000FF;">setq</span> bibliography-link (car bibliography-link))
    (<span style="color: #0000FF;">setf</span> (buffer-substring (org-element-property <span style="color: #006FE0;">:begin</span> bibliography-link)
                            (org-element-property <span style="color: #006FE0;">:end</span> bibliography-link))
          bibliography)))


(<span style="color: #0000FF;">defun</span> <span style="color: #006699;">org-ref-citation-processor</span> (backend)
  <span style="color: #036A07;">"Figure out what to call and call it"</span>
  (<span style="color: #0000FF;">let</span> (bibliographystyle)
    (<span style="color: #0000FF;">setq</span>
     bibliographystyle
     (org-element-property
      <span style="color: #006FE0;">:path</span> (car
             (<span style="color: #0000FF;">loop</span> for link in
                   (org-element-map
                       (org-element-parse-buffer) 'link 'identity)
                   if (string= <span style="color: #008000;">"bibliographystyle"</span>
                               (org-element-property <span style="color: #006FE0;">:type</span> link))
                   collect link))))
    (funcall (intern (format <span style="color: #008000;">"org-ref-%s-%s-processor"</span> bibliographystyle backend)))))

(add-hook 'org-export-before-parsing-hook 'org-ref-citation-processor)

(browse-url (org-html-export-to-html))
</pre>
</div>

<pre class="example">
#&lt;process open ./blog.html&gt;
</pre>
</div>
</div>


<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><a id="ID-1D63E1FB-55CD-48B7-B5E1-D0AC5E4D989B" name="ID-1D63E1FB-55CD-48B7-B5E1-D0AC5E4D989B"></a><span class="section-number-2">2</span> Long appendix illustrating how we got the code to work</h2>
<div class="outline-text-2" id="text-2">
<p>
The first thing we need is a list of all the citation links, in the order cited. Here they are.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(mapcar
 (<span style="color: #0000FF;">lambda</span> (link) (org-element-property <span style="color: #006FE0;">:path</span> link))
 (<span style="color: #0000FF;">loop</span> for link in (org-element-map (org-element-parse-buffer) 'link 'identity)
       if (-contains? org-ref-cite-types (org-element-property <span style="color: #006FE0;">:type</span> link))
       collect link))
</pre>
</div>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">kitchin-2015-examp,kitchin-2015-data-surfac-scien</td>
<td class="left">xu-2015-tunin-oxide,mehta-2014-ident-poten,curnan-2014-effec-concen</td>
<td class="left">hallenbeck-2013-effec-o2</td>
<td class="left">miller-2014-simul-temper,boes-2015-estim-bulk</td>
<td class="left">kitchin-2015-examp</td>
<td class="left">kitchin-2015-data-surfac-scien</td>
<td class="left">boes-2015-estim-bulk</td>
</tr>
</tbody>
</table>

<p>
Now, we need to compute replacements for each citation link, and construct the bibliography. We will make a numbered, unsorted bibliography, and we want to replace each citation with the corresponding numbers, hyperlinked to the entry.
</p>

<p>
We start with a list of the keys in the order cited, and a number we will use for each one.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #0000FF;">loop</span> for i from 1
      for key in (org-ref-get-bibtex-keys)
      collect (list key i))
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="right" />
</colgroup>
<tbody>
<tr>
<td class="left">kitchin-2015-examp</td>
<td class="right">1</td>
</tr>

<tr>
<td class="left">kitchin-2015-data-surfac-scien</td>
<td class="right">2</td>
</tr>

<tr>
<td class="left">xu-2015-tunin-oxide</td>
<td class="right">3</td>
</tr>

<tr>
<td class="left">mehta-2014-ident-poten</td>
<td class="right">4</td>
</tr>

<tr>
<td class="left">curnan-2014-effec-concen</td>
<td class="right">5</td>
</tr>

<tr>
<td class="left">hallenbeck-2013-effec-o2</td>
<td class="right">6</td>
</tr>

<tr>
<td class="left">miller-2014-simul-temper</td>
<td class="right">7</td>
</tr>

<tr>
<td class="left">boes-2015-estim-bulk</td>
<td class="right">8</td>
</tr>
</tbody>
</table>

<p>
Now, we need to compute replacements for each cite link. This will be replacing each key with the number above. We will return a list of ((start end) . "replacement text") that we can use to replace each link. For fun, we make these superscripted html.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #0000FF;">let</span> ((links (<span style="color: #0000FF;">loop</span> for link in (org-element-map (org-element-parse-buffer) 'link 'identity)
                   if (-contains? org-ref-cite-types (org-element-property <span style="color: #006FE0;">:type</span> link))
                   collect link))
      (replacements (<span style="color: #0000FF;">loop</span> for i from 1
                          for key in (org-ref-get-bibtex-keys)
                          collect (list key (number-to-string i)))))
  (<span style="color: #0000FF;">loop</span> for link in links
        collect (<span style="color: #0000FF;">let</span> ((path (org-element-property <span style="color: #006FE0;">:path</span> link)))
                  (<span style="color: #0000FF;">dolist</span> (repl replacements)
                    (<span style="color: #0000FF;">setq</span> path (replace-regexp-in-string (car repl) (nth 1 repl) path)))
                  (list (org-element-property <span style="color: #006FE0;">:begin</span> link)
                        (org-element-property <span style="color: #006FE0;">:end</span> link)
                        (format <span style="color: #008000;">"&lt;sup&gt;%s&lt;/sup&gt;"</span> path)))))
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="right" />

<col  class="right" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="right">950</td>
<td class="right">1004</td>
<td class="left">&lt;sup&gt;1,2&lt;/sup&gt;</td>
</tr>

<tr>
<td class="right">1073</td>
<td class="right">1145</td>
<td class="left">&lt;sup&gt;3,4,5&lt;/sup&gt;</td>
</tr>

<tr>
<td class="right">1160</td>
<td class="right">1190</td>
<td class="left">&lt;sup&gt;6&lt;/sup&gt;</td>
</tr>

<tr>
<td class="right">1236</td>
<td class="right">1286</td>
<td class="left">&lt;sup&gt;7,8&lt;/sup&gt;</td>
</tr>

<tr>
<td class="right">1364</td>
<td class="right">1388</td>
<td class="left">&lt;sup&gt;1&lt;/sup&gt;</td>
</tr>

<tr>
<td class="right">1392</td>
<td class="right">1427</td>
<td class="left">&lt;sup&gt;2&lt;/sup&gt;</td>
</tr>

<tr>
<td class="right">4091</td>
<td class="right">4117</td>
<td class="left">&lt;sup&gt;8&lt;/sup&gt;</td>
</tr>
</tbody>
</table>

<p>
We also need to compute the bibliography for each key. We will use org-ref-reftex-format-citation to do this. For that we need the parsed bibtex entries, and a format string. org-ref provides most of this.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #0000FF;">setq</span> org-ref-bibliography-entry-format
      '((<span style="color: #008000;">"article"</span> . <span style="color: #008000;">"&lt;li&gt;%a, %t, &lt;i&gt;%j&lt;/i&gt;, &lt;b&gt;%v(%n)&lt;/b&gt;, %p (%y). &lt;a href=\"%U\"&gt;link&lt;/a&gt;. &lt;a href=\"http://dx.doi.org/%D\"&gt;doi&lt;/a&gt;.&lt;/li&gt;"</span>)
        (<span style="color: #008000;">"book"</span> . <span style="color: #008000;">"&lt;li&gt;%a, %t, %u (%y).&lt;/li&gt;"</span>)))

(concat <span style="color: #008000;">"&lt;h1&gt;Bibliography&lt;/h1&gt;&lt;br&gt;&lt;ol&gt;"</span>
        (mapconcat
         'identity
         (<span style="color: #0000FF;">loop</span> for key in (org-ref-get-bibtex-keys)
               collect
               (<span style="color: #0000FF;">let*</span> ((result (org-ref-get-bibtex-key-and-file key))
                      (bibfile (cdr result))
                      (entry (<span style="color: #0000FF;">save-excursion</span>
                               (<span style="color: #0000FF;">with-temp-buffer</span>
                                 (insert-file-contents bibfile)
                                 (bibtex-set-dialect (parsebib-find-bibtex-dialect) t)
                                 (bibtex-search-entry key)
                                 (bibtex-parse-entry)))))
                 (org-ref-reftex-format-citation
                  entry
                  (cdr (assoc (cdr (assoc <span style="color: #008000;">"=type="</span> entry))
                              org-ref-bibliography-entry-format)))))
         <span style="color: #008000;">""</span>)
        <span style="color: #008000;">"&lt;/ol&gt;"</span>)
</pre>
</div>

<h1>Bibliography</h1><br><ol><li>Kitchin, Examples of Effective Data Sharing in Scientific Publishing, <i>{ACS Catalysis}</i>, <b>5(6)</b>, 3894-3899 (2015). <a href=" http://dx.doi.org/10.1021/acscatal.5b00538 ">link</a>. <a href="http://dx.doi.org/10.1021/acscatal.5b00538">doi</a>.</li><li>"John Kitchin", Data Sharing in Surface Science, <i>"Surface Science "</i>, <b>(0)</b>,  -  (2015). <a href="http://www.sciencedirect.com/science/article/pii/S0039602815001326">link</a>. <a href="http://dx.doi.org/10.1016/j.susc.2015.05.007">doi</a>.</li><li>Zhongnan Xu \& John R Kitchin, Tuning Oxide Activity Through Modification of the Crystal and  Electronic Structure: From Strain To Potential Polymorphs, <i>{Phys. Chem. Chem. Phys.}</i>, <b>17()</b>, 28943-28949 (2015). <a href="http://dx.doi.org/10.1039/C5CP04840K">link</a>. <a href="http://dx.doi.org/10.1039/c5cp04840k">doi</a>.</li><li>Prateek Mehta, Paul Salvador \& John Kitchin, Identifying Potential BO2 Oxide Polymorphs for Epitaxial  Growth Candidates, <i>{ACS Appl. Mater. Interfaces}</i>, <b>6(5)</b>, 3630-3639 (2014). <a href="http://dx.doi.org/10.1021/am4059149">link</a>. <a href="http://dx.doi.org/10.1021/am4059149">doi</a>.</li><li>Curnan \& Kitchin, Effects of Concentration, Crystal Structure, Magnetism, and  Electronic Structure Method on First-Principles Oxygen Vacancy  Formation Energy Trends in Perovskites, <i>{The Journal of Physical Chemistry C}</i>, <b>118(49)</b>, 28776-28790 (2014). <a href="http://dx.doi.org/10.1021/jp507957n">link</a>. <a href="http://dx.doi.org/10.1021/jp507957n">doi</a>.</li><li>"Hallenbeck \& Kitchin, Effects of O2 and SO2 on the Capture Capacity of a  Primary-Amine Based Polymeric CO2 Sorbent, <i>"Industrial \& Engineering Chemistry Research"</i>, <b>52(31)</b>, 10788-10794 (2013). <a href="http://pubs.acs.org/doi/abs/10.1021/ie400582a">link</a>. <a href="http://dx.doi.org/10.1021/ie400582a">doi</a>.</li><li>Spencer Miller, Vladimir Pushkarev, Andrew, Gellman \& John Kitchin, Simulating Temperature Programmed Desorption of Oxygen on  Pt(111) Using DFT Derived Coverage Dependent Desorption  Barriers, <i>{Topics in Catalysis}</i>, <b>57(1-4)</b>, 106-117 (2014). <a href="http://dx.doi.org/10.1007/s11244-013-0166-3">link</a>. <a href="http://dx.doi.org/10.1007/s11244-013-0166-3">doi</a>.</li><li>Jacob Boes, Gamze Gumuslu, James Miller, Andrew, Gellman \& John Kitchin, Estimating Bulk-Composition-Dependent H<sub>2</sub> Adsorption Energies  on Cu<sub>x</sub>Pd<sub>1-x</sub> Alloy (111) Surfaces, <i>{ACS Catalysis}</i>, <b>5()</b>, 1020-1026 (2015). <a href="http://dx.doi.org/10.1021/cs501585k">link</a>. <a href="http://dx.doi.org/10.1021/cs501585k">doi</a>.</li></ol>
</div>
</div>
<p>Copyright (C) 2015 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2015/12/03/Exporting-numbered-citations-in-html-with-unsorted-numbered-bibliography.org">org-mode source</a><p><p>Org-mode version = 8.2.10</p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <div class="after_post"><a href="http://jkitchin.github.io/blog/2015/12/03/Exporting-numbered-citations-in-html-with-unsorted-numbered-bibliography#disqus_thread">Read and Post Comments</a></div>
  <hr class="interblog" />
  





<article>
  <div class="blog_post">
    <header>
      <div id="Post-processing-an-org-buffer-on-export"></div>
      <h2 class="blog_post_title"><a href="/blog/2015/12/01/Post-processing-an-org-buffer-on-export/" rel="bookmark" title="Permanent Link to Post-processing an org-buffer on export">Post-processing an org-buffer on export</a></h2>
      <p><small><span class="blog_post_date">Posted December 01, 2015 at 01:58 PM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/emacs/'>emacs</a>, <a href='/blog/category/orgmode/'>orgmode</a></span> | tags: 
        | <a href="http://jkitchin.github.io/blog/2015/12/01/Post-processing-an-org-buffer-on-export#disqus_thread">View Comments</a>
      <p><small><span class="blog_post_date">Updated December 01, 2015 at 09:01 PM</span>
      </small></p>
    </header>
    <div class="post_prose">
      




<p>
In a previous <a href="http://kitchingroup.cheme.cmu.edu/blog/2015/11/22/Adding-emacs-command-key-bindings-and-help-functionality-to-org-mode/">post</a> we examined getting tooltips on emacs keybindings and command syntax in an org-buffer. Someone asked in a comment if we could get that to export to html, or LaTeX. The short answer is not directly, org-mode doesn't recognize our functionalized syntax as an element, and there is no direct way to modify their appearance on export.
</p>

<p>
There is, however, a hook function that runs before parsing, and we can use that to transform these patterns to what we want. Here, I illustrate how to make the key-bindings and commands bold with a tooltip on them for an html export. Basically, we do an export, and then post-process the html output to put what we want in. I found this easier than pre-processing because the documentation for the command tooltip was too big to fit into an html snippet, and an html block causes carriage returns in the html. I didn't find a more elegant solution to that problem.
</p>

<p>
Here we replace the key-binding syntax with the actual keybinding in bold, and a tooltip of the command, and the command syntax we replace with bold command and a tooltip for the documentation. It works pretty well. The documentation for helm is pretty extensive, and gets cutoff in the tooltip. Otherwise, this seems pretty satisfactory.
</p>

<p>
This won't show in the blog post, so you will have to checkout the exported html here: <a href="/media/2015-12-01-Post-processing-an-org-buffer-on-export/blog.html">blog.html</a> .
</p>

<p>
Try \<b title="The command is helm-find-files.">C-x C-f</b> to open a file. You might enjoy using <b title="Main function to execute helm sources.

Keywords supported:
:sources :input :prompt :resume :preselect
:buffer :keymap :default :history :allow-nest

Extra LOCAL-VARS keywords are supported, see below.

PLIST is a list like (:key1 val1 :key2 val2 ...) or
(&optional sources input prompt resume
            preselect buffer keymap default history).

Basic keywords are the following:

:sources

A list of sources used for this session.  It also accepts a
symbol, interpreted as a variable of a helm source
i.e (a symbol can be passed instead of a list of sources).
It also accepts an alist representing a helm source, which is
detected by (assq 'name ANY-SOURCES).
NOTE: In this case the source is embedded in the helm command and
have no symbol name, so it is not reachable from outside.
It will be referenced in `helm-sources' as a whole alist.

:input

Temporary value of `helm-pattern', ie. initial input of minibuffer.

:prompt

Prompt other than "pattern: ".

:resume

If t, Resurrect previously instance of `helm'.  Skip the initialization.
If 'noresume, this instance of `helm' cannot be resumed.

:preselect

Initially selected candidate.  Specified by exact candidate or a regexp.

:buffer

`helm-buffer' instead of *helm*.

:keymap

`helm-map' for current `helm' session.

:default

A default argument that will be inserted in minibuffer with M-n.
When nil or not present `thing-at-point' will be used instead.
If `helm--maybe-use-default-as-input' is non--nil display will be
updated using :default arg as input unless :input is specified,
which in this case will take precedence on :default
This is a string or a list, in this case the car of the list will
be used as initial default input, but you will be able to cycle in this
list with M-n.

:history

By default all minibuffer input is pushed to `minibuffer-history',
if an argument HISTORY is provided, input will be pushed to HISTORY.
History element should be a symbol.

:allow-nest

Allow running this helm command within a running helm session.

Of course, conventional arguments are supported, the two are same.

(helm :sources sources :input input :prompt prompt :resume resume
       :preselect preselect :buffer buffer :keymap keymap :default default
       :history history)

and

(helm sources input prompt resume preselect buffer keymap default history)

are the same.

However the use of non keyword args is deprecated and should not be used.

Other keywords are interpreted as local variables of this helm session.
The `helm-' prefix can be omitted.  For example,

(helm :sources 'helm-source-buffers-list
       :buffer "*buffers*" :candidate-number-limit 10)

means starting helm session with `helm-source-buffers'
source in *buffers* buffer and set variable `helm-candidate-number-limit'
to 10 as session local variable.

(fn &key SOURCES INPUT PROMPT RESUME PRESELECT BUFFER KEYMAP DEFAULT HISTORY ALLOW-NEST OTHER-LOCAL-VARS)">helm</b> too. Or this variable <b title="Get the list of agenda files.
Optional UNRESTRICTED means return the full list even if a restriction
is currently in place.
When ARCHIVES is t, include all archive files that are really being
used by the agenda files.  If ARCHIVE is `ifmode', do this only if
`org-agenda-archives-mode' is t.">org-agenda-files</b>.
</p>


<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #0000FF;">require</span> '<span style="color: #D0372D;">rx</span>)

(<span style="color: #0000FF;">defvar</span> <span style="color: #BA36A5;">elisp-symbol-keybinding-re</span>
  (<span style="color: #0000FF;">rx</span>
   <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">opening \\[</span>
   (eval <span style="color: #008000;">"\\["</span>)
   <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">one or more characters that are not ]</span>
   (group (one-or-more (not (any <span style="color: #008000;">"]"</span>))))
   <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">The closing ]</span>
   <span style="color: #008000;">"]"</span>)
<span style="color: #036A07;">"Regexp for an elisp command keybinding syntax. \\[</span><span style="color: #D0372D;">some-command</span><span style="color: #036A07;">]</span>
<span style="color: #036A07;">Regexp group 1 matches src_emacs-lisp[:results html]{(command-html "</span>some-command<span style="color: #008000;">")}."</span>)

(<span style="color: #0000FF;">defun</span> <span style="color: #006699;">org-process-key-bindings</span> (backend)
  (goto-char (point-min))
  (<span style="color: #0000FF;">while</span> (re-search-forward elisp-symbol-keybinding-re nil t)
    (replace-match
     (<span style="color: #0000FF;">cond</span>
      ((eq backend 'html)
       (format <span style="color: #008000;">"&lt;b title=\"The command is %s.\"&gt;%s&lt;/b&gt;"</span>
               (match-string 1)
               (substitute-command-keys (match-string 0))))))))


(<span style="color: #0000FF;">defun</span> <span style="color: #006699;">org-process-emacs-commands</span> (backend)
  (goto-char (point-min))
  (<span style="color: #0000FF;">while</span> (re-search-forward <span style="color: #008000;">"`</span><span style="color: #008000; font-weight: bold;">\\</span><span style="color: #008000; font-weight: bold;">(</span><span style="color: #008000;">[</span><span style="color: #008000;">^</span><span style="color: #008000;">']+</span><span style="color: #008000; font-weight: bold;">\\</span><span style="color: #008000; font-weight: bold;">)</span><span style="color: #008000;">'"</span> nil t)
    (replace-match
     (<span style="color: #0000FF;">cond</span>
      ((eq backend 'html)
       (format <span style="color: #008000;">"&lt;b title=\"%s\"&gt;%s&lt;/b&gt;"</span>
          (<span style="color: #0000FF;">if</span> (<span style="color: #0000FF;">or</span> (fboundp (intern (match-string 1)))
                  (boundp (intern (match-string 1))))
              (documentation (intern (match-string 1)))
            <span style="color: #008000;">"No command found."</span>)
          (match-string 1)))))))

(<span style="color: #0000FF;">with-current-buffer</span> (org-html-export-as-html)
  (org-process-key-bindings 'html)
  (org-process-emacs-commands 'html)
  (write-file <span style="color: #008000;">"blog.html"</span>)
  (browse-url <span style="color: #008000;">"blog.html"</span>))
</pre>
</div>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">org-process-emacs-commands</td>
</tr>
</tbody>
</table>


<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Update: A filter approach to exporting</h2>
<div class="outline-text-2" id="text-1">
<p>
Our patterns are all in org-paragraphs. We can use a filter to modify the paragraph after it is "transcoded". Here is the filter function. It basically does the same thing, through another mechanism.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #0000FF;">defun</span> <span style="color: #006699;">my-paragraph-filter</span> (data backend info)
  (<span style="color: #0000FF;">cond</span>
   ((eq 'html backend)
    <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">emacs commands</span>
    (<span style="color: #0000FF;">setq</span> data (replace-regexp-in-string
                <span style="color: #008000;">"`</span><span style="color: #008000; font-weight: bold;">\\</span><span style="color: #008000; font-weight: bold;">(</span><span style="color: #008000;">[</span><span style="color: #008000;">^</span><span style="color: #008000;">']+</span><span style="color: #008000; font-weight: bold;">\\</span><span style="color: #008000; font-weight: bold;">)</span><span style="color: #008000;">'"</span>
                (<span style="color: #0000FF;">lambda</span> (x)
                  (string-match <span style="color: #008000;">"`</span><span style="color: #008000; font-weight: bold;">\\</span><span style="color: #008000; font-weight: bold;">(</span><span style="color: #008000;">[</span><span style="color: #008000;">^</span><span style="color: #008000;">']+</span><span style="color: #008000; font-weight: bold;">\\</span><span style="color: #008000; font-weight: bold;">)</span><span style="color: #008000;">'"</span> x)
                  (<span style="color: #0000FF;">when</span> (match-string 1 x)
                    (format <span style="color: #008000;">"&lt;b title=\"%s\"&gt;%s&lt;/b&gt;"</span>
                            (<span style="color: #0000FF;">if</span> (<span style="color: #0000FF;">or</span> (fboundp (intern (match-string 1 x)))
                                    (boundp (intern (match-string 1 x))))
                                (documentation (intern (match-string 1 x)))
                              <span style="color: #008000;">"No command found."</span>)
                            (match-string 1 x))))
                data))
    <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">keybindings</span>
    (<span style="color: #0000FF;">setq</span> data (replace-regexp-in-string
                <span style="color: #008000;">"\\\\\\[</span><span style="color: #008000; font-weight: bold;">\\</span><span style="color: #008000; font-weight: bold;">(</span><span style="color: #008000;">[</span><span style="color: #008000;">^</span><span style="color: #008000;">]]+</span><span style="color: #008000; font-weight: bold;">\\</span><span style="color: #008000; font-weight: bold;">)</span><span style="color: #008000;">]"</span>
                (<span style="color: #0000FF;">lambda</span> (x)
                  (string-match <span style="color: #008000;">"\\\\\\[</span><span style="color: #008000; font-weight: bold;">\\</span><span style="color: #008000; font-weight: bold;">(</span><span style="color: #008000;">[</span><span style="color: #008000;">^</span><span style="color: #008000;">]]+</span><span style="color: #008000; font-weight: bold;">\\</span><span style="color: #008000; font-weight: bold;">)</span><span style="color: #008000;">]"</span> x)
                  (<span style="color: #0000FF;">when</span> (fboundp  (intern (match-string-no-properties 1 x)))
                    (format <span style="color: #008000;">"&lt;b title=\"The command is %s.\"&gt;%s&lt;/b&gt;"</span>
                            (match-string 1 x)
                            (substitute-command-keys (match-string 0 x)))))
                data)))))

(add-to-list 'org-export-filter-paragraph-functions 'my-paragraph-filter)
(browse-url (org-html-export-to-html))
</pre>
</div>

<pre class="example">
#&lt;process open ./blog.html&gt;
</pre>

<p>
Try the command <b title="Opens a helm interface to actions for org-ref.
Shows bad citations, ref links and labels">org-ref</b> to check your document for issues.  Insert a citation with org-ref using \<b title="The command is org-ref-insert-cite-link.">M-ESC C</b>.
</p>

<p>
Now, this should show up in the blog!</p>
</div>
</div>
<p>Copyright (C) 2015 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2015/12/01/Post-processing-an-org-buffer-on-export.org">org-mode source</a><p><p>Org-mode version = 8.2.10</p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <div class="after_post"><a href="http://jkitchin.github.io/blog/2015/12/01/Post-processing-an-org-buffer-on-export#disqus_thread">Read and Post Comments</a></div>
  <hr class="interblog" />
  





<article>
  <div class="blog_post">
    <header>
      <div id="LDAP-lookups-from-Emacs"></div>
      <h2 class="blog_post_title"><a href="/blog/2015/11/25/LDAP-lookups-from-Emacs/" rel="bookmark" title="Permanent Link to LDAP lookups from Emacs">LDAP lookups from Emacs</a></h2>
      <p><small><span class="blog_post_date">Posted November 25, 2015 at 09:31 AM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/emacs/'>emacs</a>, <a href='/blog/category/helm/'>helm</a></span> | tags: 
        | <a href="http://jkitchin.github.io/blog/2015/11/25/LDAP-lookups-from-Emacs#disqus_thread">View Comments</a>
      </small></p>
    </header>
    <div class="post_prose">
      




<p>
Now that I have email and Cisco Jabber totally integrated into Emacs it would be nice to tap into the CMU LDAP (Lightweight Directory Access Protocol) service  to find emails and phone numbers. We to use the ldapsearch command-line utility to query our LDAP service like this to find an email address.
</p>

<p>
You might like the video explanation here: <a href="https://www.youtube.com/watch?v=N7AaKHRd9uw">https://www.youtube.com/watch?v=N7AaKHRd9uw</a> 
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(shell-command-to-string <span style="color: #008000;">"ldapsearch -x -LLL -h ldap.andrew.cmu.edu -b ou=Person,dc=cmu,dc=edu cn=\"John Kitchin\""</span>)
</pre>
</div>

<pre class="example">
dn: guid=1976CCAA-B465-11D8-8000-080020CC75D3,ou=person,dc=cmu,dc=edu
objectClass: cmuPerson
eduPersonPrimaryAffiliation: Faculty
guid: 1976CCAA-B465-11D8-8000-080020CC75D3
cmuPrivate: homePostalAddress
cmuPrivate: homePhone
cn: John Kitchin
givenName: John
sn: Kitchin
cmuPrimaryCampus: Pittsburgh
cmuCampus: Pittsburgh
cmuAndrewId: jkitchin
cmueduId: jkitchin
cmuAndrewCommonNamespaceId: jkitchin
mail: jkitchin@cmu.edu
eduPersonSchoolCollegeName: CIT - Consolidated
cmuPersonPrincipalName: jkitchin@ANDREW.CMU.EDU
postalAddress: DH A207F
cmuDepartment: Chemical Engineering
cmuDepartment: MSE: Materials Science &amp; Engineering
cmuPersonAffiliation: Tenure-Track Faculty
eduPersonAffiliation: Faculty
cmuAccount: uid=jkitchin,ou=account,dc=andrew,dc=cmu,dc=edu
cmuAccount: uid=jkitchin,ou=account,dc=cmu,dc=edu
cmuActiveDN: uid=jkitchin,ou=account,dc=andrew,dc=cmu,dc=edu
cmuActiveDN: uid=jkitchin,ou=account,dc=cmu,dc=edu
title: Professor
telephoneNumber: +1 412 268 7803
</pre>

<p>
We actually get LDIF data from ldapsearch with a lot of details. Next we wrap the output in a function that converts each result from ldapsearch into a p-list that we will use later in a helm function to help us select a match.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #0000FF;">defun</span> <span style="color: #006699;">ldap-query</span> (query-string)
  <span style="color: #036A07;">"Send QUERY-STRING to our ldap server and parse results into a</span>
<span style="color: #036A07;">list of p-lists for each entry returned."</span>
  (<span style="color: #0000FF;">interactive</span> <span style="color: #008000;">"sLDAP query: "</span>)
  (<span style="color: #0000FF;">let</span> ((output (butlast (split-string
                          (shell-command-to-string
                           (format (concat  <span style="color: #008000;">"ldapsearch -x -LLL "</span>
                                            <span style="color: #008000;">"-h ldap.andrew.cmu.edu "</span>
                                            <span style="color: #008000;">"-b ou=Person,dc=cmu,dc=edu %s"</span>)
                                   query-string))
                          <span style="color: #008000;">"\n"</span>)))
        (lines '())
        (result '())
        (results '(())))
    <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">cleanup trailing lines and ignore initial lines</span>
    (<span style="color: #0000FF;">loop</span> for line in output
          do
          (<span style="color: #0000FF;">cond</span>
           <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">join lines that run over</span>
           ((s-starts-with? <span style="color: #008000;">" "</span> line)
            (<span style="color: #0000FF;">setf</span> (car (last lines))
                  (concat (car (last lines)) line)))
           <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">ignore this</span>
           ((string-match <span style="color: #008000;">"Size limit exceeded"</span> line)
            nil)
           (t
            (add-to-list 'lines line t))))

    <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">now we need to parse the lines. A new entry starts with a dn: line.</span>
    (<span style="color: #0000FF;">dolist</span> (line lines)
      (<span style="color: #0000FF;">cond</span>
       ((s-starts-with? <span style="color: #008000;">"dn:"</span> line)
        <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">add new entry</span>
        (add-to-list 'results `(<span style="color: #006FE0;">:dn</span> ,line)))
       ((string-match <span style="color: #008000;">":"</span> line)
        (<span style="color: #0000FF;">let*</span> ((s (split-string line <span style="color: #008000;">":"</span>))
               (prop (intern (concat <span style="color: #008000;">":"</span> (s-trim (car s)))))
               (val (s-trim (cadr s))))
          (<span style="color: #0000FF;">setf</span> (car results) (plist-put (car results) prop val))))))
    <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">last result seems to be nil so we drop it</span>
    (-filter (<span style="color: #0000FF;">lambda</span> (x) (not (null x))) results)))
</pre>
</div>

<pre class="example">
ldap-query
</pre>

<p>
Here is an example of that function:
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(ldap-query <span style="color: #008000;">"cn=\"John Kitchin\""</span>)
</pre>
</div>

<div class="org-src-container">

<pre class="src src-emacs-lisp">((<span style="color: #006FE0;">:dn</span> <span style="color: #008000;">"dn: guid=1976CCAA-B465-11D8-8000-080020CC75D3,ou=person,dc=cmu,dc=edu"</span> <span style="color: #006FE0;">:objectClass</span> <span style="color: #008000;">"cmuPerson"</span> <span style="color: #006FE0;">:eduPersonPrimaryAffiliation</span> <span style="color: #008000;">"Faculty"</span> <span style="color: #006FE0;">:guid</span> <span style="color: #008000;">"1976CCAA-B465-11D8-8000-080020CC75D3"</span> <span style="color: #006FE0;">:cmuPrivate</span> <span style="color: #008000;">"homePhone"</span> <span style="color: #006FE0;">:cn</span> <span style="color: #008000;">"John Kitchin"</span> <span style="color: #006FE0;">:givenName</span> <span style="color: #008000;">"John"</span> <span style="color: #006FE0;">:sn</span> <span style="color: #008000;">"Kitchin"</span> <span style="color: #006FE0;">:cmuPrimaryCampus</span> <span style="color: #008000;">"Pittsburgh"</span> <span style="color: #006FE0;">:cmuCampus</span> <span style="color: #008000;">"Pittsburgh"</span> <span style="color: #006FE0;">:cmuAndrewId</span> <span style="color: #008000;">"jkitchin"</span> <span style="color: #006FE0;">:cmueduId</span> <span style="color: #008000;">"jkitchin"</span> <span style="color: #006FE0;">:cmuAndrewCommonNamespaceId</span> <span style="color: #008000;">"jkitchin"</span> <span style="color: #006FE0;">:mail</span> <span style="color: #008000;">"jkitchin@cmu.edu"</span> <span style="color: #006FE0;">:eduPersonSchoolCollegeName</span> <span style="color: #008000;">"CIT - Consolidated"</span> <span style="color: #006FE0;">:cmuPersonPrincipalName</span> <span style="color: #008000;">"jkitchin@ANDREW.CMU.EDU"</span> <span style="color: #006FE0;">:postalAddress</span> <span style="color: #008000;">"DH A207F"</span> <span style="color: #006FE0;">:cmuDepartment</span> <span style="color: #008000;">"MSE"</span> <span style="color: #006FE0;">:cmuPersonAffiliation</span> <span style="color: #008000;">"Tenure-Track Faculty"</span> <span style="color: #006FE0;">:eduPersonAffiliation</span> <span style="color: #008000;">"Faculty"</span> <span style="color: #006FE0;">:cmuAccount</span> <span style="color: #008000;">"uid=jkitchin,ou=account,dc=cmu,dc=edu"</span> <span style="color: #006FE0;">:cmuActiveDN</span> <span style="color: #008000;">"uid=jkitchin,ou=account,dc=cmu,dc=edu"</span> <span style="color: #006FE0;">:title</span> <span style="color: #008000;">"Professor"</span> <span style="color: #006FE0;">:telephoneNumber</span> <span style="color: #008000;">"+1 412 268 7803"</span>))
</pre>
</div>


<p>
Now, we wrap a helm function around that to give us a nice menu to select entries from, and a few actions like sending an email, calling, copying the name and email, and seeing the information in a reasonable way. We also add a fallback method in case we don't find what we want and need to do a new search.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #0000FF;">defun</span> <span style="color: #006699;">helm-ldap</span> (query-string)
  (<span style="color: #0000FF;">interactive</span> <span style="color: #008000;">"sLDAP query: "</span>)
  (helm
   <span style="color: #006FE0;">:sources</span>
   `(((name . <span style="color: #008000;">"HELM ldap"</span>)
      (candidates . ,(mapcar
                      (<span style="color: #0000FF;">lambda</span> (x)
                        (cons
                         (format
                          <span style="color: #008000;">"%20s|%30s|%30s|%20s|%s"</span>
                          (s-truncate
                           20
                           (<span style="color: #0000FF;">or</span> (plist-get x <span style="color: #006FE0;">:title</span>) <span style="color: #008000;">" "</span>))
                          (plist-get x <span style="color: #006FE0;">:cn</span>)
                          (plist-get x <span style="color: #006FE0;">:mail</span>)
                          (plist-get x <span style="color: #006FE0;">:cmuDisplayAddress</span>)
                          (<span style="color: #0000FF;">or</span> (plist-get x <span style="color: #006FE0;">:telephoneNumber</span>) <span style="color: #008000;">" "</span>))
                         x))
                      (ldap-query
                       (<span style="color: #0000FF;">if</span> (string-match <span style="color: #008000;">"="</span> query-string)
                           query-string
                         (concat <span style="color: #008000;">"cn=*"</span> query-string <span style="color: #008000;">"*"</span>)))))
      (action . ((<span style="color: #008000;">"Email"</span> . (<span style="color: #0000FF;">lambda</span> (x)
                              (compose-mail)
                              (message-goto-to)
                              (insert (plist-get x <span style="color: #006FE0;">:mail</span>))
                              (message-goto-subject)))
                 (<span style="color: #008000;">"Call"</span> . (<span style="color: #0000FF;">lambda</span> (x)
                             (cisco-call
                              (plist-get x <span style="color: #006FE0;">:telephoneNumber</span>))))
                 (<span style="color: #008000;">"Copy Name and email address"</span> . (<span style="color: #0000FF;">lambda</span> (x)
                                                    (kill-new
                                                     (format
                                                      <span style="color: #008000;">"%s &lt;%s&gt;"</span>
                                                      (plist-get x <span style="color: #006FE0;">:cn</span>)
                                                      (plist-get x <span style="color: #006FE0;">:mail</span>)))))
                 (<span style="color: #008000;">"Information"</span> . (<span style="color: #0000FF;">lambda</span> (x)
                                    (switch-to-buffer
                                     (get-buffer-create <span style="color: #008000;">"*helm ldap*"</span>))
                                    (erase-buffer)
                                    (<span style="color: #0000FF;">dolist</span> (key (<span style="color: #0000FF;">cl-loop</span>
                                                  for key in x by #'cddr
                                                  collect key))
                                      (insert (format <span style="color: #008000;">"|%s | %s|\n"</span>
                                                      key (plist-get x key))))
                                    (org-mode)
                                    (goto-char 0)
                                    (org-ctrl-c-ctrl-c)
                                    (insert <span style="color: #008000;">"press q to quit.\n\n"</span>)
                                    (<span style="color: #0000FF;">setq</span> buffer-read-only t)
                                    (use-local-map (copy-keymap org-mode-map))
                                    (local-set-key <span style="color: #008000;">"q"</span>
                                                   #'(lambda ()
                                                       (<span style="color: #0000FF;">interactive</span>)
                                                       (quit-window t))))))))
     <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">fallback action</span>
     ((name . <span style="color: #008000;">"New search"</span>)
      (dummy)
      (action . (<span style="color: #0000FF;">lambda</span> (x) (helm-ldap x)))))))
</pre>
</div>

<pre class="example">
helm-ldap
</pre>

<p>
That is pretty convenient!
</p>

<p>
John Kitchin &lt;jkitchin@cmu.edu&gt;</p>
<p>Copyright (C) 2015 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2015/11/25/LDAP-lookups-from-Emacs.org">org-mode source</a><p><p>Org-mode version = 8.2.10</p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <div class="after_post"><a href="http://jkitchin.github.io/blog/2015/11/25/LDAP-lookups-from-Emacs#disqus_thread">Read and Post Comments</a></div>
  <hr class="interblog" />
 <a href="../17"> Previous Page</a>
  --  
 <a href="../19">Next Page </a>

          </div>
          <div id="sidebar" class="grid_4">
            <aside>
<section>
<script>
  (function() {
    var cx = '002533177287215655227:l7uvu35ssbc';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</section>

<section>
    <h1 class="post_header_gradient theme_font">Twitter</h1>
    <a class="twitter-timeline" href="https://twitter.com/johnkitchin" data-widget-id="545217643582881792">Tweets by @johnkitchin</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</section>


  <section>
    <h1 class="post_header_gradient theme_font">Links</h1>
    <ul>
      <li><a href="https://www.continuum.io">Anaconda Python</a></li>
      <li><a href="/pycse">Pycse</a></li>
      <li><a href="/dft-book">DFT-book</a></li>
    </ul>
  </section>

  <section>
    <h1 class="post_header_gradient theme_font">Latest Posts</h1>
    <ul>
      <li><a href="/blog/2017/07/09/Adding-a-GSL-integration-function-to-Emacs-with-a-dynamic-module/">Adding a GSL integration function to Emacs with a dynamic module</a></li>
      <li><a href="/blog/2017/07/08/Adding-numerical-methods-to-emacs-with-dynamic-modules/">Adding numerical methods to emacs with dynamic modules</a></li>
      <li><a href="/blog/2017/06/10/Adding-keymaps-to-src-blocks-via-org-font-lock-hook/">Adding keymaps to src blocks via org-font-lock-hook</a></li>
      <li><a href="/blog/2017/05/26/Org-mode-and-ipython-enhancements-in-scimax/">Org-mode and ipython enhancements in scimax</a></li>
      <li><a href="/blog/2017/05/21/A-partial-symbolic-numeric-solver-in-emacs-lisp/">A partial symbolic numeric solver in emacs-lisp</a></li>
    </ul>
  </section>

<section>
<h1 class="post_header_gradient theme_font">Latest GitHub Repos</h1>
  <a href="https://github.com/jkitchin">@jkitchin</a> on GitHub.
  <ul id="my-github-projects">
        <li class="loading">Status updating&#8230;</li>
  </ul>

</section>
</aside>

          </div>
          <div class="clear"></div>
        </div>
      </div>
      
<footer>
  <div id="footer" class="grid_12">
    <div class="grid_8">
      <p>
        <a href="/blog/feed/index.xml">RSS</a>
        <a href="http://kitchinresearchgroup.disqus.com/latest.rss">Comments RSS Feed</a>.
      </p>
    </div>
    <div class="grid_4" id="credits">
      <p>
        Copyright 2017
        John Kitchin
      </p>
      <p>
        Powered by <a href="http://www.blogofile.com">Blogofile</a>
      </p>
    </div>
  </div>
</footer>

    </div>
      <script src="//ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/js/libs/jquery-1.5.1.min.js"%3E%3C/script%3E'))</script>
  <script src="/js/plugins.js"></script>
  <script src="/js/script.js"></script>
  <script src="/js/jquery.tweet.js"></script>  
  <script src="/js/site.js"></script>
  <!--[if lt IE 7 ]>
  <script src="js/libs/dd_belatedpng.js"></script>
  <script> DD_belatedPNG.fix('img, .png_bg');</script>
  <![endif]-->
  <script>
      var _gaq=[['_setAccount','UA-35731398-1'],['_trackPageview']];
      (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.async=1;
      g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
      s.parentNode.insertBefore(g,s)}(document,'script'));
  </script>
  <script>
  (function() {
      var links = document.getElementsByTagName('a');
      var query = '?';
      for(var i = 0; i < links.length; i++) {
          if(links[i].href.indexOf('#disqus_thread') >= 0) {
              query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&';
          }
      }
      document.write('<script charset="utf-8" type="text/javascript" src="http://disqus.com/forums/kitchinresearchgroup/get_num_replies.js' + query + '"></' + 'script>');
  })();
  </script>

  </body>
</html>






<script src="http://ajax.microsoft.com/ajax/jquery/jquery-1.4.2.min.js" type="text/javascript"></script>
<script src="/js/git.js" type="text/javascript"></script>
<script type="text/javascript">
    $(function() {
     $("#my-github-projects").loadRepositories("jkitchin");
    });
</script>



