

<!doctype html>
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Kitchin Research Group</title>
  <meta name="google-site-verification" content="CGcacJdHc2YoZyI0Vey9XRA5qwhhFDzThKJezbRFcJ4" />
  <meta name="description" content="Chemical Engineering at Carnegie Mellon University">
  <meta name="author" content="John Kitchin">
  <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="/blog/feed" />
  <link rel="alternate" type="application/atom+xml" title="Atom 1.0" href="/blog/feed/atom" />
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/img/apple-touch-icon.png">

  <link rel="stylesheet" href="/css/base.css?v=1">
  <link rel="stylesheet" href="/css/grid.css?v=1">
  <link rel="stylesheet" media="handheld" href="/css/handheld.css?v=1">
  <link rel="stylesheet" href="/css/pygments_murphy.css" type="text/css" />

  <script src="/js/libs/modernizr-1.7.min.js"></script>
<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
  <link rel="stylesheet" href="/themes/theme1/style.css?v=1">
<link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>

</head>
  <body>
    <div id="container" class="container container_12">
      <div id="main" role="main">
        <div id="main_block">
          <header>
<div id="header" class="header_gradient theme_font">
<table><tr><td>
    <h1><a href="/">The Kitchin Research Group</a></h1>
    <h2>Chemical Engineering at Carnegie Mellon University</h2>
</td>
<td colspan=100%><div style="float:right;width:100%;text-align:right;"> <span id='badgeCont737515' style='width:126px'><script src='http://labs.researcherid.com/mashlets?el=badgeCont737515&mashlet=badge&showTitle=false&className=a&rid=A-2363-2010'></script></span></div>
</td></tr>
</table>
</div>
  <div id="navigation" class="grid_12">

    <ul class="theme_font">
      <li><a href="/blog"
             class="">Blog</a></li>

      <li><a href="/blog/archive"
             class="">Archives</a></li>

      <li><a href="/publications.html">Publications</a></li>

      <li><a href="/research.html"
             class="">Research</a></li>

      <li><a href="/categories.html"
             class="">Categories</a></li>

      <li><a href="/about.html"
             class="">About us</a></li>
      <li><a href="/subscribe.html"
             class="">Subscribe</a></li>

http://feeds.feedburner.com/TheKitchinResearchGroup
    </ul>
  </div>
</header>

          <div id="prose_block" class="grid_8">
            
  





<article>
  <div class="blog_post">
    <header>
      <div id="Serializing-an-Atoms-object-in-xml"></div>
      <h2 class="blog_post_title"><a href="/blog/2015/06/28/Serializing-an-Atoms-object-in-xml/" rel="bookmark" title="Permanent Link to Serializing an Atoms object in xml">Serializing an Atoms object in xml</a></h2>
      <p><small><span class="blog_post_date">Posted June 28, 2015 at 12:26 PM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/python/'>python</a>, <a href='/blog/category/xml/'>xml</a>, <a href='/blog/category/ase/'>ase</a></span> | tags: 
        | <a href="http://jkitchin.github.io/blog/2015/06/28/Serializing-an-Atoms-object-in-xml#disqus_thread">View Comments</a>
      </small></p>
    </header>
    <div class="post_prose">
      



<p>
I have a future need to serialize an Atoms object from <a href="https://wiki.fysik.dtu.dk/ase/">ase</a> as XML. I would use json usually, but I want to use a program that will index xml. I have previously used <a href="https://pypi.python.org/pypi/pyxser/1.5.2-r2">pyxser</a> for this, but I recall it being difficult to install, and it does not pip install on my Mac. So, here we look at <a href="https://pypi.python.org/pypi/xmlwitch/0.2.1">xmlwitch</a> which does pip install ;). This package does some serious magic with context managers.
</p>

<p>
One thing I am not sure about here is the best way to represent numbers and lists/arrays. I am using repr here, and assuming you would want to read this back in to Python where this could simply be eval'ed. Some alternatives would be to convert them to lists, or save them as arrays of xml elements.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">from</span> ase.data.g2 <span style="color: #0000FF;">import</span> data
<span style="color: #0000FF;">from</span> ase.structure <span style="color: #0000FF;">import</span> molecule
<span style="color: #0000FF;">import</span> xmlwitch

<span style="color: #BA36A5;">atoms</span> = molecule(<span style="color: #008000;">'H2O'</span>)

<span style="color: #0000FF;">def</span> <span style="color: #006699;">serialize_atoms</span>(atoms):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #008000;">'Return an xml string of an ATOMS object.'</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">xml</span> = xmlwitch.Builder(version=<span style="color: #008000;">'1.0'</span>, encoding=<span style="color: #008000;">'utf-8'</span>)

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">with</span> xml.atoms():
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">for</span> atom <span style="color: #0000FF;">in</span> atoms:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">with</span> xml.atom(index=<span style="color: #006FE0;">repr</span>(atom.index)):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   xml.symbol(atom.symbol)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   xml.position(<span style="color: #006FE0;">repr</span>(atom.position))
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   xml.magmom(<span style="color: #006FE0;">repr</span>(atom.magmom))
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   xml.mass(<span style="color: #006FE0;">repr</span>(atom.mass))
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   xml.momentum(<span style="color: #006FE0;">repr</span>(atom.momentum))
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   xml.number(<span style="color: #006FE0;">repr</span>(atom.number))
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   xml.cell(<span style="color: #006FE0;">repr</span>(atoms.cell))
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   xml.pbc(<span style="color: #006FE0;">repr</span>(atoms.pbc))
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">return</span> xml

<span style="color: #BA36A5;">atoms_xml</span> = serialize_atoms(atoms)
<span style="color: #0000FF;">print</span> atoms_xml

<span style="color: #0000FF;">with</span> <span style="color: #006FE0;">open</span>(<span style="color: #008000;">'atoms.xml'</span>, <span style="color: #008000;">'w'</span>) <span style="color: #0000FF;">as</span> f:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   f.write(<span style="color: #006FE0;">str</span>(atoms_xml))
</pre>
</div>

<pre class="example">
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;atoms&gt;
  &lt;atom index="0"&gt;
    &lt;symbol&gt;O&lt;/symbol&gt;
    &lt;position&gt;array([ 0.      ,  0.      ,  0.119262])&lt;/position&gt;
    &lt;magmom&gt;0.0&lt;/magmom&gt;
    &lt;mass&gt;15.9994&lt;/mass&gt;
    &lt;momentum&gt;array([ 0.,  0.,  0.])&lt;/momentum&gt;
    &lt;number&gt;8&lt;/number&gt;
  &lt;/atom&gt;
  &lt;atom index="1"&gt;
    &lt;symbol&gt;H&lt;/symbol&gt;
    &lt;position&gt;array([ 0.      ,  0.763239, -0.477047])&lt;/position&gt;
    &lt;magmom&gt;0.0&lt;/magmom&gt;
    &lt;mass&gt;1.0079400000000001&lt;/mass&gt;
    &lt;momentum&gt;array([ 0.,  0.,  0.])&lt;/momentum&gt;
    &lt;number&gt;1&lt;/number&gt;
  &lt;/atom&gt;
  &lt;atom index="2"&gt;
    &lt;symbol&gt;H&lt;/symbol&gt;
    &lt;position&gt;array([ 0.      , -0.763239, -0.477047])&lt;/position&gt;
    &lt;magmom&gt;0.0&lt;/magmom&gt;
    &lt;mass&gt;1.0079400000000001&lt;/mass&gt;
    &lt;momentum&gt;array([ 0.,  0.,  0.])&lt;/momentum&gt;
    &lt;number&gt;1&lt;/number&gt;
  &lt;/atom&gt;
  &lt;cell&gt;array([[ 1.,  0.,  0.],
       [ 0.,  1.,  0.],
       [ 0.,  0.,  1.]])&lt;/cell&gt;
  &lt;pbc&gt;array([False, False, False], dtype=bool)&lt;/pbc&gt;
&lt;/atoms&gt;
</pre>

<p>
Now, we can try reading that file. I am going to use emacs-lisp here for fun, and compute the formula.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #0000FF;">let*</span> ((xml (car (xml-parse-file <span style="color: #008000;">"atoms.xml"</span>)))
       (atoms (xml-get-children xml 'atom))
       (symbol-elements (mapcar (<span style="color: #0000FF;">lambda</span> (atom)
                                  (car (xml-get-children atom 'symbol)))
                                atoms))
       (symbols (mapcar (<span style="color: #0000FF;">lambda</span> (x)
                          (car (xml-node-children x)))
                        symbol-elements)))
  (mapconcat (<span style="color: #0000FF;">lambda</span> (c)
               (format <span style="color: #008000;">"%s%s"</span> (car c)
                       (<span style="color: #0000FF;">if</span> (= 1 (cdr c))
                           <span style="color: #008000;">""</span>
                         (cdr c))))
             (<span style="color: #0000FF;">loop</span> for sym in (-uniq symbols)
                   collect (cons
                            sym
                            (-count (<span style="color: #0000FF;">lambda</span> (x) (string= x sym)) symbols)))
             <span style="color: #008000;">""</span>))
</pre>
</div>

<pre class="example">
OH2
</pre>

<p>
Here is a (misleadingly) concise way to do this in Python. It is so short thanks to there being a Counter that does what we want, and some pretty nice list comprehension!
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">import</span> xml.etree.ElementTree <span style="color: #0000FF;">as</span> ET
<span style="color: #0000FF;">from</span> collections <span style="color: #0000FF;">import</span> Counter
<span style="color: #0000FF;">with</span> <span style="color: #006FE0;">open</span>(<span style="color: #008000;">'atoms.xml'</span>) <span style="color: #0000FF;">as</span> f:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">xml</span> = ET.fromstring(f.read())

<span style="color: #BA36A5;">counts</span> = Counter([el.text <span style="color: #0000FF;">for</span> el <span style="color: #0000FF;">in</span> xml.findall(<span style="color: #008000;">'atom/symbol'</span>)])

<span style="color: #0000FF;">print</span> <span style="color: #008000;">''</span>.join([<span style="color: #008000;">'{0}{1}'</span>.<span style="color: #006FE0;">format</span>(a,b) <span style="color: #0000FF;">if</span> b&gt;1 <span style="color: #0000FF;">else</span> a <span style="color: #0000FF;">for</span> a,b <span style="color: #0000FF;">in</span> counts.iteritems()])
</pre>
</div>

<pre class="example">
H2O
</pre>

<p>
And finally a test on reading a unit cell.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">import</span> xml.etree.ElementTree <span style="color: #0000FF;">as</span> ET
<span style="color: #0000FF;">from</span> numpy <span style="color: #0000FF;">import</span> array

<span style="color: #0000FF;">with</span> <span style="color: #006FE0;">open</span>(<span style="color: #008000;">'atoms.xml'</span>) <span style="color: #0000FF;">as</span> f:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">xml</span> = ET.fromstring(f.read())

<span style="color: #0000FF;">print</span> <span style="color: #006FE0;">eval</span>(xml.find(<span style="color: #008000;">'cell'</span>).text)
</pre>
</div>

<pre class="example">
[[ 1.  0.  0.]
 [ 0.  1.  0.]
 [ 0.  0.  1.]]
</pre>

<p>
That seems to work but, yeah, you won't want to read untrusted xml with that! See <a href="http://stupidpythonideas.blogspot.com/2013/11/repr-eval-bad-idea.html">http://stupidpythonideas.blogspot.com/2013/11/repr-eval-bad-idea.html</a> . It might be better (although not necessarily more secure) to use pickle or some other serialization strategy for this.
</p>
<p>Copyright (C) 2015 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2015/06/28/Serializing-an-Atoms-object-in-xml.org">org-mode source</a><p><p>Org-mode version = 8.2.10</p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <div class="after_post"><a href="http://jkitchin.github.io/blog/2015/06/28/Serializing-an-Atoms-object-in-xml#disqus_thread">Read and Post Comments</a></div>
  <hr class="interblog" />
  





<article>
  <div class="blog_post">
    <header>
      <div id="Using-the-Scopus-api-with-xml-output"></div>
      <h2 class="blog_post_title"><a href="/blog/2015/04/06/Using-the-Scopus-api-with-xml-output/" rel="bookmark" title="Permanent Link to Using the Scopus api with xml output">Using the Scopus api with xml output</a></h2>
      <p><small><span class="blog_post_date">Posted April 06, 2015 at 09:35 AM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/python/'>python</a>, <a href='/blog/category/xml/'>xml</a>, <a href='/blog/category/scopus/'>scopus</a></span> | tags: 
        | <a href="http://jkitchin.github.io/blog/2015/04/06/Using-the-Scopus-api-with-xml-output#disqus_thread">View Comments</a>
      </small></p>
    </header>
    <div class="post_prose">
      



<p>
According to <a href="http://api.elsevier.com/documentation/AbstractRetrievalAPI.wadl">http://api.elsevier.com/documentation/AbstractRetrievalAPI.wadl</a> , the native form of the Scopus abstract document is xml, and the full abstract cannot always be represented  as json. So&#x2026; I am going to just bite the bullet and learn to deal with the xml. This is a companion post to <a href="http://kitchingroup.cheme.cmu.edu/blog/2015/04/04/Making-highly-linked-bibliographies-from-the-Scopus-API/">http://kitchingroup.cheme.cmu.edu/blog/2015/04/04/Making-highly-linked-bibliographies-from-the-Scopus-API/</a> . Most of the code in this post gets tangled out to scopus_xml.py. I know it is not totally robust yet, but I have been using it for a lot of analysis, and it works pretty well so far.
</p>

<p>
This is another long post, with code that probably runs off screen. You can see the end result of what we do in this post here:  <a href="http://kitchingroup.cheme.cmu.edu/publications.html">http://kitchingroup.cheme.cmu.edu/publications.html</a> .
</p>


<p>
We start with a general function to return an xml elementtree. We build in some caching to avoid downloading things we already have; this is slow, and there are limits on how many times you can download.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">import</span> requests
<span style="color: #0000FF;">import</span> os
<span style="color: #0000FF;">import</span> xml.etree.ElementTree <span style="color: #0000FF;">as</span> ET

<span style="color: #0000FF;">from</span> my_scopus <span style="color: #0000FF;">import</span> MY_API_KEY

<span style="color: #0000FF;">def</span> <span style="color: #006699;">get_abstract_info</span>(EID, refresh=<span style="color: #D0372D;">False</span>):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #008000;">'Get and save the json data for EID.'</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">base</span> = <span style="color: #008000;">'scopus-xml/get_abstract_info'</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">if</span> <span style="color: #0000FF;">not</span> os.path.exists(base):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   os.makedirs(base)

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">fname</span> = <span style="color: #008000;">'{0}/{1}'</span>.<span style="color: #006FE0;">format</span>(base, EID)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">if</span> os.path.exists(fname) <span style="color: #0000FF;">and</span> <span style="color: #0000FF;">not</span> refresh:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">with</span> <span style="color: #006FE0;">open</span>(fname) <span style="color: #0000FF;">as</span> f:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">return</span> ET.fromstring(f.read())

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Otherwise retrieve and save results</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">url</span> = (<span style="color: #008000;">"http://api.elsevier.com/content/abstract/eid/"</span> + EID + <span style="color: #008000;">'?view=META_ABS'</span>)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">resp</span> = requests.get(url,
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   headers={<span style="color: #008000;">'Accept'</span>:<span style="color: #008000;">'application/xml'</span>,
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>    <span style="color: #008000;">'X-ELS-APIKey'</span>: MY_API_KEY})
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">with</span> <span style="color: #006FE0;">open</span>(fname, <span style="color: #008000;">'w'</span>) <span style="color: #0000FF;">as</span> f:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   f.write(resp.text.encode(<span style="color: #008000;">'utf-8'</span>))

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">results</span> = ET.fromstring(resp.text.encode(<span style="color: #008000;">'utf-8'</span>))

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">return</span> results
</pre>
</div>

<p>
Next, we do some introspection to see what we have.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">from</span> scopus_xml <span style="color: #0000FF;">import</span> *
<span style="color: #8D8D84;">#</span><span style="color: #8D8D84; font-style: italic;">results = get_abstract_info('2-s2.0-84896759135')</span>
<span style="color: #8D8D84;">#</span><span style="color: #8D8D84; font-style: italic;">results = get_abstract_info('2-s2.0-84924911828')</span>
<span style="color: #BA36A5;">results</span> = get_abstract_info(<span style="color: #008000;">'2-s2.0-84901638552'</span>)
<span style="color: #0000FF;">for</span> el <span style="color: #0000FF;">in</span> results:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">print</span> el.tag
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">for</span> el1 <span style="color: #0000FF;">in</span> el:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">print</span> <span style="color: #008000;">'  --&gt;'</span>,el1.tag
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">print</span>
</pre>
</div>

{http://www.elsevier.com/xml/svapi/abstract/dtd}coredata
  --> {http://prismstandard.org/namespaces/basic/2.0/}url
  --> {http://purl.org/dc/elements/1.1/}identifier
  --> {http://www.elsevier.com/xml/svapi/abstract/dtd}eid
  --> {http://prismstandard.org/namespaces/basic/2.0/}doi
  --> {http://purl.org/dc/elements/1.1/}title
  --> {http://prismstandard.org/namespaces/basic/2.0/}aggregationType
  --> {http://www.elsevier.com/xml/svapi/abstract/dtd}srctype
  --> {http://www.elsevier.com/xml/svapi/abstract/dtd}citedby-count
  --> {http://prismstandard.org/namespaces/basic/2.0/}publicationName
  --> {http://purl.org/dc/elements/1.1/}publisher
  --> {http://www.elsevier.com/xml/svapi/abstract/dtd}source-id
  --> {http://prismstandard.org/namespaces/basic/2.0/}issn
  --> {http://prismstandard.org/namespaces/basic/2.0/}volume
  --> {http://prismstandard.org/namespaces/basic/2.0/}startingPage
  --> {http://prismstandard.org/namespaces/basic/2.0/}endingPage
  --> {http://prismstandard.org/namespaces/basic/2.0/}pageRange
  --> {http://prismstandard.org/namespaces/basic/2.0/}coverDate
  --> {http://purl.org/dc/elements/1.1/}creator
  --> {http://purl.org/dc/elements/1.1/}description
  --> {http://www.elsevier.com/xml/svapi/abstract/dtd}link
  --> {http://www.elsevier.com/xml/svapi/abstract/dtd}link
  --> {http://www.elsevier.com/xml/svapi/abstract/dtd}link

{http://www.elsevier.com/xml/svapi/abstract/dtd}affiliation
  --> {http://www.elsevier.com/xml/svapi/abstract/dtd}affilname

{http://www.elsevier.com/xml/svapi/abstract/dtd}authors
  --> {http://www.elsevier.com/xml/svapi/abstract/dtd}author
  --> {http://www.elsevier.com/xml/svapi/abstract/dtd}author

<p>
Now, some examples for myself to see how to get things.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">from</span> scopus_xml <span style="color: #0000FF;">import</span> *

<span style="color: #BA36A5;">results</span> = get_abstract_info(<span style="color: #008000;">'2-s2.0-84901638552'</span>)

<span style="color: #BA36A5;">coredata</span> = results.find(<span style="color: #008000;">'./{http://www.elsevier.com/xml/svapi/abstract/dtd}coredata'</span>)

<span style="color: #0000FF;">print</span> coredata.find(<span style="color: #008000;">'{http://www.elsevier.com/xml/svapi/abstract/dtd}srctype'</span>).text
<span style="color: #0000FF;">print</span> coredata.find(<span style="color: #008000;">'{http://www.elsevier.com/xml/svapi/abstract/dtd}source-id'</span>).text

<span style="color: #8D8D84;">#</span><span style="color: #8D8D84; font-style: italic;">authors = results.find('./{http://www.elsevier.com/xml/svapi/abstract/dtd}authors')</span>
<span style="color: #8D8D84;">#</span><span style="color: #8D8D84; font-style: italic;">for author in results.find('./{http://www.elsevier.com/xml/svapi/abstract/dtd}authors'):</span>
<span style="color: #8D8D84;">#    </span><span style="color: #8D8D84; font-style: italic;">print author.find('{http://www.elsevier.com/xml/ani/common}indexed-name').text</span>

<span style="color: #0000FF;">for</span> creator <span style="color: #0000FF;">in</span> coredata.find(<span style="color: #008000;">'{http://purl.org/dc/elements/1.1/}creator'</span>):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">print</span> creator.attrib

<span style="color: #0000FF;">print</span> coredata.find(<span style="color: #008000;">'{http://purl.org/dc/elements/1.1/}title'</span>).text
<span style="color: #0000FF;">print</span> coredata.find(<span style="color: #008000;">'{http://prismstandard.org/namespaces/basic/2.0/}publicationName'</span>).text
<span style="color: #0000FF;">print</span> coredata.find(<span style="color: #008000;">'{http://prismstandard.org/namespaces/basic/2.0/}volume'</span>).text
<span style="color: #0000FF;">print</span> coredata.find(<span style="color: #008000;">'{http://prismstandard.org/namespaces/basic/2.0/}pageRange'</span>).text
<span style="color: #0000FF;">print</span> coredata.find(<span style="color: #008000;">'{http://prismstandard.org/namespaces/basic/2.0/}coverDate'</span>).text
<span style="color: #0000FF;">print</span> coredata.find(<span style="color: #008000;">'{http://www.elsevier.com/xml/svapi/abstract/dtd}citedby-count'</span>).text
<span style="color: #0000FF;">print</span> coredata.find(<span style="color: #008000;">'{http://prismstandard.org/namespaces/basic/2.0/}doi'</span>).text

<span style="color: #0000FF;">for</span> link <span style="color: #0000FF;">in</span> coredata.findall(<span style="color: #008000;">'{http://www.elsevier.com/xml/svapi/abstract/dtd}link'</span>):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">if</span> link.attrib[<span style="color: #008000;">'rel'</span>] == <span style="color: #008000;">'scopus'</span>:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">print</span> link.attrib[<span style="color: #008000;">'href'</span>]
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">else</span>:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">print</span> link.attrib[<span style="color: #008000;">'href'</span>]

<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">alternative xpath to get the link</span>
<span style="color: #0000FF;">print</span> coredata.find(<span style="color: #008000;">"./{http://www.elsevier.com/xml/svapi/abstract/dtd}link/[@rel='scopus']"</span>).attrib[<span style="color: #008000;">'href'</span>]
</pre>
</div>

j
22746
{'auid': '55569461200', 'seq': '1'}
Relating the electronic structure and reactivity of the 3d transition metal monoxide surfaces
Catalysis Communications
52
60-64
2014-07-05
2
10.1016/j.catcom.2013.10.028
http://api.elsevier.com/content/abstract/scopus_id/84901638552
http://www.scopus.com/inward/record.url?partnerID=HzOxMe3b&scp=84901638552&origin=inward
http://api.elsevier.com/content/search/scopus?query=refeid%282-s2.0-84901638552%29
http://www.scopus.com/inward/record.url?partnerID=HzOxMe3b&scp=84901638552&origin=inward

<p>
That is basically it. In the next sections, we basically recreate the previous functions from scopus.py using the xml data.
</p>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Authors</h2>
<div class="outline-text-2" id="text-1">
<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">def</span> <span style="color: #006699;">get_author_link</span>(EID):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">results</span> = get_abstract_info(EID)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">authors</span> = results.find(<span style="color: #008000;">'./{http://www.elsevier.com/xml/svapi/abstract/dtd}authors'</span>)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">if</span> authors <span style="color: #0000FF;">is</span> <span style="color: #D0372D;">None</span>:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">return</span> <span style="color: #008000;">'No authors found'</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">s</span> = []

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">for</span> author <span style="color: #0000FF;">in</span> authors:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">name</span> = author.find(<span style="color: #008000;">'{http://www.elsevier.com/xml/ani/common}indexed-name'</span>).text
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">auid</span> = author.attrib[<span style="color: #008000;">'auid'</span>]
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">s</span> += [<span style="color: #008000;">'&lt;a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&amp;authorId={0}"&gt;{1}&lt;/a&gt;'</span>.<span style="color: #006FE0;">format</span>(auid, name)]

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">return</span> <span style="color: #008000;">', '</span>.join(s)
</pre>
</div>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">from</span> scopus_xml <span style="color: #0000FF;">import</span> *
<span style="color: #0000FF;">print</span> get_author_link(<span style="color: #008000;">'2-s2.0-84896759135'</span>)
<span style="color: #0000FF;">print</span> get_author_link(<span style="color: #008000;">'2-s2.0-84901638552'</span>)
</pre>
</div>
<pre class="example">
&lt;a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&amp;authorId=8724572500"&gt;Thompson R.L.&lt;/a&gt;, &lt;a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&amp;authorId=22981503200"&gt;Shi W.&lt;/a&gt;, &lt;a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&amp;authorId=6506329719"&gt;Albenze E.&lt;/a&gt;, &lt;a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&amp;authorId=23004637900"&gt;Kusuma V.A.&lt;/a&gt;, &lt;a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&amp;authorId=55676869000"&gt;Hopkinson D.&lt;/a&gt;, &lt;a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&amp;authorId=7003584159"&gt;Damodaran K.&lt;/a&gt;, &lt;a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&amp;authorId=55005205100"&gt;Lee A.S.&lt;/a&gt;, &lt;a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&amp;authorId=7004212771"&gt;Kitchin J.R.&lt;/a&gt;, &lt;a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&amp;authorId=6701399651"&gt;Luebke D.R.&lt;/a&gt;, &lt;a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&amp;authorId=24081524800"&gt;Nulwala H.&lt;/a&gt;
&lt;a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&amp;authorId=55569461200"&gt;Xu Z.&lt;/a&gt;, &lt;a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&amp;authorId=7004212771"&gt;Kitchin J.R.&lt;/a&gt;
</pre>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Journal</h2>
<div class="outline-text-2" id="text-2">
<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">def</span> <span style="color: #006699;">get_journal_link</span>(EID):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">results</span> = get_abstract_info(EID)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">coredata</span> = results.find(<span style="color: #008000;">'./{http://www.elsevier.com/xml/svapi/abstract/dtd}coredata'</span>)

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">journal</span> = coredata.find(<span style="color: #008000;">'{http://prismstandard.org/namespaces/basic/2.0/}publicationName'</span>).text
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">sid</span> = coredata.find(<span style="color: #008000;">'{http://www.elsevier.com/xml/svapi/abstract/dtd}source-id'</span>).text
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">s</span> = <span style="color: #008000;">'&lt;a href="http://www.scopus.com/source/sourceInfo.url?sourceId={sid}"&gt;{journal}&lt;/a&gt;'</span>

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">return</span> s.<span style="color: #006FE0;">format</span>(sid=sid, journal=journal)
</pre>
</div>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">from</span> scopus_xml <span style="color: #0000FF;">import</span> *
<span style="color: #0000FF;">print</span> get_journal_link(<span style="color: #008000;">'2-s2.0-84901638552'</span>)
</pre>
</div>
<pre class="example">
&lt;a href="http://www.scopus.com/source/sourceInfo.url?sourceId=22746"&gt;Catalysis Communications&lt;/a&gt;
</pre>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> DOI link</h2>
<div class="outline-text-2" id="text-3">
<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">def</span> <span style="color: #006699;">get_doi_link</span>(EID):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">results</span> = get_abstract_info(EID)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">coredata</span> = results.find(<span style="color: #008000;">'./{http://www.elsevier.com/xml/svapi/abstract/dtd}coredata'</span>)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">doi</span> = coredata.find(<span style="color: #008000;">'{http://prismstandard.org/namespaces/basic/2.0/}doi'</span>)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">if</span> doi <span style="color: #0000FF;">is</span> <span style="color: #0000FF;">not</span> <span style="color: #D0372D;">None</span>: <span style="color: #BA36A5;">doi</span> = doi.text
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">s</span> = <span style="color: #008000;">'&lt;a href="http://dx.doi.org/{doi}"&gt;doi:{doi}&lt;/a&gt;'</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">return</span> s.<span style="color: #006FE0;">format</span>(doi=doi)
</pre>
</div>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">from</span> scopus_xml <span style="color: #0000FF;">import</span> *
<span style="color: #0000FF;">print</span> get_doi_link(<span style="color: #008000;">'2-s2.0-84901638552'</span>)
</pre>
</div>

<a href="http://dx.doi.org/10.1016/j.catcom.2013.10.028">doi:10.1016/j.catcom.2013.10.028</a>
</div>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> Abstract link</h2>
<div class="outline-text-2" id="text-4">
<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">def</span> <span style="color: #006699;">get_abstract_link</span>(EID):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">results</span> = get_abstract_info(EID)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">coredata</span> = results.find(<span style="color: #008000;">'./{http://www.elsevier.com/xml/svapi/abstract/dtd}coredata'</span>)

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">data</span> = get_abstract_info(EID)

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">title</span> = coredata.find(<span style="color: #008000;">'{http://purl.org/dc/elements/1.1/}title'</span>).text.encode(<span style="color: #008000;">'utf-8'</span>)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">link</span> = coredata.find(<span style="color: #008000;">"./{http://www.elsevier.com/xml/svapi/abstract/dtd}link/[@rel='scopus']"</span>).attrib[<span style="color: #008000;">'href'</span>].encode(<span style="color: #008000;">'utf-8'</span>)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">s</span> = <span style="color: #008000;">'&lt;a href="{link}"&gt;{title}&lt;/a&gt;'</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">return</span> s.<span style="color: #006FE0;">format</span>(link=link, title=title)
</pre>
</div>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">from</span> scopus_xml <span style="color: #0000FF;">import</span> *
<span style="color: #0000FF;">print</span> get_abstract_link(<span style="color: #008000;">'2-s2.0-84901638552'</span>)
</pre>
</div>

<a href="http://www.scopus.com/inward/record.url?partnerID=HzOxMe3b&scp=84901638552&origin=inward">Relating the electronic structure and reactivity of the 3d transition metal monoxide surfaces</a>
</div>
</div>

<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5"><span class="section-number-2">5</span> Citation image</h2>
<div class="outline-text-2" id="text-5">
<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">def</span> <span style="color: #006699;">get_cite_img_link</span>(EID):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">results</span> = get_abstract_info(EID)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">coredata</span> = results.find(<span style="color: #008000;">'./{http://www.elsevier.com/xml/svapi/abstract/dtd}coredata'</span>)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">doi</span> = coredata.find(<span style="color: #008000;">'{http://prismstandard.org/namespaces/basic/2.0/}doi'</span>)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">if</span> doi <span style="color: #0000FF;">is</span> <span style="color: #0000FF;">not</span> <span style="color: #D0372D;">None</span>: <span style="color: #BA36A5;">doi</span> = doi.text
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">s</span> = <span style="color: #008000;">'&lt;img src="http://api.elsevier.com/content/abstract/citation-count?doi={doi}&amp;httpAccept=image/jpeg&amp;apiKey={apikey}"&gt;&lt;/img&gt;'</span>

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">return</span> s.<span style="color: #006FE0;">format</span>(doi=doi, apikey=MY_API_KEY, cite_link=<span style="color: #D0372D;">None</span>)
</pre>
</div>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">from</span> scopus_xml <span style="color: #0000FF;">import</span> *
<span style="color: #0000FF;">print</span> get_cite_img_link(<span style="color: #008000;">'2-s2.0-84901638552'</span>)
</pre>
</div>
<img src="http://api.elsevier.com/content/abstract/citation-count?doi=10.1016/j.catcom.2013.10.028&httpAccept=image/jpeg&apiKey=5cd06d8a7df3de986bf3d0cd9971a47c"></img>
</div>
</div>

<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6"><span class="section-number-2">6</span> Getting it all together</h2>
<div class="outline-text-2" id="text-6">
<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">def</span> <span style="color: #006699;">get_html_citation</span>(EID):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">results</span> = get_abstract_info(EID)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">coredata</span> = results.find(<span style="color: #008000;">'./{http://www.elsevier.com/xml/svapi/abstract/dtd}coredata'</span>)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">s</span> = <span style="color: #008000;">'{authors}, &lt;i&gt;{title}&lt;/i&gt;, {journal}, &lt;b&gt;{volume}{issue}&lt;/b&gt;, {pages}, ({year}), {doi}, {cites}.'</span>

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">issue</span> = <span style="color: #008000;">''</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">if</span> coredata.find(<span style="color: #008000;">'{http://prismstandard.org/namespaces/basic/2.0/}issueIdentifier'</span>) <span style="color: #0000FF;">is</span> <span style="color: #0000FF;">not</span> <span style="color: #D0372D;">None</span>:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">issue</span> = <span style="color: #008000;">'({})'</span>.<span style="color: #006FE0;">format</span>(<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   coredata.find(<span style="color: #008000;">'{http://prismstandard.org/namespaces/basic/2.0/}issueIdentifier'</span>).text)

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">volume</span> = coredata.find(<span style="color: #008000;">'{http://prismstandard.org/namespaces/basic/2.0/}volume'</span>)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">if</span> volume <span style="color: #0000FF;">is</span> <span style="color: #0000FF;">not</span> <span style="color: #D0372D;">None</span>:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">volume</span> = coredata.find(<span style="color: #008000;">'{http://prismstandard.org/namespaces/basic/2.0/}volume'</span>).text
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">else</span>:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">volume</span> = <span style="color: #008000;">'None'</span>

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">pages</span> = <span style="color: #008000;">''</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">if</span> coredata.find(<span style="color: #008000;">'{http://prismstandard.org/namespaces/basic/2.0/}pageRange'</span>) <span style="color: #0000FF;">is</span> <span style="color: #0000FF;">not</span> <span style="color: #D0372D;">None</span>:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">pages</span> = <span style="color: #008000;">'p. '</span> + coredata.find(<span style="color: #008000;">'{http://prismstandard.org/namespaces/basic/2.0/}pageRange'</span>).text
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">elif</span> coredata.find(<span style="color: #008000;">'{http://www.elsevier.com/xml/svapi/abstract/dtd}article-number'</span>) <span style="color: #0000FF;">is</span> <span style="color: #0000FF;">not</span> <span style="color: #D0372D;">None</span>:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">pages</span> = coredata.find(<span style="color: #008000;">'{http://www.elsevier.com/xml/svapi/abstract/dtd}article-number'</span>).text
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">else</span>:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">pages</span> = <span style="color: #008000;">'no pages found'</span>


<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #BA36A5;">year</span> = coredata.find(<span style="color: #008000;">'{http://prismstandard.org/namespaces/basic/2.0/}coverDate'</span>).text

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">return</span> s.<span style="color: #006FE0;">format</span>(authors=get_author_link(EID),
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   title=get_abstract_link(EID),
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   journal=get_journal_link(EID),
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   volume=volume,
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   issue=issue,
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   pages=pages,
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   year=year,
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   doi=get_doi_link(EID),
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   cites=get_cite_img_link(EID))
</pre>
</div>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">from</span> scopus_xml <span style="color: #0000FF;">import</span> *
<span style="color: #0000FF;">print</span> <span style="color: #008000;">'&lt;ol&gt;'</span>
<span style="color: #0000FF;">print</span> <span style="color: #008000;">'&lt;li&gt;'</span>,get_html_citation(<span style="color: #008000;">'2-s2.0-84896759135'</span>),<span style="color: #008000;">'&lt;/li&gt;'</span>
<span style="color: #0000FF;">print</span>
<span style="color: #0000FF;">print</span> <span style="color: #008000;">'&lt;li&gt;'</span>,get_html_citation(<span style="color: #008000;">'2-s2.0-84924911828'</span>),<span style="color: #008000;">'&lt;/li&gt;'</span>
<span style="color: #0000FF;">print</span>
<span style="color: #0000FF;">print</span> <span style="color: #008000;">'&lt;li&gt;'</span>,get_html_citation(<span style="color: #008000;">'2-s2.0-84901638552'</span>),<span style="color: #008000;">'&lt;/li&gt;'</span>
<span style="color: #0000FF;">print</span> <span style="color: #008000;">'&lt;/ol&gt;'</span>
</pre>
</div>
<ol>
<li> <a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=8724572500">Thompson R.L.</a>, <a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=22981503200">Shi W.</a>, <a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=6506329719">Albenze E.</a>, <a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=23004637900">Kusuma V.A.</a>, <a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=55676869000">Hopkinson D.</a>, <a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=7003584159">Damodaran K.</a>, <a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=55005205100">Lee A.S.</a>, <a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=7004212771">Kitchin J.R.</a>, <a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=6701399651">Luebke D.R.</a>, <a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=24081524800">Nulwala H.</a>, <i><a href="http://www.scopus.com/inward/record.url?partnerID=HzOxMe3b&scp=84896759135&origin=inward">Probing the effect of electron donation on CO2 absorbing 1,2,3-triazolide ionic liquids</a></i>, <a href="http://www.scopus.com/source/sourceInfo.url?sourceId=21100199840">RSC Advances</a>, <b>4(25)</b>, p. 12748-12755, (2014-03-17), <a href="http://dx.doi.org/10.1039/c3ra47097k">doi:10.1039/c3ra47097k</a>, <img src="http://api.elsevier.com/content/abstract/citation-count?doi=10.1039/c3ra47097k&httpAccept=image/jpeg&apiKey=5cd06d8a7df3de986bf3d0cd9971a47c"></img>. </li>

<li> <a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=55569461200">Xu Z.</a>, <a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=7004212771">Kitchin J.R.</a>, <i><a href="http://www.scopus.com/inward/record.url?partnerID=HzOxMe3b&scp=84924911828&origin=inward">Relationships between the surface electronic and chemical properties of doped 4d and 5d late transition metal dioxides</a></i>, <a href="http://www.scopus.com/source/sourceInfo.url?sourceId=28134">Journal of Chemical Physics</a>, <b>142(10)</b>, 104703, (2015-03-14), <a href="http://dx.doi.org/10.1063/1.4914093">doi:10.1063/1.4914093</a>, <img src="http://api.elsevier.com/content/abstract/citation-count?doi=10.1063/1.4914093&httpAccept=image/jpeg&apiKey=5cd06d8a7df3de986bf3d0cd9971a47c"></img>. </li>

<li> <a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=55569461200">Xu Z.</a>, <a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&authorId=7004212771">Kitchin J.R.</a>, <i><a href="http://www.scopus.com/inward/record.url?partnerID=HzOxMe3b&scp=84901638552&origin=inward">Relating the electronic structure and reactivity of the 3d transition metal monoxide surfaces</a></i>, <a href="http://www.scopus.com/source/sourceInfo.url?sourceId=22746">Catalysis Communications</a>, <b>52</b>, p. 60-64, (2014-07-05), <a href="http://dx.doi.org/10.1016/j.catcom.2013.10.028">doi:10.1016/j.catcom.2013.10.028</a>, <img src="http://api.elsevier.com/content/abstract/citation-count?doi=10.1016/j.catcom.2013.10.028&httpAccept=image/jpeg&apiKey=5cd06d8a7df3de986bf3d0cd9971a47c"></img>. </li>
</ol>
</div>
</div>


<div id="outline-container-sec-7" class="outline-2">
<h2 id="sec-7"><span class="section-number-2">7</span> Finally getting my documents</h2>
<div class="outline-text-2" id="text-7">
<p>
Here we get the EIDs from a search query. We use these in the next section to get a new bibliography.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">import</span> requests
<span style="color: #0000FF;">import</span> json
<span style="color: #0000FF;">from</span> my_scopus <span style="color: #0000FF;">import</span> MY_API_KEY
<span style="color: #BA36A5;">resp</span> = requests.get(<span style="color: #008000;">"http://api.elsevier.com/content/search/scopus?query=AU-ID(7004212771)&amp;field=eid,aggregationType&amp;count=100"</span>,
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   headers={<span style="color: #008000;">'Accept'</span>:<span style="color: #008000;">'application/json'</span>,
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>    <span style="color: #008000;">'X-ELS-APIKey'</span>: MY_API_KEY})

<span style="color: #BA36A5;">results</span> = resp.json()

<span style="color: #0000FF;">return</span> [[<span style="color: #006FE0;">str</span>(r[<span style="color: #008000;">'eid'</span>]), <span style="color: #006FE0;">str</span>(r[<span style="color: #008000;">'prism:aggregationType'</span>])] <span style="color: #0000FF;">for</span> r <span style="color: #0000FF;">in</span> results[<span style="color: #008000;">'search-results'</span>][<span style="color: #008000;">"entry"</span>] <span style="color: #0000FF;">if</span> <span style="color: #006FE0;">str</span>(r[<span style="color: #008000;">'prism:aggregationType'</span>]) == <span style="color: #008000;">'Journal'</span>]
</pre>
</div>


<table id="my-eids" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">2-s2.0-84924911828</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84923164062</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84924778427</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84924130725</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84901638552</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84898934670</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84896759135</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84896380535</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84896585411</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84916613197</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84908637059</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84880986072</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84881394200</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84873706643</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84876703352</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84867809683</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84864914806</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84865730756</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84864592302</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84863684845</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84866142469</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-84861127526</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-80052944171</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-80051809046</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-79953651013</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-79952860396</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-77956568341</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-77954747189</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-77956693843</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-77949916234</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-77955464573</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-72049114200</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-73149124752</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-73149109096</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-67449106405</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-63649114440</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-60849113132</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-58649114498</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-40949100780</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-33750804660</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-20544467859</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-15744396507</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-9744261716</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-13444307808</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-3042820285</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-2942640180</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-0142023762</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-0141924604</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-0037368024</td>
<td class="left">Journal</td>
</tr>

<tr>
<td class="left">2-s2.0-0037197884</td>
<td class="left">Journal</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-sec-8" class="outline-2">
<h2 id="sec-8"><span class="section-number-2">8</span> And my html bibliography</h2>
<div class="outline-text-2" id="text-8">
<p>
This generates my blog bibliography page..
</p>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #0000FF;">from</span> scopus_xml <span style="color: #0000FF;">import</span> *

<span style="color: #0000FF;">import</span> requests
<span style="color: #0000FF;">import</span> json
<span style="color: #0000FF;">from</span> my_scopus <span style="color: #0000FF;">import</span> MY_API_KEY
<span style="color: #BA36A5;">resp</span> = requests.get(<span style="color: #008000;">"http://api.elsevier.com/content/search/scopus?query=AU-ID(7004212771)&amp;field=eid,aggregationType&amp;count=100"</span>,
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   headers={<span style="color: #008000;">'Accept'</span>:<span style="color: #008000;">'application/json'</span>,
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>    <span style="color: #008000;">'X-ELS-APIKey'</span>: MY_API_KEY})

<span style="color: #BA36A5;">results</span> = resp.json()

<span style="color: #BA36A5;">data</span> = [[<span style="color: #006FE0;">str</span>(r[<span style="color: #008000;">'eid'</span>]), <span style="color: #006FE0;">str</span>(r[<span style="color: #008000;">'prism:aggregationType'</span>])] <span style="color: #0000FF;">for</span> r <span style="color: #0000FF;">in</span>
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   results[<span style="color: #008000;">'search-results'</span>][<span style="color: #008000;">"entry"</span>] <span style="color: #0000FF;">if</span> <span style="color: #006FE0;">str</span>(r[<span style="color: #008000;">'prism:aggregationType'</span>]) == <span style="color: #008000;">'Journal'</span>]


<span style="color: #0000FF;">with</span> <span style="color: #006FE0;">open</span>(<span style="color: #008000;">'../publications.html.mako'</span>, <span style="color: #008000;">'w'</span>) <span style="color: #0000FF;">as</span> f:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   f.write(<span style="color: #008000;">'''&lt;%inherit file="_templates/site.mako" /&gt;</span>
<span style="color: #008000;">&lt;article class="page_box"&gt;</span>
<span style="color: #008000;">&lt;%self:filter chain="markdown"&gt;</span>

<span style="color: #008000;">&lt;h1&gt;Online collections of our work&lt;/h1&gt;</span>
<span style="color: #008000;">Pick your favorite:</span>
<span style="color: #008000;">&lt;ul&gt;</span>
<span style="color: #008000;">&lt;li&gt;&lt;a href="http://orcid.org/0000-0003-2625-9232"&gt;orcid:0000-0003-2625-9232&lt;/a&gt;&lt;/li&gt;</span>

<span style="color: #008000;">&lt;li&gt;&lt;a href="http://www.researcherid.com/rid/A-2363-2010"&gt;researcherid:A-2363-2010&lt;/a&gt;&lt;/li&gt;</span>

<span style="color: #008000;">&lt;li&gt;&lt;a href="http://www.scopus.com/authid/detail.url?origin=AuthorProfile&amp;authorId=7004212771"&gt;scopusid:7004212771&lt;/a&gt;&lt;/li&gt;</span>

<span style="color: #008000;">&lt;li&gt;&lt;a href="https://scholar.google.com/citations?user=jD_4h7sAAAAJ"&gt;Google Scholar&lt;/a&gt;&lt;/li&gt;</span>

<span style="color: #008000;">&lt;li&gt;&lt;a href="https://www.researchgate.net/profile/John_Kitchin"&gt;Research Gate&lt;/a&gt;&lt;/li&gt;</span>

<span style="color: #008000;">&lt;li&gt;&lt;a href="https://www.growkudos.com/profiles/40205"&gt;Kudos&lt;/a&gt;&lt;/li&gt;</span>
<span style="color: #008000;">&lt;/ul&gt;</span>

<span style="color: #008000;">&lt;h1&gt;Publications&lt;/h1&gt;</span>
<span style="color: #008000;">The authors are linked to their Scopus page, the title linked to the Scopus abstract, the journal linked to the Scopus journal page, and the DOI is linked to http://dx.doi.org which normally redirects you to the journal page.</span>

<span style="color: #008000;">&lt;ol reversed="reversed"&gt;</span>
<span style="color: #008000;">'''</span>)

<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">for</span> eid,<span style="color: #006FE0;">type</span> <span style="color: #0000FF;">in</span> data:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   f.write(<span style="color: #008000;">'&lt;li&gt;{}&lt;/li&gt;'</span>.<span style="color: #006FE0;">format</span>(get_html_citation(eid)))
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   f.write(<span style="color: #008000;">'''&lt;/ol&gt;</span>

<span style="color: #008000;">&lt;/%self:filter&gt;</span>
<span style="color: #008000;">&lt;/article&gt;</span>
<span style="color: #008000;">'''</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-9" class="outline-2">
<h2 id="sec-9"><span class="section-number-2">9</span> Summary</h2>
<div class="outline-text-2" id="text-9">
<p>
The XML format is not that intuitive to me. It takes some practice writing robust code, e.g. sometimes the find command does not find anything, and then there is not text attribute to get, so you should check for success on finding things. Also, some text is unicode, and you have to take care to encode it, which my library does not do uniformly. Finally, not all journals have things like volume or issue. My formatting code is not super flexible, so these bibliography entries show None in them occasionally. Still, it is not too bad, and this enables a lot of analysis of your publications, as well as displaying them in different ways. See the result of this page here: <a href="http://kitchingroup.cheme.cmu.edu/publications.html">http://kitchingroup.cheme.cmu.edu/publications.html</a> 
</p>
</div>
</div>
<p>Copyright (C) 2015 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2015/04/06/Using-the-Scopus-api-with-xml-output.org">org-mode source</a><p><p>Org-mode version = 8.2.10</p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <div class="after_post"><a href="http://jkitchin.github.io/blog/2015/04/06/Using-the-Scopus-api-with-xml-output#disqus_thread">Read and Post Comments</a></div>
  <hr class="interblog" />

          </div>
          <div id="sidebar" class="grid_4">
            <aside>
<section>
<script>
  (function() {
    var cx = '002533177287215655227:l7uvu35ssbc';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</section>

<section>
    <h1 class="post_header_gradient theme_font">Twitter</h1>
    <a class="twitter-timeline" href="https://twitter.com/johnkitchin" data-widget-id="545217643582881792">Tweets by @johnkitchin</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</section>


  <section>
    <h1 class="post_header_gradient theme_font">Links</h1>
    <ul>
    <li><a href="http://enthought.com">Enthought Python</a></li>
    <li><a href="/pycse">Pycse</a></li>
    <li><a href="/dft-book">DFT-book</a></li>
    </ul>
  </section>

  <section>
    <h1 class="post_header_gradient theme_font">Latest Posts</h1>
    <ul>
      <li><a href="/blog/2015/06/29/Getting-Emacs-to-read-to-me/">Getting Emacs to read to me</a></li>
      <li><a href="/blog/2015/06/28/New-NSF-Grant-funded/">New NSF Grant funded</a></li>
      <li><a href="/blog/2015/06/28/Serializing-an-Atoms-object-in-xml/">Serializing an Atoms object in xml</a></li>
      <li><a href="/blog/2015/06/26/Clickable-text-for-learning-environments/">Clickable text for learning environments</a></li>
      <li><a href="/blog/2015/06/25/Integrating-swish-e-and-Emacs/">Integrating swish-e and Emacs</a></li>
    </ul>
  </section>

<section>
<h1 class="post_header_gradient theme_font">Latest GitHub Repos</h1>
  <a href="https://github.com/jkitchin">@jkitchin</a> on GitHub.
  <ul id="my-github-projects">
        <li class="loading">Status updating&#8230;</li>
  </ul>

</section>
</aside>

          </div>
          <div class="clear"></div>
        </div>
      </div>
      
<footer>
  <div id="footer" class="grid_12">
    <div class="grid_8">
      <p>
        <a href="/blog/feed/index.xml">RSS</a>
        <a href="http://kitchinresearchgroup.disqus.com/latest.rss">Comments RSS Feed</a>.
      </p>
    </div>
    <div class="grid_4" id="credits">
      <p>
        Copyright 2015
        John Kitchin
      </p>
      <p>
        Powered by <a href="http://www.blogofile.com">Blogofile</a>
      </p>
    </div>
  </div>
</footer>

    </div>
      <script src="//ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/js/libs/jquery-1.5.1.min.js"%3E%3C/script%3E'))</script>
  <script src="/js/plugins.js"></script>
  <script src="/js/script.js"></script>
  <script src="/js/jquery.tweet.js"></script>  
  <script src="/js/site.js"></script>
  <!--[if lt IE 7 ]>
  <script src="js/libs/dd_belatedpng.js"></script>
  <script> DD_belatedPNG.fix('img, .png_bg');</script>
  <![endif]-->
  <script>
      var _gaq=[['_setAccount','UA-35731398-1'],['_trackPageview']];
      (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.async=1;
      g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
      s.parentNode.insertBefore(g,s)}(document,'script'));
  </script>
  <script>
  (function() {
      var links = document.getElementsByTagName('a');
      var query = '?';
      for(var i = 0; i < links.length; i++) {
          if(links[i].href.indexOf('#disqus_thread') >= 0) {
              query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&';
          }
      }
      document.write('<script charset="utf-8" type="text/javascript" src="http://disqus.com/forums/kitchinresearchgroup/get_num_replies.js' + query + '"></' + 'script>');
  })();
  </script>

  </body>
</html>






<script src="http://ajax.microsoft.com/ajax/jquery/jquery-1.4.2.min.js" type="text/javascript"></script>
<script src="/js/git.js" type="text/javascript"></script>
<script type="text/javascript">
    $(function() {
     $("#my-github-projects").loadRepositories("jkitchin");
    });
</script>



