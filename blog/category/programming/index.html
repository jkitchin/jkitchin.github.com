

<!doctype html>
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Kitchin Research Group: programming</title>
  <meta name="google-site-verification" content="CGcacJdHc2YoZyI0Vey9XRA5qwhhFDzThKJezbRFcJ4" />
  <meta name="description" content="Chemical Engineering at Carnegie Mellon University">
  <meta name="author" content="John Kitchin">
  <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="/blog/feed" />
  <link rel="alternate" type="application/atom+xml" title="Atom 1.0" href="/blog/feed/atom" />
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/img/apple-touch-icon.png">

  <link rel="stylesheet" href="/css/base.css?v=1">
  <link rel="stylesheet" href="/css/grid.css?v=1">
  <link rel="stylesheet" media="handheld" href="/css/handheld.css?v=1">
  <link rel="stylesheet" href="/css/pygments_murphy.css" type="text/css" />

  <script src="/js/libs/modernizr-1.7.min.js"></script>
<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
  <link rel="stylesheet" href="/themes/theme1/style.css?v=1">
<link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>

</head>
  <body>
    <div id="container" class="container container_12">
      <div id="main" role="main">
        <div id="main_block">
          <header>
<div id="header" class="header_gradient theme_font">
<table><tr><td>
    <h1><a href="/">The Kitchin Research Group</a></h1>
    <h2>Chemical Engineering at Carnegie Mellon University</h2>
</td>
<td colspan=100%><div style="float:right;width:100%;text-align:right;"> <span id='badgeCont737515' style='width:126px'><script src='http://labs.researcherid.com/mashlets?el=badgeCont737515&mashlet=badge&showTitle=false&className=a&rid=A-2363-2010'></script></span></div>
</td></tr>
</table>
</div>
  <div id="navigation" class="grid_12">

    <ul class="theme_font">
      <li><a href="/blog"
             class="">Blog</a></li>

      <li><a href="/blog/archive"
             class="">Archives</a></li>

      <li><a href="/publications.html">Publications</a></li>
      <li><a href="/group.html">Group</a></li>

      <li><a href="/research.html"
             class="">Research</a></li>

      <li><a href="/categories.html"
             class="">Categories</a></li>

      <li><a href="/about.html"
             class="">About us</a></li>

      <li><a href="/subscribe.html">Subscribe</a></li>

    </ul>
  </div>
</header>

          <div id="prose_block" class="grid_8">
            
  





<article>
  <div class="blog_post">
    <header>
      <div id="for-else-loops"></div>
      <h2 class="blog_post_title"><a href="/blog/2013/07/08/for-else-loops/" rel="bookmark" title="Permanent Link to for-else loops">for-else loops</a></h2>
      <p><small><span class="blog_post_date">Posted July 08, 2013 at 09:12 PM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/programming/'>programming</a></span> | tags: 
        | <a href="http://jkitchin.github.io/blog/2013/07/08/for-else-loops#disqus_thread">View Comments</a>
      <p><small><span class="blog_post_date">Updated July 08, 2013 at 09:12 PM</span>
      </small></p>
    </header>
    <div class="post_prose">
      




<p>
I just learned of for/else loops (<a href="http://pyvideo.org/video/1780/transforming-code-into-beautiful-idiomatic-pytho">http://pyvideo.org/video/1780/transforming-code-into-beautiful-idiomatic-pytho</a>). They are interesting enough to write about. The idea is that there is an "else" clause of a for loop that is only executed if the loop completes without a break statement. The use case is to avoid using a flag. For example, let us say we want to loop through a list and determine if a number exists. Here is a typical way you might think to do it:
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #8b0000;">def</span> <span style="color: #8b2323;">f</span>():
    flag = <span style="color: #8b0000;">False</span>
    <span style="color: #8b0000;">for</span> i <span style="color: #8b0000;">in</span> <span style="color: #8b0000;">range</span>(10):
        <span style="color: #8b0000;">if</span> i == 5:
            flag = <span style="color: #8b0000;">True</span>
            <span style="color: #8b0000;">break</span>

    <span style="color: #8b0000;">return</span> flag

<span style="color: #8b0000;">print</span> f()
</pre>
</div>

<pre class="example">
True
</pre>

<p>
A for/else loop does this in a different way. Essentially, the else clause runs if the loop completes, otherwise if the break occurs it is skipped. In this example the break statement occurs, so the else statement is skipped.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #8b0000;">def</span> <span style="color: #8b2323;">f</span>():
    <span style="color: #8b0000;">for</span> i <span style="color: #8b0000;">in</span> <span style="color: #8b0000;">range</span>(10):
        <span style="color: #8b0000;">if</span> i == 5:
            <span style="color: #8b0000;">break</span>
    <span style="color: #8b0000;">else:</span>
        <span style="color: #8b0000;">return</span> <span style="color: #8b0000;">False</span>

    <span style="color: #8b0000;">return</span> <span style="color: #8b0000;">True</span>

<span style="color: #8b0000;">print</span> f()
</pre>
</div>

<pre class="example">
True
</pre>

<p>
In this example no break statement occurs, so the else clause is executed.
</p>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #8b0000;">def</span> <span style="color: #8b2323;">f</span>():
    <span style="color: #8b0000;">for</span> i <span style="color: #8b0000;">in</span> <span style="color: #8b0000;">range</span>(10):
        <span style="color: #8b0000;">if</span> i == 15:
            <span style="color: #8b0000;">break</span>
    <span style="color: #8b0000;">else:</span>
        <span style="color: #8b0000;">return</span> <span style="color: #8b0000;">False</span>

    <span style="color: #8b0000;">return</span> <span style="color: #8b0000;">True</span>

<span style="color: #8b0000;">print</span> f()
</pre>
</div>

<pre class="example">
False
</pre>

<p>
It is hard to say if this is an improvement over the flag. They both use the same number of lines of code, and I find it debatable if the else statement is intuitive in its meaning. Maybe if there were multiple potential breaks this would be better.
</p>

<p>
Needless to say, go watch <a href="http://pyvideo.org/video/1780/transforming-code-into-beautiful-idiomatic-pytho">http://pyvideo.org/video/1780/transforming-code-into-beautiful-idiomatic-pytho</a>. You will learn a lot of interesting things!
</p>
<p>Copyright (C) 2013 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2013/07/08/for-else-loops.org">org-mode source</a><p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <div class="after_post"><a href="http://jkitchin.github.io/blog/2013/07/08/for-else-loops#disqus_thread">Read and Post Comments</a></div>
  <hr class="interblog" />
  





<article>
  <div class="blog_post">
    <header>
      <div id="The-and-or-trick-in-python"></div>
      <h2 class="blog_post_title"><a href="/blog/2013/07/07/The-and-or-trick-in-python/" rel="bookmark" title="Permanent Link to The and-or trick in python">The and-or trick in python</a></h2>
      <p><small><span class="blog_post_date">Posted July 07, 2013 at 08:38 AM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/logic/'>logic</a>, <a href='/blog/category/programming/'>programming</a></span> | tags: 
        | <a href="http://jkitchin.github.io/blog/2013/07/07/The-and-or-trick-in-python#disqus_thread">View Comments</a>
      <p><small><span class="blog_post_date">Updated July 08, 2013 at 09:03 AM</span>
      </small></p>
    </header>
    <div class="post_prose">
      



<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. Using more modern python syntax than the and-or trick</a></li>
<li><a href="#sec-2">2. using defaultdict</a></li>
</ul>
</div>
</div>

<p>
The boolean logic commands <code>and</code> and <code>or</code> have return values in python. Let us first review briefly what these operators do by examples. The typical usage is in conditional statements. First, we look at what kind of values evaluate to "True" or "False" in python. Anything that is "empty" usually evaluates to False, along with the integer 0 and the boolean value of False.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #8b0000;">for</span> value <span style="color: #8b0000;">in</span> (<span style="color: #228b22;">''</span>, 0, <span style="color: #8b0000;">None</span>, [], (), {}, <span style="color: #8b0000;">False</span>):
    <span style="color: #8b0000;">if</span> value:
        <span style="color: #8b0000;">print</span> value, <span style="color: #228b22;">"True"</span>
    <span style="color: #8b0000;">else:</span>
        <span style="color: #8b0000;">print</span> value, <span style="color: #228b22;">"False"</span>
</pre>
</div>

<pre class="example">
 False
0 False
None False
[] False
() False
{} False
False False
</pre>

<p>
Objects that are not empty evaluate to "True", along with numbers not equal to 0, and the boolean value True.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #8b0000;">for</span> value <span style="color: #8b0000;">in</span> (<span style="color: #228b22;">' '</span>, 2, 1, <span style="color: #228b22;">"a"</span>, [1], (3,), <span style="color: #8b0000;">True</span>):
    <span style="color: #8b0000;">if</span> value:
        <span style="color: #8b0000;">print</span> value, <span style="color: #228b22;">"True"</span>
    <span style="color: #8b0000;">else:</span>
        <span style="color: #8b0000;">print</span> value, <span style="color: #228b22;">"False"</span>
</pre>
</div>

<pre class="example">
  True
2 True
1 True
a True
[1] True
(3,) True
True True
</pre>

<p>
The <code>and</code> and <code>or</code> operators compare two objects. <code>and</code> evaluates to "True" if both objects evaluate to "True" and <code>or</code> evaluates to "True" if either object evaluates to "True". Here are some examples.
</p>

<div class="org-src-container">

<pre class="src src-python">a = <span style="color: #8b0000;">None</span>
b = 5

<span style="color: #8b0000;">if</span> a <span style="color: #8b0000;">and</span> b:
    <span style="color: #8b0000;">print</span> <span style="color: #8b0000;">True</span>
<span style="color: #8b0000;">else:</span>
    <span style="color: #8b0000;">print</span> <span style="color: #8b0000;">False</span>
</pre>
</div>

<pre class="example">
False
</pre>

<div class="org-src-container">

<pre class="src src-python">a = <span style="color: #8b0000;">None</span>
b = 5

<span style="color: #8b0000;">if</span> a <span style="color: #8b0000;">or</span> b:
    <span style="color: #8b0000;">print</span> <span style="color: #8b0000;">True</span>
<span style="color: #8b0000;">else:</span>
    <span style="color: #8b0000;">print</span> <span style="color: #8b0000;">False</span>
</pre>
</div>

<pre class="example">
True
</pre>

<p>
Now the interesting part. The <code>and</code> and <code>or</code> operators actually return values! With the <code>and</code> operator, each argument is evaluated, and if they all evaluate to True, the last argument is returned. Otherwise the first False argument is returned.
</p>

<div class="org-src-container">

<pre class="src src-python">a = 1
b = 5
<span style="color: #8b0000;">print</span> a <span style="color: #8b0000;">and</span> b
<span style="color: #8b0000;">print</span> b <span style="color: #8b0000;">and</span> a
<span style="color: #8b0000;">print</span> a <span style="color: #8b0000;">and</span> <span style="color: #8b0000;">False</span>
<span style="color: #8b0000;">print</span> a <span style="color: #8b0000;">and</span> <span style="color: #8b0000;">True</span>
<span style="color: #8b0000;">print</span> a <span style="color: #8b0000;">and</span> <span style="color: #8b0000;">None</span>
<span style="color: #8b0000;">print</span> <span style="color: #8b0000;">False</span> <span style="color: #8b0000;">and</span> a
<span style="color: #8b0000;">print</span> <span style="color: #8b0000;">None</span> <span style="color: #8b0000;">and</span> a
<span style="color: #8b0000;">print</span> <span style="color: #8b0000;">True</span> <span style="color: #8b0000;">and</span> <span style="color: #228b22;">'a'</span> <span style="color: #8b0000;">and</span> 0 <span style="color: #8b0000;">and</span> <span style="color: #8b0000;">True</span> <span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">first False item is zero</span>
</pre>
</div>

<pre class="example">
5
1
False
True
None
False
None
0
</pre>

<p>
The <code>or</code> operator returns the first True value or the last value if nothing is True. Note that if a True value is found, the values in the expressions after that value are not evaluated.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #8b0000;">print</span> 2 <span style="color: #8b0000;">or</span> <span style="color: #8b0000;">False</span>
<span style="color: #8b0000;">print</span> 0 <span style="color: #8b0000;">or</span> <span style="color: #8b0000;">False</span>
<span style="color: #8b0000;">print</span> 0 <span style="color: #8b0000;">or</span> <span style="color: #8b0000;">False</span> <span style="color: #8b0000;">or</span> 4 <span style="color: #8b0000;">or</span> {}
</pre>
</div>

<pre class="example">
2
False
4
</pre>

<p>
One way you might see this is to set variables depending on what command-line arguments were used in a script. For example:
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #8b0000;">import</span> sys

<span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">replace this:</span>
<span style="color: #8b0000;">if</span> <span style="color: #228b22;">'plot'</span> <span style="color: #8b0000;">in</span> sys.argv:
    PLOT = <span style="color: #8b0000;">True</span>
<span style="color: #8b0000;">else:</span>
    PLOT = <span style="color: #8b0000;">False</span>

<span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">with this</span>
PLOT = <span style="color: #228b22;">'plot'</span> <span style="color: #8b0000;">in</span> sys.argv <span style="color: #8b0000;">or</span> <span style="color: #8b0000;">False</span>

<span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">later in your code:</span>
<span style="color: #8b0000;">if</span> PLOT: 
    <span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">do something to make a plot</span>
</pre>
</div>

<p>
Now we get to the <a href="http://www.diveintopython.net/power_of_introspection/and_or.html">and-or</a> trick. The trick is to assign a variable one value if some boolean value is True, and another value if the expression is False. 
</p>

<div class="org-src-container">

<pre class="src src-python">a = <span style="color: #8b0000;">True</span>
b = <span style="color: #8b0000;">True</span>

<span style="color: #8b0000;">if</span> a <span style="color: #8b0000;">and</span> b:
    c = <span style="color: #228b22;">"value1"</span>
<span style="color: #8b0000;">else:</span> 
    c = <span style="color: #228b22;">"value2"</span>

<span style="color: #8b0000;">print</span> c
</pre>
</div>

<pre class="example">
value1
</pre>

<p>
We can replace the if/else code above with this one line expression:
</p>
<div class="org-src-container">

<pre class="src src-python">a = <span style="color: #8b0000;">True</span>
b = <span style="color: #8b0000;">True</span>

c = (a <span style="color: #8b0000;">and</span> b) <span style="color: #8b0000;">and</span> <span style="color: #228b22;">"value1"</span> <span style="color: #8b0000;">or</span> <span style="color: #228b22;">"value2"</span>
<span style="color: #8b0000;">print</span> c
</pre>
</div>

<pre class="example">
value1
</pre>

<p>
There is a problem. If the first value evaluates to False, you will not get what you expect:
</p>

<div class="org-src-container">

<pre class="src src-python">a = <span style="color: #8b0000;">True</span>
b = <span style="color: #8b0000;">True</span>

c = (a <span style="color: #8b0000;">and</span> b) <span style="color: #8b0000;">and</span> <span style="color: #8b0000;">None</span> <span style="color: #8b0000;">or</span> <span style="color: #228b22;">"value2"</span>
<span style="color: #8b0000;">print</span> c
</pre>
</div>

<pre class="example">
value2
</pre>

<p>
In this case, (a <code>and</code> b) evaluates to True, so we would expect the value of c to be the first value. However, None evaluates to False, so the <code>or</code> operator returns the first "True" value, which is the second value. We have to modify the code so that both the or arguments are True. We do this by putting both arguments inside a list, which will then always evaluate to True. This will assign the first list to c if the expression is True, and the second list if it is False. We wrap the whole thing in parentheses, and then index the returned list to get the contents of the list.
</p>

<div class="org-src-container">

<pre class="src src-python">a = <span style="color: #8b0000;">True</span>
b = <span style="color: #8b0000;">True</span>

c = ((a <span style="color: #8b0000;">and</span> b) <span style="color: #8b0000;">and</span> [<span style="color: #8b0000;">None</span>] <span style="color: #8b0000;">or</span> [<span style="color: #228b22;">"value2"</span>])[0]

<span style="color: #8b0000;">print</span> c
</pre>
</div>

<pre class="example">
None
</pre>

<div class="org-src-container">

<pre class="src src-python">a = <span style="color: #8b0000;">True</span>
b = <span style="color: #8b0000;">True</span>

c = (<span style="color: #8b0000;">not</span> (a <span style="color: #8b0000;">and</span> b) <span style="color: #8b0000;">and</span> [<span style="color: #8b0000;">None</span>] <span style="color: #8b0000;">or</span> [<span style="color: #228b22;">"value2"</span>])[0]

<span style="color: #8b0000;">print</span> c
</pre>
</div>

<pre class="example">
value2
</pre>

<p>
This is definitely a trick. I find the syntax difficult to read, especially compared to the more verbose if/else statements. It is interesting though, and there might be places where the return value of the boolean operators might be useful, now that you know you can get them.
</p>

<p>
Here is a tough example of using this to update a dictionary entry. Previously we used a dictionary to <a href="http://jkitchin.github.io/blog/2013/05/29/Getting-a-dictionary-of-counts/">count</a> unique entries in a list. 
</p>
<div class="org-src-container">

<pre class="src src-python">d = {}

d[<span style="color: #228b22;">'key'</span>] = (d.get(<span style="color: #228b22;">'key'</span>, <span style="color: #8b0000;">None</span>) <span style="color: #8b0000;">and</span> [d[<span style="color: #228b22;">'key'</span>] + 1] <span style="color: #8b0000;">or</span> [1])[0]

<span style="color: #8b0000;">print</span> d

d[<span style="color: #228b22;">'key'</span>] = (d.get(<span style="color: #228b22;">'key'</span>, <span style="color: #8b0000;">None</span>) <span style="color: #8b0000;">and</span> [d[<span style="color: #228b22;">'key'</span>] + 1] <span style="color: #8b0000;">or</span> [1])[0]
<span style="color: #8b0000;">print</span> d
</pre>
</div>

<pre class="example">
{'key': 1}
{'key': 2}
</pre>

<p>
This works because the .get function on a dictionary returns None if the key does not exist, resulting in assigning the value of 1 to that key, or it returns something that evaluates to True if the key does exist, so the key gets incremented. 
</p>

<p>
Let us see this trick in action. Before we used if/else statements to achieve our goal, checking if the key is in the dictionary and incrementing by one if it is, and if not, setting the key to 1.
</p>

<div class="org-src-container">

<pre class="src src-python">L = [<span style="color: #228b22;">'a'</span>, <span style="color: #228b22;">'a'</span>, <span style="color: #228b22;">'b'</span>,<span style="color: #228b22;">'d'</span>, <span style="color: #228b22;">'e'</span>, <span style="color: #228b22;">'b'</span>, <span style="color: #228b22;">'e'</span>, <span style="color: #228b22;">'a'</span>]

<span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">old method</span>
d = {}
<span style="color: #8b0000;">for</span> el <span style="color: #8b0000;">in</span> L:
    <span style="color: #8b0000;">if</span> el <span style="color: #8b0000;">in</span> d:
        d[el] += 1
    <span style="color: #8b0000;">else:</span>
        d[el] = 1

<span style="color: #8b0000;">print</span> d
</pre>
</div>

<pre class="example">
{'a': 3, 'b': 2, 'e': 2, 'd': 1}
</pre>

<p>
Here is the new method:
</p>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">new method:</span>
L = [<span style="color: #228b22;">'a'</span>, <span style="color: #228b22;">'a'</span>, <span style="color: #228b22;">'b'</span>,<span style="color: #228b22;">'d'</span>, <span style="color: #228b22;">'e'</span>, <span style="color: #228b22;">'b'</span>, <span style="color: #228b22;">'e'</span>, <span style="color: #228b22;">'a'</span>]
d = {}
<span style="color: #8b0000;">for</span> el <span style="color: #8b0000;">in</span> L:
    d[el] = (d.get(el, <span style="color: #8b0000;">None</span>) <span style="color: #8b0000;">and</span> [d[el] + 1] <span style="color: #8b0000;">or</span> [1])[0]
<span style="color: #8b0000;">print</span> d
</pre>
</div>

<pre class="example">
{'a': 3, 'b': 2, 'e': 2, 'd': 1}
</pre>

<p>
We have in (an admittedly hard to read) a single single line replaced the if/else statement! I have for a long time thought this should possible. I am somewhat disappointed that it is not easier to read though.
</p>


<p>
<b>Update 7/8/2013</b>
</p>
<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Using more modern python syntax than the and-or trick</h2>
<div class="outline-text-2" id="text-1">
<p>
@<sub>Mark</sub>_ pointed out in a comment the <a href="http://docs.python.org/2/reference/expressions.html#conditional-expressions">more modern syntax</a> in python is "value1" if a else "value2". Here is how it works.
</p>

<div class="org-src-container">

<pre class="src src-python">a = <span style="color: #8b0000;">True</span>
c = <span style="color: #228b22;">"value1"</span> <span style="color: #8b0000;">if</span> a <span style="color: #8b0000;">else</span> <span style="color: #228b22;">"value2"</span>
<span style="color: #8b0000;">print</span> c
</pre>
</div>

<pre class="example">
value1
</pre>

<div class="org-src-container">

<pre class="src src-python">a = <span style="color: #228b22;">''</span>
c = <span style="color: #228b22;">"value1"</span> <span style="color: #8b0000;">if</span> a <span style="color: #8b0000;">else</span> <span style="color: #228b22;">"value2"</span>
<span style="color: #8b0000;">print</span> c
</pre>
</div>

<pre class="example">
value2
</pre>

<p>
This is indeed very clean to read. This leads to a cleaner and easier to read implementation of the counting code.
</p>

<div class="org-src-container">

<pre class="src src-python">L = [<span style="color: #228b22;">'a'</span>, <span style="color: #228b22;">'a'</span>, <span style="color: #228b22;">'b'</span>,<span style="color: #228b22;">'d'</span>, <span style="color: #228b22;">'e'</span>, <span style="color: #228b22;">'b'</span>, <span style="color: #228b22;">'e'</span>, <span style="color: #228b22;">'a'</span>]
d = {}
<span style="color: #8b0000;">for</span> el <span style="color: #8b0000;">in</span> L:
    d[el] = (d[el] + 1) <span style="color: #8b0000;">if</span> (el <span style="color: #8b0000;">in</span> d) <span style="color: #8b0000;">else</span> 1
<span style="color: #8b0000;">print</span> d
</pre>
</div>

<pre class="example">
{'a': 3, 'b': 2, 'e': 2, 'd': 1}
</pre>

<p>
See the next section for an even cleaner implementation.
</p>
</div>
</div>
<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> using defaultdict</h2>
<div class="outline-text-2" id="text-2">
<p>
@<sub>Mark</sub>_ also suggested the use of <a href="http://docs.python.org/2/library/collections.html#collections.defaultdict">defaultdict</a> for the counting code. That is pretty concise! It is not obvious that the default value is equal to zero, but int() returns zero. This is much better than the and-or trick.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #8b0000;">from</span> collections <span style="color: #8b0000;">import</span> defaultdict
<span style="color: #8b0000;">print</span> int()

L = [<span style="color: #228b22;">'a'</span>, <span style="color: #228b22;">'a'</span>, <span style="color: #228b22;">'b'</span>,<span style="color: #228b22;">'d'</span>, <span style="color: #228b22;">'e'</span>, <span style="color: #228b22;">'b'</span>, <span style="color: #228b22;">'e'</span>, <span style="color: #228b22;">'a'</span>]
d = defaultdict(int)
<span style="color: #8b0000;">for</span> el <span style="color: #8b0000;">in</span> L:
    d[el] += 1
<span style="color: #8b0000;">print</span> d
</pre>
</div>

<pre class="example">
0
defaultdict(&lt;type 'int'&gt;, {'a': 3, 'b': 2, 'e': 2, 'd': 1})
</pre>
</div>
</div>
<p>Copyright (C) 2013 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2013/07/07/The-and-or-trick-in-python.org">org-mode source</a><p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <div class="after_post"><a href="http://jkitchin.github.io/blog/2013/07/07/The-and-or-trick-in-python#disqus_thread">Read and Post Comments</a></div>
  <hr class="interblog" />
  





<article>
  <div class="blog_post">
    <header>
      <div id="Memoizing-instance-methods-in-a-class"></div>
      <h2 class="blog_post_title"><a href="/blog/2013/06/26/Memoizing-instance-methods-in-a-class/" rel="bookmark" title="Permanent Link to Memoizing instance methods in a class">Memoizing instance methods in a class</a></h2>
      <p><small><span class="blog_post_date">Posted June 26, 2013 at 06:32 PM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/programming/'>programming</a></span> | tags: 
        | <a href="http://jkitchin.github.io/blog/2013/06/26/Memoizing-instance-methods-in-a-class#disqus_thread">View Comments</a>
      <p><small><span class="blog_post_date">Updated June 28, 2013 at 07:10 PM</span>
      </small></p>
    </header>
    <div class="post_prose">
      



<p>
Suppose you have a module that you import a class from, and the class defines some methods that you want to memoize. You do not want to modify the source code, maybe because it is not your code, or because you do not want to maintain it, etc&#x2026; Here is one way to modify the class functions at runtime. We will use the memoize decorator and replace the class function definition with the wrapped function that caches the results. We also allow arbitrary arguments and keyword arguments. A subtle wrinkle here is that you cannot use a dictionary as a key to a dictionary because dictionaries are not hashable. We use the pickle module to created a string that should uniquely represent the args and keyword args, and we use that string as the key.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #8b0000;">class</span> <span style="color: #4682b4;">Calculator</span>:
    <span style="color: #8b0000;">def</span> <span style="color: #8b2323;">__init__</span>(<span style="color: #8b0000;">self</span>):
        <span style="color: #8b0000;">pass</span>

    <span style="color: #8b0000;">def</span> <span style="color: #8b2323;">calculate</span>(<span style="color: #8b0000;">self</span>, a):
        <span style="color: #228b22;">'returns the answer to everything'</span>
        <span style="color: #8b0000;">return</span> 42

    <span style="color: #8b0000;">def</span> <span style="color: #8b2323;">method_2</span>(<span style="color: #8b0000;">self</span>, *args, **kwargs):
        <span style="color: #8b0000;">return</span> (args, kwargs)


<span style="color: #8b0000;">import</span> pickle

<span style="color: #8b0000;">from</span> functools <span style="color: #8b0000;">import</span> wraps
<span style="color: #8b0000;">def</span> <span style="color: #8b2323;">memoize</span>(func):
    cache = {}
    <span style="color: #8b0000;">@wraps</span>(func)
    <span style="color: #8b0000;">def</span> <span style="color: #8b2323;">wrap</span>(*args,**kwargs):
        key = pickle.dumps((args, kwargs))
        <span style="color: #8b0000;">if</span> key <span style="color: #8b0000;">not</span> <span style="color: #8b0000;">in</span> cache:
            <span style="color: #8b0000;">print</span> <span style="color: #228b22;">'Running func with '</span>, args
            cache[key] = func(*args, **kwargs)
        <span style="color: #8b0000;">else:</span>
            <span style="color: #8b0000;">print</span> <span style="color: #228b22;">'result in cache'</span>
        <span style="color: #8b0000;">return</span> cache[key]
    <span style="color: #8b0000;">return</span> wrap

<span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">now monkey patch/decorate the class function</span>
Calculator.calculate = memoize(Calculator.calculate)
Calculator.method_2 = memoize(Calculator.method_2)

calc = Calculator()
<span style="color: #8b0000;">print</span> calc.calculate(3)
<span style="color: #8b0000;">print</span> calc.calculate(3)
<span style="color: #8b0000;">print</span> calc.calculate(4)
<span style="color: #8b0000;">print</span> calc.calculate(3)


<span style="color: #8b0000;">print</span> calc.method_2()
<span style="color: #8b0000;">print</span> calc.method_2()

<span style="color: #8b0000;">print</span> calc.method_2(1,2)
<span style="color: #8b0000;">print</span> calc.method_2(1,2)

<span style="color: #8b0000;">print</span> calc.method_2(1,2,a=5)
<span style="color: #8b0000;">print</span> calc.method_2(1,2,a=5)
</pre>
</div>

<pre class="example">
Running func with  (&lt;__main__.Calculator instance at 0x0000000001E9B3C8&gt;, 3)
42
result in cache
42
Running func with  (&lt;__main__.Calculator instance at 0x0000000001E9B3C8&gt;, 4)
42
result in cache
42
Running func with  (&lt;__main__.Calculator instance at 0x0000000001E9B3C8&gt;,)
((), {})
result in cache
((), {})
Running func with  (&lt;__main__.Calculator instance at 0x0000000001E9B3C8&gt;, 1, 2)
((1, 2), {})
result in cache
((1, 2), {})
Running func with  (&lt;__main__.Calculator instance at 0x0000000001E9B3C8&gt;, 1, 2)
((1, 2), {'a': 5})
result in cache
((1, 2), {'a': 5})
</pre>

<p>
This particular memoize decorator is not persistent; the data is only stored in memory. You would have to write the data out to a file and reread the file to make it persistent.
</p>

<p>
It is not obvious this practice is good; you have in essence changed the behavior of the original function in a way that may be hard to debug, and could conceivably be incompatible with the documentation of the function.
</p>

<p>
An alternative approach is writing another function that wraps the code you want, and memoize that function.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #8b0000;">class</span> <span style="color: #4682b4;">Calculator</span>:
    <span style="color: #8b0000;">def</span> <span style="color: #8b2323;">__init__</span>(<span style="color: #8b0000;">self</span>):
        <span style="color: #8b0000;">pass</span>

    <span style="color: #8b0000;">def</span> <span style="color: #8b2323;">calculate</span>(<span style="color: #8b0000;">self</span>, a):
        <span style="color: #228b22;">'returns the answer to everything'</span>
        <span style="color: #8b0000;">return</span> 42



<span style="color: #8b0000;">from</span> functools <span style="color: #8b0000;">import</span> wraps
<span style="color: #8b0000;">def</span> <span style="color: #8b2323;">memoize</span>(func):
    cache = {}
    <span style="color: #8b0000;">@wraps</span>(func)
    <span style="color: #8b0000;">def</span> <span style="color: #8b2323;">wrap</span>(*args):
        <span style="color: #8b0000;">if</span> args <span style="color: #8b0000;">not</span> <span style="color: #8b0000;">in</span> cache:
            <span style="color: #8b0000;">print</span> <span style="color: #228b22;">'Running func with '</span>, args
            cache[args] = func(*args)
        <span style="color: #8b0000;">else:</span>
            <span style="color: #8b0000;">print</span> <span style="color: #228b22;">'result in cache'</span>
        <span style="color: #8b0000;">return</span> cache[args]
    <span style="color: #8b0000;">return</span> wrap

calc = Calculator()

<span style="color: #8b0000;">@memoize</span>
<span style="color: #8b0000;">def</span> <span style="color: #8b2323;">my_calculate</span>(a):
    <span style="color: #8b0000;">return</span> calc.calculate(a)

<span style="color: #8b0000;">print</span> my_calculate(3)
<span style="color: #8b0000;">print</span> my_calculate(3)
<span style="color: #8b0000;">print</span> my_calculate(4)
<span style="color: #8b0000;">print</span> my_calculate(3)
</pre>
</div>

<pre class="example">
Running func with  (3,)
42
result in cache
42
Running func with  (4,)
42
result in cache
42
</pre>

<p>
It is debatable whether this is cleaner. One argument for this is that it does not monkey with the original code at all.
</p>
<p>Copyright (C) 2013 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2013/06/26/Memoizing-instance-methods-in-a-class.org">org-mode source</a><p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <div class="after_post"><a href="http://jkitchin.github.io/blog/2013/06/26/Memoizing-instance-methods-in-a-class#disqus_thread">Read and Post Comments</a></div>
  <hr class="interblog" />
  





<article>
  <div class="blog_post">
    <header>
      <div id="Memoizing-expensive-functions-in-python-and-saving-results"></div>
      <h2 class="blog_post_title"><a href="/blog/2013/06/20/Memoizing-expensive-functions-in-python-and-saving-results/" rel="bookmark" title="Permanent Link to Memoizing expensive functions in python and saving results">Memoizing expensive functions in python and saving results</a></h2>
      <p><small><span class="blog_post_date">Posted June 20, 2013 at 01:29 PM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/programming/'>programming</a></span> | tags: 
        | <a href="http://jkitchin.github.io/blog/2013/06/20/Memoizing-expensive-functions-in-python-and-saving-results#disqus_thread">View Comments</a>
      </small></p>
    </header>
    <div class="post_prose">
      



<p>
Sometimes a function is expensive (time-consuming) to run, and you would like to save all the results of the function having been run to avoid having to rerun them. This is called <a href="http://en.wikipedia.org/wiki/Memoization">memoization</a>. A wrinkle on this problem is to save the results in a file so that later you can come back to a function and not have to run simulations over again.
</p>

<p>
In python, a good way to do this is to "decorate" your function. This way, you write the function to do what you want, and then "decorate" it. The decoration wraps your function and in this case checks if the arguments you passed to the function are already stored in the cache. If so, it returns the result, if not it runs the function. The memoize decorator below was adapted from <a href="http://stackoverflow.com/questions/4669391/python-anyone-have-a-memoizing-decorator-that-can-handle-unhashable-arguments">here</a>.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #8b0000;">from</span> functools <span style="color: #8b0000;">import</span> wraps
<span style="color: #8b0000;">def</span> <span style="color: #8b2323;">memoize</span>(func):
    cache = {}
    <span style="color: #8b0000;">@wraps</span>(func)
    <span style="color: #8b0000;">def</span> <span style="color: #8b2323;">wrap</span>(*args):
        <span style="color: #8b0000;">if</span> args <span style="color: #8b0000;">not</span> <span style="color: #8b0000;">in</span> cache:
            <span style="color: #8b0000;">print</span> <span style="color: #228b22;">'Running func'</span>
            cache[args] = func(*args)
        <span style="color: #8b0000;">else:</span>
            <span style="color: #8b0000;">print</span> <span style="color: #228b22;">'result in cache'</span>
        <span style="color: #8b0000;">return</span> cache[args]
    <span style="color: #8b0000;">return</span> wrap

<span style="color: #8b0000;">@memoize</span>
<span style="color: #8b0000;">def</span> <span style="color: #8b2323;">myfunc</span>(a):
    <span style="color: #8b0000;">return</span> a**2

<span style="color: #8b0000;">print</span> myfunc(2)
<span style="color: #8b0000;">print</span> myfunc(2)

<span style="color: #8b0000;">print</span> myfunc(3)
<span style="color: #8b0000;">print</span> myfunc(2)
</pre>
</div>

<pre class="example">
Running func
4
result in cache
4
Running func
9
result in cache
4
</pre>

<p>
The example above shows the principle, but each time you run that script you start from scratch. If those were expensive calculations that would not be desirable. Let us now write out the cache to a file. We use a simple pickle file to store the results. 
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #8b0000;">import</span> os, pickle
<span style="color: #8b0000;">from</span> functools <span style="color: #8b0000;">import</span> wraps
<span style="color: #8b0000;">def</span> <span style="color: #8b2323;">memoize</span>(func):
    <span style="color: #8b0000;">if</span> os.path.exists(<span style="color: #228b22;">'memoize.pkl'</span>):
        <span style="color: #8b0000;">print</span> <span style="color: #228b22;">'reading cache file'</span>
        <span style="color: #8b0000;">with</span> <span style="color: #8b0000;">open</span>(<span style="color: #228b22;">'memoize.pkl'</span>) <span style="color: #8b0000;">as</span> f:
            cache = pickle.load(f)
    <span style="color: #8b0000;">else:</span>
        cache = {}
    <span style="color: #8b0000;">@wraps</span>(func)
    <span style="color: #8b0000;">def</span> <span style="color: #8b2323;">wrap</span>(*args):
        <span style="color: #8b0000;">if</span> args <span style="color: #8b0000;">not</span> <span style="color: #8b0000;">in</span> cache:
            <span style="color: #8b0000;">print</span> <span style="color: #228b22;">'Running func'</span>
            cache[args] = func(*args)
            <span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">update the cache file</span>
            <span style="color: #8b0000;">with</span> <span style="color: #8b0000;">open</span>(<span style="color: #228b22;">'memoize.pkl'</span>, <span style="color: #228b22;">'wb'</span>) <span style="color: #8b0000;">as</span> f:
                pickle.dump(cache, f)
        <span style="color: #8b0000;">else:</span>
            <span style="color: #8b0000;">print</span> <span style="color: #228b22;">'result in cache'</span>
        <span style="color: #8b0000;">return</span> cache[args]
    <span style="color: #8b0000;">return</span> wrap

<span style="color: #8b0000;">@memoize</span>
<span style="color: #8b0000;">def</span> <span style="color: #8b2323;">myfunc</span>(a):
    <span style="color: #8b0000;">return</span> a**2


<span style="color: #8b0000;">print</span> myfunc(2)
<span style="color: #8b0000;">print</span> myfunc(2)

<span style="color: #8b0000;">print</span> myfunc(3)
<span style="color: #8b0000;">print</span> myfunc(2)
</pre>
</div>

<pre class="example">
reading cache file
result in cache
4
result in cache
4
result in cache
9
result in cache
4
</pre>

<p>
Now you can see if we run this script a few times, the results are read from the cache file.
</p>
<p>Copyright (C) 2013 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2013/06/20/Memoizing-expensive-functions-in-python-and-saving-results.org">org-mode source</a><p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <div class="after_post"><a href="http://jkitchin.github.io/blog/2013/06/20/Memoizing-expensive-functions-in-python-and-saving-results#disqus_thread">Read and Post Comments</a></div>
  <hr class="interblog" />
  





<article>
  <div class="blog_post">
    <header>
      <div id="Using-an-external-solver-with-Aspen"></div>
      <h2 class="blog_post_title"><a href="/blog/2013/06/17/Using-an-external-solver-with-Aspen/" rel="bookmark" title="Permanent Link to Using an external solver with Aspen">Using an external solver with Aspen</a></h2>
      <p><small><span class="blog_post_date">Posted June 17, 2013 at 09:49 AM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/programming/'>programming</a></span> | tags: <a href='/blog/tag/aspen/'>aspen</a>
        | <a href="http://jkitchin.github.io/blog/2013/06/17/Using-an-external-solver-with-Aspen#disqus_thread">View Comments</a>
      </small></p>
    </header>
    <div class="post_prose">
      



<p>
One reason to interact with Aspen via python is to use external solvers to drive the simulations. Aspen has some built-in solvers, but it does not have everything. You may also want to integrate additional calculations, e.g. capital costs, water usage, etc&#x2026; and integrate those results into a report. 
</p>

<p>
Here is a simple example where we use fsolve to find the temperature of the flash tank that will give a vapor phase mole fraction of ethanol of 0.8. It is a simple example, but it illustrates the possibility.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #8b0000;">import</span> os
<span style="color: #8b0000;">import</span> win32com.client <span style="color: #8b0000;">as</span> win32
aspen = win32.Dispatch(<span style="color: #228b22;">'Apwn.Document'</span>)

aspen.InitFromArchive2(os.path.abspath(<span style="color: #228b22;">'data\Flash_Example.bkp'</span>))

<span style="color: #8b0000;">from</span> scipy.optimize <span style="color: #8b0000;">import</span> fsolve

<span style="color: #8b0000;">def</span> <span style="color: #8b2323;">func</span>(flashT):
    flashT = <span style="color: #8b0000;">float</span>(flashT) <span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">COM objects do not understand numpy types</span>
    aspen.Tree.FindNode(<span style="color: #228b22;">'\Data\Blocks\FLASH\Input\TEMP'</span>).Value = flashT
    aspen.Engine.Run2()
    y = aspen.Tree.FindNode(<span style="color: #228b22;">'\Data\Streams\VAPOR\Output\MOLEFRAC\MIXED\ETHANOL'</span>).Value
    <span style="color: #8b0000;">return</span> y - 0.8

sol, = fsolve(func, 150.0)
<span style="color: #8b0000;">print</span> <span style="color: #228b22;">'A flash temperature of {0:1.2f} degF will have y_ethanol = 0.8'</span>.format(sol)
</pre>
</div>

<pre class="example">
A flash temperature of 157.38 degF will have y_ethanol = 0.8
</pre>

<p>
One unexpected detail was that the Aspen COM objects cannot be assigned numpy number types, so it was necessary to recast the argument as a float. Otherwise, this worked about as expected for an fsolve problem.
</p>
<p>Copyright (C) 2013 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2013/06/17/Using-an-external-solver-with-Aspen.org">org-mode source</a><p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <div class="after_post"><a href="http://jkitchin.github.io/blog/2013/06/17/Using-an-external-solver-with-Aspen#disqus_thread">Read and Post Comments</a></div>
  <hr class="interblog" />
 <a href="/blog/category/programming/2">Next Page »</a>

          </div>
          <div id="sidebar" class="grid_4">
            <aside>
<section>
<script>
  (function() {
    var cx = '002533177287215655227:l7uvu35ssbc';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</section>

<section>
    <h1 class="post_header_gradient theme_font">Twitter</h1>
    <a class="twitter-timeline" href="https://twitter.com/johnkitchin" data-widget-id="545217643582881792">Tweets by @johnkitchin</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</section>


  <section>
    <h1 class="post_header_gradient theme_font">Links</h1>
    <ul>
      <li><a href="https://www.continuum.io">Anaconda Python</a></li>
      <li><a href="/pycse">Pycse</a></li>
      <li><a href="/dft-book">DFT-book</a></li>
    </ul>
  </section>

  <section>
    <h1 class="post_header_gradient theme_font">Latest Posts</h1>
    <ul>
      <li><a href="/blog/2018/01/27/New-publication-in-Topics-in-Catalysis/">New publication in Topics in Catalysis</a></li>
      <li><a href="/blog/2018/01/03/New-publication-in-Molecular-Simulation/">New publication in Molecular Simulation</a></li>
      <li><a href="/blog/2017/12/31/2017-in-a-nutshell-for-the-Kitchin-Research-group/">2017 in a nutshell for the Kitchin Research group</a></li>
      <li><a href="/blog/2017/11/29/Solving-an-eigenvalue-differential-equation-with-a-neural-network/">Solving an eigenvalue differential equation with a neural network</a></li>
      <li><a href="/blog/2017/11/28/Solving-ODEs-with-a-neural-network-and-autograd/">Solving ODEs with a neural network and autograd</a></li>
    </ul>
  </section>

<section>
<h1 class="post_header_gradient theme_font">Latest GitHub Repos</h1>
  <a href="https://github.com/jkitchin">@jkitchin</a> on GitHub.
  <ul id="my-github-projects">
        <li class="loading">Status updating&#8230;</li>
  </ul>

</section>
</aside>

          </div>
          <div class="clear"></div>
        </div>
      </div>
      
<footer>
  <div id="footer" class="grid_12">
    <div class="grid_8">
      <p>
        <a href="/blog/feed/index.xml">RSS</a>
        <a href="http://kitchinresearchgroup.disqus.com/latest.rss">Comments RSS Feed</a>.
      </p>
    </div>
    <div class="grid_4" id="credits">
      <p>
        Copyright 2018
        John Kitchin
      </p>
      <p>
        Powered by <a href="http://www.blogofile.com">Blogofile</a>
      </p>
    </div>
  </div>
</footer>

    </div>
      <script src="//ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/js/libs/jquery-1.5.1.min.js"%3E%3C/script%3E'))</script>
  <script src="/js/plugins.js"></script>
  <script src="/js/script.js"></script>
  <script src="/js/jquery.tweet.js"></script>  
  <script src="/js/site.js"></script>
  <!--[if lt IE 7 ]>
  <script src="js/libs/dd_belatedpng.js"></script>
  <script> DD_belatedPNG.fix('img, .png_bg');</script>
  <![endif]-->
  <script>
      var _gaq=[['_setAccount','UA-35731398-1'],['_trackPageview']];
      (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.async=1;
      g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
      s.parentNode.insertBefore(g,s)}(document,'script'));
  </script>
  <script>
  (function() {
      var links = document.getElementsByTagName('a');
      var query = '?';
      for(var i = 0; i < links.length; i++) {
          if(links[i].href.indexOf('#disqus_thread') >= 0) {
              query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&';
          }
      }
      document.write('<script charset="utf-8" type="text/javascript" src="http://disqus.com/forums/kitchinresearchgroup/get_num_replies.js' + query + '"></' + 'script>');
  })();
  </script>

  </body>
</html>






<script src="http://ajax.microsoft.com/ajax/jquery/jquery-1.4.2.min.js" type="text/javascript"></script>
<script src="/js/git.js" type="text/javascript"></script>
<script type="text/javascript">
    $(function() {
     $("#my-github-projects").loadRepositories("jkitchin");
    });
</script>



