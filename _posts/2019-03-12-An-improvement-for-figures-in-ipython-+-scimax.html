---
title: An improvement for figures in ipython + scimax
date: 2019/03/12 14:18:26
updated: 2019/03/12 15:15:45
categories: ipython
tags: 
---


<p>
One of the best features of ipython in scimax is automatic inline images that you do not have to name. This has had a downside though, and that is it is not easy to use this <i>and</i> put attributes like names (so you can reference them later) or captions, or if you want a specific filename to get that. No more. Now you can use the <code>:ipyfile</code> header argument to control these. For example, if you use this in the header of the next block, it will save the images into the filenames you specified (in the order they are defined), and add attributes to the output. The syntax is just a list of plists (in elispese).
</p>

<pre class="example">
:ipyfile '((:name "clockwise" :filename "obipy-resources/clockwise.png" :caption "A clockwise spiral.") (:name "counterclockwise" :filename "obipy-resources/counterclockwise.png" :caption "A counterclockwise spiral."))
</pre>

<p>
That allows you to refer to the clockwise one in Figure <a href="#clockwise">clockwise</a> and the counterclockwise in Fig.  <a href="#counterclockwise">counterclockwise</a>. That may be helpful when using Ipython to write papers or for presentations where you might prefer named figures that are easy to find. Enjoy!
</p>

<div class="org-src-container">
<pre class="src src-ipython">%matplotlib inline
<span style="color: #0000FF;">import</span> matplotlib.pyplot <span style="color: #0000FF;">as</span> plt
<span style="color: #0000FF;">import</span> numpy <span style="color: #0000FF;">as</span> np

<span style="color: #BA36A5;">t</span> = np.linspace(0, 20 * np.pi, 350)
<span style="color: #BA36A5;">x</span> = np.exp(-0.1 * t) * np.sin(t)
<span style="color: #BA36A5;">y</span> = np.exp(-0.1 * t) * np.cos(t)

plt.plot(x, y)
plt.axis(<span style="color: #008000;">'equal'</span>)

plt.figure()
plt.plot(y, x)

plt.axis(<span style="color: #008000;">'equal'</span>)

<span style="color: #0000FF;">print</span>(<span style="color: #008000;">'Length of t = {}'</span>.<span style="color: #006FE0;">format</span>(<span style="color: #006FE0;">len</span>(t)))
<span style="color: #0000FF;">print</span>(<span style="color: #008000;">'x .dot. y = {}'</span>.<span style="color: #006FE0;">format</span>(x @ y))
</pre>
</div>

<p>
Length of t = 350
x .dot. y = 1.3598389888491538
</p>



<p>
<figure><img src="/media/clockwise.png"><figcaption>A clockwise spiral.</figcaption></figure> 
</p>



<p>
<figure><img src="/media/counterclockwise.png"><figcaption>A counterclockwise spiral.</figcaption></figure> 
</p>
<p>Copyright (C) 2019 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p>
<p><a href="/org/2019/03/12/An-improvement-for-figures-in-ipython-+-scimax.org">org-mode source</a></p>
<p>Org-mode version = 9.2.1</p>